#!/bin/bash
# author Adam Banaszkiewicz

if [ -z "$1" ]
then
    action="-"
else
    action="$1"
fi

composeFile="../tulia-cms-docker/docker-compose.yml"
workdir="/var/www/html"

function docker_execute() {
    docker exec -it --workdir="$workdir" tulia_www $1
}



if [ $action = 'gulp:install' ]
then
    workdir="$workdir/tuliacms/extension/theme/$2/Resources/public"
    cmd="npm install"
    docker_execute "$cmd"
elif [ $action = 'gulp' ]
then
    workdir="$workdir/tuliacms/extension/theme/$2/Resources/public"
    cmd="gulp ${@:3}"
    docker_execute "$cmd"
else
    echo "Command not supported :("
fi
