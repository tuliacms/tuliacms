{"version":3,"sources":["TuliaEditor.js","EventDispatcher.js","ListenersRegistrator.js","Container.js","Catalogue.js","Translator.js","LanguageCodeResolver.js","PropertyAccessor.js","CanvasSize.js","EditControls.js","ChangeCanvasSize.js","ChangeCanvasBreakpoint.js","Layout.js","Canvas.js","Modal.js","Modals.js","Renderer.js","CanvasSizeWatcher.js","Collector.js","AbstractControl.js","RangeSliderControl.js","TextareaControl.js","TextControl.js","SelectControl.js","Group.js","Controls.js","PrepareDocument.js","SelectedActions.js","SectionContextMenu.js","RowContextMenu.js","BlockContextMenu.js","RowEditControls.js","ColumnEditControls.js","InsertElement.js","RemoveElement.js","ReplaceWholeStructure.js","UpdateColumnPreview.js","Exporter.js","SectionManipulator.js","RowManipulator.js","BlockManipulator.js","Document.js","StructureEntityDataAccessor.js","ColumnWidthControl.js","Structure.js","AbstractEntity.js","Section.js","Row.js","Column.js","Block.js","Size.js","SizeCollection.js","SourceParser.js","BlockDuplicator.js","Grid.js","RendererFactory.js","SectionRenderer.js","RowRenderer.js","ColumnRenderer.js","BlockRenderer.js","NodesStorage.js","FrameworkProvider.js","AbstractFramework.js","AbstractSizeProvider.js","Bootstrap5Framework.js","SizeProvider.js","Breakpoint.js","ColumnSizeProvider.js","SelectedBlockExecutor.js","UpdateBlockPreview.js","AbstractBlock.js","TextBlock.js","HeadingBlock.js","ImageBlock.js","HtmlBlock.js","TestBlock.js","BlocksRegistry.js","BlockPicker.js","Hover.js","Selection.js","Action.js","Actions.js","CollectSelectedActions.js","ExecuteSelectedAction.js","InitSelection.js","SelectionVisibility.js","SelectionDisabler.js","UpdateSelectionPosition.js","UpdateHoverPosition.js","SelectElement.js","HoverElement.js","Initiator.js","ElementBoundaries.js","CanvasEvents.js","VisibilityChange.js","Builder.js","Manager.js","Item.js","Menu.js","View.js","DocumentElementResolver.js","EditorRepository.js","AbstractEditor.js","ContenteditableEditor.js","SummernoteEditor.js","Editor.js","StructureContentAccessor.js","EditorPublisher.js","PreviewUpdater.js","PreviewCreator.js","UpdatePreview.js","PreparePreview.js","OpenEditor.js","Preview.js","services.shared.js","services.editor.js","services.contextmenu.js","services.content-editor.js","services.selection.js","services.block.js","services.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC3NA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AClEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACnCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACpIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACrBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACxDA;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC1DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACpBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC7CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACpBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AFpBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AG5BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACrHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC7FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACvDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AClCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;APvGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AG1CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACxCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AInCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AFvDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ADpDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AIhGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACnCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AClIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC3CA;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACnBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACvBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC5EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC3CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACzCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACtJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACtEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACrEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACtFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACvCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACrCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACjBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACjBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACjBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC5BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC5GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACvDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACnEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AChHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC9GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC3BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AFvEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AGnOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACjUA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AJjBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AKxBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AClDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACnDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC3DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACxCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACdA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC3CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACxFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AZ9BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AanCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACrJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACrCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC/BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC/BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC3DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC/BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC/DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AClDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC9BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC1CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC1BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC3DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACpBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A1D/CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A2DbA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACvBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AChBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACxFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACrDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACzHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AClHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC/CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC3DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACzDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAtDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACjEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC7DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A7DzGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A8D1BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AChBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACnBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACtEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACtBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACjBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACxBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC1BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC9CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AChCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACxBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACxBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AZjBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AD9FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC/CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ADnIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;Ac5DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACpCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACrCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC9BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACvEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACnDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACtCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AH/DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AIhDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AClEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACtCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACnCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACjCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AClEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC1DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACvGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACxBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AFrDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AG5BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACxBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACjBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACbA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AChBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;APpBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AQrBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AClDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACxBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AChEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC3CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACjEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC3KA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC7CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"../config/tulia-editor.min.js","sourcesContent":["const TuliaEditor = function (selector, options) {\n    const container = new TuliaEditor.Shared.DependencyInjection.Container(TuliaEditor.services);\n\n    container.set('TuliaEditor.Shared.DependencyInjection.Container', container);\n    container.set('editor', this);\n    container.set('options', $.extend({}, true, TuliaEditor.defaults, options));\n    container.set('root', $(selector));\n\n    container.get('TuliaEditor.Shared.EventDispatcher.ListenersRegistrator').registerListeners();\n\n    let initiable = container.getTaggedServices('initiable');\n\n    for (let i = 0; i < initiable.length; i++) {\n        let service = container.get(initiable[i].service);\n\n        if (typeof(service.init) !== 'function') {\n            throw new Error('Initialable service \"' + initiable[i].service + '\" has not an \"init\" function.');\n        }\n\n        service.init();\n    }\n\n    container.get('TuliaEditor.Shared.EventDispatcher.EventDispatcher').dispatch('editor.ready', this);\n};\n\n/**\n * @type {String}\n */\nTuliaEditor.version = '0.0.1-dev.1';\n\n/**\n * Store all configurations of the Editor.\n * @type {Object}\n */\nTuliaEditor.services = {};\n\n/**\n * Default configuration options for editor.\n * @type {Object}\n */\nTuliaEditor.defaults = {\n    /**\n     * Content to render in the editor.\n     */\n    data: {},\n    /**\n     * CCC Framework to use in the editor.\n     */\n    framework: 'bootstrap-5',\n    /**\n     * Translations locale.\n     */\n    lang: 'en_US',\n    /**\n     * Fallbacks locales, used when single translation in `lang` not exists.\n     */\n    fallbackLangs: ['en_US', 'en'],\n    /**\n     * Defines whether or not, open editor in editing mode.\n     * Default editor stays in preview mode.\n     */\n    autoopen: false,\n    /**\n     * Whether or not the editing mode should be opened inline or fullscreen.\n     * Default fullscreen.\n     */\n    inline: false,\n    /**\n     * Includes used when building canvas.\n     */\n    include: {\n        /**\n         * Stylesheets added to canvas. Possible overwrite stylesheets using the same key.\n         *  - key is the name of the stylesheets.\n         *  - value is the link to the stylesheet.\n         */\n        stylesheets: {},\n        /**\n         * Scripts added to canvas. Possible overwrite scripts using the same key.\n         *  - key is the name of the script.\n         *  - value is the link to the script.\n         */\n        scripts: {},\n    }\n};\n\n/**\n * Store all available blocks for the editor.\n * @type {Object}\n */\nTuliaEditor.blocks = {};\n\n/**\n * Editor translations.\n * @type {Object}\n */\nTuliaEditor.i18n = {};\nTuliaEditor.i18n['en'] = {\n    'save': 'Save',\n    'cancel': 'Cancel',\n    'remove': 'Remove',\n    'block': 'Block',\n    'row': 'Row',\n    'section': 'Section',\n    'column': 'Column',\n    'insert': 'Insert',\n    'selectedRow': 'Selected row',\n    'selectBlock': 'Select block',\n    'selectedBlock': 'Selected block',\n    'selectedSection': 'Selected section',\n    'selectParentBlock': 'Select parent block',\n    'emptyColumn': 'Empty column',\n    'emptyRow': 'Empty row',\n    'emptySection': 'Empty section',\n    'insertBlockBeforeSelected': 'Block - Before selected',\n    'insertBlockAfterSelected': 'Block - After selected',\n    'insertRowBeforeSelected': 'Row - Before selected',\n    'insertRowAfterSelected': 'Row - After selected',\n    'insertSectionBeforeSelected': 'Section - Before selected',\n    'insertSectionAfterSelected': 'Section - After selected',\n    'duplicate': 'Duplicate',\n    'document': 'Document',\n    'lackOfStyle': 'Unstyled',\n};\nTuliaEditor.i18n['pl'] = {\n    'save': 'Zapisz',\n    'cancel': 'Anuluj',\n    'remove': 'Usuń',\n    'block': 'Blok',\n    'row': 'Wiersz',\n    'section': 'Sekcja',\n    'column': 'Kolumna',\n    'insert': 'Wstaw',\n    'selectedRow': 'Wybrany wiersz',\n    'selectBlock': 'Wybierz blok',\n    'selectedBlock': 'Wybrany blok',\n    'selectedSection': 'Wybrana sekcja',\n    'selectParentBlock': 'Zaznacz blok wyżej',\n    'emptyColumn': 'Pusta kolumna',\n    'emptyRow': 'Pusty wiersz',\n    'emptySection': 'Pusta sekcja',\n    'insertBlockBeforeSelected': 'Blok - Przed',\n    'insertBlockAfterSelected': 'Blok - Poniżej',\n    'insertRowBeforeSelected': 'Wiersz - Przed',\n    'insertRowAfterSelected': 'Wiersz - Poniżej',\n    'insertSectionBeforeSelected': 'Sekcja - Przed',\n    'insertSectionAfterSelected': 'Sekcja - Poniżej',\n    'duplicate': 'Duplikuj',\n    'document': 'Dokument',\n    'lackOfStyle': 'Brak stylu',\n};\n\n/**\n * Creates namespace for TuliaEditor, and assign class to it.\n * Namespace must follows `TuliaEditor` prefix, example: 'TuliaEditor.Shared.EventDispatcher.EventDispatcher'\n *\n * @param {String} ns\n * @param {Object} cls\n */\nTuliaEditor.ns = function (ns, cls) {\n    let root = TuliaEditor;\n    let splitted = ns.split('.');\n\n    for (let i = 0; i < splitted.length; i++) {\n        if (splitted[i] === 'TuliaEditor') {\n            continue;\n        }\n\n        if (! root[splitted[i]]) {\n            if (splitted.length === i) {\n                root[splitted[i]] = {};\n            } else {\n                root[splitted[i]] = cls;\n            }\n        }\n\n        root = root[splitted[i]];\n    }\n};\n\n/**\n * Initiates editor in selector with defined options.\n *\n * @param {String} selector\n * @param {Object} options\n * @return {TuliaEditor}\n */\nTuliaEditor.create = function (selector, options) {\n    return new TuliaEditor(selector, options);\n};\n\n/**\n * Registers a block for editor.\n * @param {String} type\n * @param {String} cls\n * @param {Object} info\n */\nTuliaEditor.block = function (type, cls, info) {\n    let defaults = {\n        icon: '',\n        author: '',\n        name: '',\n        description: '',\n    };\n\n    TuliaEditor.blocks[type] = {\n        class: cls,\n        info: $.extend({}, defaults, info)\n    };\n};\n\nTuliaEditor.uuid = function () {\n    return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {\n        let r = Math.random() * 16 | 0, v = c == 'x' ? r : (r & 0x3 | 0x8);\n        return v.toString(16);\n    });\n};\n\nwindow.TuliaEditor = TuliaEditor;\n","(function () {\n    class EventDispatcher {\n        events = [];\n\n        /**\n         * @param {String} events\n         * @param {Object|CallableFunction}listener\n         * @param {Number} priority\n         * @return {TuliaEditor.Shared.EventDispatcher.EventDispatcher}\n         */\n        on (events, listener, priority) {\n            events = events.split(',');\n            priority = priority || 100;\n\n            for (let i = 0; i < events.length; i++) {\n                let name = events[i].trim();\n\n                if (this.events[name]) {\n                    this.events[name].push({\n                        listener: listener,\n                        priority: priority\n                    });\n                } else {\n                    this.events[name] = [];\n                    this.events[name].push({\n                        listener: listener,\n                        priority: priority\n                    });\n                }\n\n                this.events[name].sort(function (a, b) {\n                    return b.priority - a.priority;\n                });\n            }\n\n            return this;\n        }\n\n        /**\n         * @param {String} name\n         * @param {Array} args\n         * @return {TuliaEditor.Shared.EventDispatcher.EventDispatcher}\n         */\n        dispatch (name, ...args) {\n            if (! this.events[name]) {\n                return this;\n            }\n\n            args = args || [];\n\n            let self = this;\n\n            for (let i = 0; i < this.events[name].length; i++) {\n                if (typeof(this.events[name][i].listener) !== 'function') {\n                    throw new Error('One of the listeners of the \"' + name + '\" event is not a function.');\n                }\n\n                this.events[name][i].listener(...args);\n            }\n\n            return this;\n        }\n    }\n\n    TuliaEditor.ns('TuliaEditor.Shared.EventDispatcher.EventDispatcher', EventDispatcher);\n}());\n","(function () {\n    class ListenersRegistrator {\n        /**\n         * @param {TuliaEditor.Shared.DependencyInjection.Container} container\n         * @param {TuliaEditor.Shared.EventDispatcher.EventDispatcher} dispatcher\n         */\n        constructor(container, dispatcher) {\n            this.container = container;\n            this.dispatcher = dispatcher;\n        }\n\n        registerListeners () {\n            let self = this;\n            let listeners = this.container.getTaggedServices('event_listener');\n\n            for (let i = 0; i < listeners.length; i++) {\n                this.dispatcher.on(\n                    listeners[i].tag.listen,\n                    function (...args) {\n                        let s = self.container.get(listeners[i].service);\n\n                        if (s[listeners[i].tag.method]) {\n                            return s[listeners[i].tag.method](...args);\n                        } else {\n                            throw new Error('Method ' + listeners[i].tag.method + '() of the ' + listeners[i].service + ' service is not callable.');\n                        }\n                    },\n                    listeners[i].tag.priority || 100\n                );\n            }\n        }\n    }\n\n    TuliaEditor.ns('TuliaEditor.Shared.EventDispatcher.ListenersRegistrator', ListenersRegistrator);\n}());\n","(function () {\n    class Container {\n        /**\n         * @param {Object} config\n         */\n        constructor(config) {\n            this.config = config;\n            this.objects = [];\n        }\n\n        /**\n         * Build service by it's name, store it's instance in collection\n         * and returns it's instance every time when get(name) is called.\n         *\n         * @param {String} name\n         * @return {Object}\n         */\n        get (name) {\n            if (this.objects[name]) {\n                return this.objects[name];\n            }\n\n            return this.objects[name] = this.build(name);\n        };\n\n        /**\n         * Build service by it's name every time when produce(name) is called.\n         * Every time returns new object.\n         *\n         * @param {String} name\n         * @return {Object}\n         */\n        produce (name) {\n            return this.build(name);\n        };\n\n        /**\n         * @param {String} name\n         * @param {Object} obj\n         */\n        set (name, obj) {\n            this.objects[name] = obj;\n        };\n\n        /**\n         * @param {String} name\n         * @return {Boolean}\n         */\n        has (name) {\n            return !! this.config[name];\n        }\n\n        /**\n         * @param {String} name\n         * @return {Object}\n         */\n        build (name) {\n            let definition = this.config[name];\n\n            if (! definition.class) {\n                throw new Error('Class of service ' + name + ' not exists.');\n            }\n\n            let args = this.resolveArguments(definition.arguments);\n            let obj = null;\n\n            try {\n                obj = new definition.class(...args);\n            } catch (error) {\n                console.error('Error occured during class instantiating, of service ' + name);\n                throw error;\n            }\n\n            if (definition.calls) {\n                for (let i = 0; i < definition.calls.length; i++) {\n                    obj[i].apply(obj, this.resolveArguments(definition.calls[i]));\n                }\n            }\n\n            return obj;\n        };\n\n        /**\n         * @param {String} tag\n         * @return {Array}\n         */\n        getTaggedServices (tag) {\n            let tagged = [];\n\n            for (let name in this.config) {\n                if (this.config[name].tags) {\n                    for (let def in this.config[name].tags) {\n                        if (this.config[name].tags[def].name === tag) {\n                            tagged.push({\n                                'service': name,\n                                'tag': this.config[name].tags[def],\n                            });\n                        }\n                    }\n                }\n            }\n\n            return tagged;\n        };\n\n        resolveArguments (args) {\n            let newArgs = [];\n\n            if (args) {\n                for (let i = 0; i < args.length; i++) {\n                    newArgs.push(this.resolveArgument(args[i]));\n                }\n            }\n\n            return newArgs;\n        };\n\n        resolveArgument (arg) {\n            if (typeof(arg) === 'string') {\n                if (arg.substring(0, 1) === '@') {\n                    return this.get(arg.substring(1));\n                } else {\n                    return arg;\n                }\n            }\n\n            return arg;\n        };\n    }\n\n    TuliaEditor.ns('TuliaEditor.Shared.DependencyInjection.Container', Container);\n}());\n","(function () {\n    class Catalogue {\n        /**\n         * @param {Object} translations\n         */\n        constructor (translations) {\n            /** @type {Object} */\n            this.translations = translations;\n        }\n\n        /**\n         * @param {String} name\n         * @return {String|null}\n         */\n        get (name) {\n            return this.translations[name] ?? null;\n        }\n    }\n\n    TuliaEditor.ns('TuliaEditor.Shared.I18n.Catalogue', Catalogue);\n}());\n","(function () {\n    class Translator {\n        /** @type {TuliaEditor.Shared.I18n.Catalogue[]} */\n        catalogues = {};\n\n        /**\n         * @param {Object} options\n         */\n        constructor (options) {\n            /** @type {Object} */\n            this.options = options;\n        }\n\n        /**\n         * @param {String} name\n         * @param {Object} data\n         * @param {null|String} lang\n         * @return {String}\n         */\n        trans (name, data, lang) {\n            let langs = [lang ?? this.options.lang].concat(this.options.fallbackLangs);\n            let translation = null;\n\n            for (let lang of langs) {\n                translation = this.getCatalogue(lang).get(name);\n\n                // Break if found in this locale.\n                if (translation !== null) {\n                    break;\n                }\n            }\n\n            if (translation === null) {\n                translation = name;\n            }\n\n            return translation;\n        }\n\n        /**\n         * @param {String} lang\n         * @return {TuliaEditor.Shared.I18n.Catalogue}\n         */\n        getCatalogue (lang) {\n            if (this.catalogues[lang]) {\n                return this.catalogues[lang];\n            }\n\n            this.catalogues[lang] = new TuliaEditor.Shared.I18n.Catalogue(TuliaEditor.i18n[lang] ?? {});\n\n            return this.catalogues[lang];\n        }\n    }\n\n    TuliaEditor.ns('TuliaEditor.Shared.I18n.Translator', Translator);\n}());\n","","(function () {\n    class PropertyAccessor {\n        object;\n\n        constructor (object) {\n            this.object = object;\n        }\n\n        get (property, defaultValue) {\n            let parts = this.explode(property);\n            let s = this.object;\n            defaultValue = defaultValue ?? null;\n\n            for (let i in parts) {\n                i = parseInt(i);\n\n                if (i === parts.length - 1) {\n                    // End of the loop, get the value.\n                    return s[parts[i]] ?? defaultValue;\n                } else {\n                    if (! s[parts[i]]) {\n                        return defaultValue;\n                    }\n\n                    s = s[parts[i]];\n                }\n            }\n\n            return defaultValue;\n        }\n\n        set (property, value) {\n            let parts = this.explode(property);\n            let s = this.object;\n\n            for (let i in parts) {\n                i = parseInt(i);\n\n                if (i === parts.length - 1) {\n                    // End of the loop, set the value.\n                    s[parts[i]] = value;\n                } else {\n                    if (! s[parts[i]]) {\n                        s[parts[i]] = {};\n                    }\n\n                    s = s[parts[i]];\n                }\n            }\n        }\n\n        explode (property) {\n            return property.split('.');\n        }\n    }\n\n    TuliaEditor.ns('TuliaEditor.Shared.DataManipulation.PropertyAccessor', PropertyAccessor);\n}());\n","(function() {\n    class CanvasSize {\n        /**\n         * @param {TuliaEditor.Layout.Domain.View.Canvas} canvas\n         * @param {TuliaEditor.Document.Infrastructure.FrontendFramework.FrameworkProvider} frameworkProvider\n         */\n        constructor (canvas, frameworkProvider) {\n            /** @type {TuliaEditor.Layout.Domain.View.Canvas} */\n            this.canvas = canvas;\n            /** @type {TuliaEditor.Document.Infrastructure.FrontendFramework.FrameworkProvider} */\n            this.frameworkProvider = frameworkProvider;\n        }\n\n        getCurrentBreakpoint () {\n            return this.canvas.breakpoint;\n        }\n    }\n\n    TuliaEditor.ns('TuliaEditor.Layout.Application.Service.CanvasSize', CanvasSize);\n}());\n","(function() {\n    class EditControls {\n        /**\n         * @param {TuliaEditor.Document.Domain.Grid.Entity.Block} entity\n         * @param {TuliaEditor.Layout.Domain.EditControls.Model.Group} group\n         */\n        collectEditControls (entity, group) {\n            entity.block.editOptions(group);\n        }\n    }\n\n    TuliaEditor.ns('TuliaEditor.Block.Application.EventListener.EditControls', EditControls);\n}());\n","(function() {\n    class ChangeCanvasSize {\n        /**\n         * @param {TuliaEditor.Layout.Infrastructure.View.Layout} layout\n         */\n        constructor (layout) {\n            /** @type {TuliaEditor.Layout.Infrastructure.View.Layout} */\n            this.layout = layout;\n        }\n\n        /**\n         * @param {Number} height\n         */\n        changeHeight (height) {\n            this.layout.updateHeight(height);\n        }\n    }\n\n    TuliaEditor.ns('TuliaEditor.Layout.Application.EventListener.ChangeCanvasSize', ChangeCanvasSize);\n}());\n","(function() {\n    class ChangeCanvasBreakpoint {\n        /**\n         * @param {TuliaEditor.Layout.Domain.View.Canvas} canvas\n         */\n        constructor (canvas) {\n            /** @type {TuliaEditor.Layout.Domain.View.Canvas} */\n            this.canvas = canvas;\n        }\n\n        /**\n         * @param {String} name\n         */\n        changeBreakpoint (name) {\n            this.canvas.changeBreakpoint(name);\n        }\n    }\n\n    TuliaEditor.ns('TuliaEditor.Layout.Application.EventListener.ChangeCanvasBreakpoint', ChangeCanvasBreakpoint);\n}());\n","(function () {\n    class Layout {\n        /**\n         * @param {TuliaEditor.Layout.Infrastructure.View.Layout} view\n         * @param {TuliaEditor.Shared.EventDispatcher.EventDispatcher} eventDispatcher\n         * @param {Object} options\n         */\n        constructor (view, eventDispatcher, options) {\n            /** @type {TuliaEditor.Layout.Infrastructure.View.Layout} */\n            this.view = view;\n            /** @type {TuliaEditor.Shared.EventDispatcher.EventDispatcher} */\n            this.eventDispatcher = eventDispatcher;\n            /** @type {Object} */\n            this.options = options;\n        }\n\n        /**\n         * @internal\n         */\n        init () {\n            this.view.createLayout({\n                inline: this.options.inline\n            });\n            this.view.addClass('tued-has-sidebar-styles');\n\n            this.view.updateHeight(200);\n\n            this.eventDispatcher.dispatch('layout.view.layout.ready');\n        }\n\n        /**\n         * @param {String} classname\n         */\n        addClass (classname) {\n            this.view.addClass(classname);\n        }\n    }\n\n    TuliaEditor.ns('TuliaEditor.Layout.Domain.View.Layout', Layout);\n}());\n","(function () {\n    class Canvas {\n        /** @type {TuliaEditor.Document.Infrastructure.FrontendFramework.Model.Grid.Breakpoint} */\n        breakpoint;\n\n        /**\n         * @param {TuliaEditor.Layout.Infrastructure.View.Canvas} view\n         * @param {TuliaEditor.Document.Infrastructure.FrontendFramework.FrameworkProvider} frameworkProvider\n         */\n        constructor (view, frameworkProvider) {\n            /** @type {TuliaEditor.Layout.Infrastructure.View.Canvas} */\n            this.view = view;\n            /** @type {TuliaEditor.Document.Infrastructure.FrontendFramework.FrameworkProvider} */\n            this.frameworkProvider = frameworkProvider;\n        }\n\n        /**\n         * @internal\n         */\n        init () {\n            this.view.createSizing(this.frameworkProvider.getGridSizeProvider().getBreakpoints());\n            this.changeBreakpoint(this.frameworkProvider.getGridSizeProvider().getDesktopBreakpoint().name);\n        }\n\n        /**\n         * @param {String} name\n         */\n        changeBreakpoint (name) {\n            this.breakpoint = this.frameworkProvider.getGridSizeProvider().getBreakpoint(name);\n            this.view.changeWidth(this.breakpoint.width);\n        }\n    }\n\n    TuliaEditor.ns('TuliaEditor.Layout.Domain.View.Canvas', Canvas);\n}());\n","(function() {\n    class Modal {\n        /** @type {String} */\n        id;\n\n        /** @type {TuliaEditor.Layout.Domain.Modal.Modals} */\n        modals;\n\n        /** @type {TuliaEditor.Layout.Infrastructure.Modal.Modal} */\n        view;\n\n        /** @type {Boolean} */\n        opened = false;\n\n        /** @type {Array} */\n        eventsListeners = [];\n\n        /**\n         * @param {String} id\n         * @param {TuliaEditor.Layout.Domain.Modal.Modals} modals\n         * @param {TuliaEditor.Layout.Infrastructure.Modal.Modal} view\n         */\n        constructor (id, modals, view) {\n            /** @type {TuliaEditor.Layout.Domain.Modal.Modals} */\n            this.modals = modals;\n            /** @type {TuliaEditor.Layout.Infrastructure.Modal.Modal} */\n            this.view = view;\n\n            let self = this;\n            this.view.onClose(function () {\n                self.close();\n            });\n        }\n\n        open () {\n            this.callListeners('open');\n\n            this.view.open();\n            this.opened = true;\n            this.modals.modalOpened(this);\n        }\n\n        close () {\n            this.callListeners('close');\n\n            this.view.close();\n            this.opened = false;\n            this.modals.modalClosed(this);\n        }\n\n        on (listen, callback) {\n            this.eventsListeners.push({\n                listen: listen,\n                callback: callback\n            });\n        }\n\n        set title (title) {\n            this.view.title = title;\n        }\n\n        get title () {\n            return this.view.title;\n        }\n\n        set body (body) {\n            this.view.body = body;\n        }\n\n        get body () {\n            return this.view.body;\n        }\n\n        set footer (footer) {\n            this.view.footer = footer;\n        }\n\n        get footer () {\n            return this.view.footer;\n        }\n\n        /**\n         * @internal\n         * @param {String} event\n         */\n        callListeners (event) {\n            for (let row of this.eventsListeners) {\n                if (row.listen === event) {\n                    row.callback.call(this);\n                }\n            }\n        }\n    }\n\n    TuliaEditor.ns('TuliaEditor.Layout.Domain.Modal.Model.Modal', Modal);\n}());\n","(function() {\n    class Modals {\n        /** @type {TuliaEditor.Layout.Domain.Modal.Model.Modal[]} */\n        modals = [];\n\n        /**\n         * @param {TuliaEditor.Layout.Infrastructure.Modal.Modals} view\n         */\n        constructor (view) {\n            /** @type {TuliaEditor.Layout.Infrastructure.Modal.Modals} */\n            this.view = view;\n        }\n\n        /**\n         * @return {TuliaEditor.Layout.Domain.Modal.Model.Modal}\n         */\n        create () {\n            let id = TuliaEditor.uuid();\n            let modal = new TuliaEditor.Layout.Domain.Modal.Model.Modal(\n                id,\n                this,\n                new TuliaEditor.Layout.Infrastructure.Modal.Modal(this.view.createModalNode(id))\n            );\n\n            this.modals.push(modal);\n\n            return modal;\n        }\n\n        /**\n         * @param {TuliaEditor.Layout.Domain.Modal.Model.Modal} modal\n         */\n        modalOpened (modal) {\n            this.view.showModals();\n        }\n\n        /**\n         * @param {TuliaEditor.Layout.Domain.Modal.Model.Modal} modal\n         */\n        modalClosed (modal) {\n            for (let m of this.modals) {\n                if (m.opened) {\n                    return;\n                }\n            }\n\n            this.view.hideModals();\n        }\n    }\n\n    TuliaEditor.ns('TuliaEditor.Layout.Domain.Modal.Modals', Modals);\n}());\n","(function() {\n    class Renderer {\n        /**\n         * @param {TuliaEditor.Layout.Infrastructure.View.Layout} layout\n         * @param {TuliaEditor.Shared.I18n.Translator} translator\n         * @param {TuliaEditor.Shared.EventDispatcher.EventDispatcher} eventDispatcher\n         */\n        constructor (layout, translator, eventDispatcher) {\n            /** @type {TuliaEditor.Layout.Infrastructure.View.Layout} */\n            this.layout = layout;\n            /** @type {TuliaEditor.Shared.I18n.Translator} */\n            this.translator = translator;\n            /** @type {TuliaEditor.Shared.EventDispatcher.EventDispatcher} */\n            this.eventDispatcher = eventDispatcher;\n        }\n\n        hide () {\n            let node = this.layout.getEditControlsNode();\n            node.find('.tued-controls-groups').empty();\n            node.find('.tued-controls-group').remove();\n        }\n\n        openGroupControls (name) {\n            let root = this.layout.getEditControlsNode();\n\n            root.find('.tued-control-group-label')\n                .removeClass('tued-active')\n                .filter('[data-tued-edit-controls-group=' + name + ']')\n                .addClass('tued-active')\n            ;\n\n            root.find('.tued-controls-group')\n                .removeClass('tued-active')\n                .filter('[data-tued-edit-controls-group=' + name + ']')\n                .addClass('tued-active')\n            ;\n        }\n\n        /**\n         * @param {TuliaEditor.Layout.Domain.EditControls.Model.Group[]} groups\n         */\n        renderGroups (groups) {\n            let self = this;\n            let root = this.layout.getEditControlsNode();\n            let groupsTabs = root.find('.tued-controls-groups');\n            let firstGroup = null;\n\n            groupsTabs.empty();\n            root.find('.tued-controls-group').remove();\n\n            for (let name in groups) {\n                let group = groups[name];\n\n                if (firstGroup === null) {\n                    firstGroup = name;\n                }\n\n                let translated = this.translator.trans(name);\n                groupsTabs.append('<div class=\"tued-control-group-label\" data-tued-edit-controls-group=\"' + name + '\" title=\"' + translated + '\">' + translated + '</div>');\n\n                let controlsNode = $('<div class=\"tued-controls-group\" data-tued-edit-controls-group=\"' + name + '\"></div>');\n\n                for (let control of group.controls) {\n                    this.renderControl(controlsNode, control, group.entity);\n                }\n\n                root.append(controlsNode);\n            }\n\n            root.find('.tued-control-group-label').click(function () {\n                self.openGroupControls($(this).attr('data-tued-edit-controls-group'));\n            });\n\n            if (firstGroup) {\n                this.openGroupControls(firstGroup);\n            }\n        }\n\n        /**\n         * @param {jQuery} node\n         * @param {TuliaEditor.Layout.Domain.EditControls.Model.AbstractControl} control\n         * @param {TuliaEditor.Document.Domain.Grid.Entity.AbstractEntity} entity\n         */\n        renderControl (node, control, entity) {\n            let self = this;\n\n            let value = control.valueGetter.call(control, entity);\n            let callback = function (value) {\n                control.callback(entity, value, function () {\n                    self.eventDispatcher.dispatch('layout.layout.edit_control.change', control, entity);\n                });\n            };\n\n            control.translator = this.translator;\n            control.node = $('<div></div>');\n            control.render(value, callback);\n\n            node.append(control.node);\n        }\n    }\n\n    TuliaEditor.ns('TuliaEditor.Layout.Infrastructure.EditControls.Renderer', Renderer);\n}());\n","(function () {\n    class CanvasSizeWatcher {\n        /** @type {null|number} */\n        interval = null;\n\n        /** @type {number} */\n        lastHeight = 0;\n\n        /**\n         * @param {jQuery} iframe\n         */\n        constructor(iframe) {\n            this.iframe = iframe;\n        }\n\n        /**\n         * @internal\n         */\n        /*init () {\n            let self = this;\n\n            this.onChange(function (height) {\n                self.eventDispatcher.dispatch('layout.canvas.height_change', height);\n            });\n        }*/\n\n        onChange (callback) {\n            let self = this;\n\n            let body = this.document.body,\n                html = this.document.documentElement;\n\n            this.interval = setInterval(function () {\n                let height = Math.max(body.scrollHeight, body.offsetHeight, html.clientHeight, html.scrollHeight, html.offsetHeight);\n\n                if(self.lastHeight !== height) {\n                    callback(height);\n                    self.lastHeight = height;\n                }\n            }, 200);\n        }\n\n        get window () {\n            let iframe = this.iframe.get(0);\n\n            return iframe.contentWindow ? iframe.contentWindow : iframe.contentDocument;\n        };\n\n        get document () {\n            return this.window.document;\n        };\n    }\n\n    TuliaEditor.ns('TuliaEditor.Layout.Domain.View.CanvasSizeWatcher', CanvasSizeWatcher);\n}());\n","(function () {\n    class Collector {\n        /**\n         * @param {TuliaEditor.Shared.EventDispatcher.EventDispatcher} eventDispatcher\n         */\n        constructor (eventDispatcher) {\n            /** @type {TuliaEditor.Shared.EventDispatcher.EventDispatcher} */\n            this.eventDispatcher = eventDispatcher;\n        }\n\n        /**\n         * @param {String} type\n         * @param {TuliaEditor.Document.Domain.Grid.Entity.AbstractEntity} element\n         * @return {TuliaEditor.Selection.Domain.Actions.Model.Actions}\n         */\n        collect (type, element) {\n            let actions = new TuliaEditor.Selection.Domain.Actions.Model.Actions();\n\n            this.eventDispatcher.dispatch('domain.selection.actions.' + type, element, actions);\n\n            return actions;\n        }\n    }\n\n    TuliaEditor.ns('TuliaEditor.Selection.Domain.Actions.Collector', Collector);\n}());\n","(function() {\n    class AbstractControl {\n        /** @type {jQuery} */\n        node;\n\n        /** @type {TuliaEditor.Shared.I18n.Translator} */\n        translator;\n\n        /** @type {Function} */\n        valueGetter = function () {};\n\n        /**\n         * @param {String} id\n         * @param {String} label\n         * @param {Function} value\n         * @param {Function} callback\n         * @param {Object} options\n         */\n        constructor (id, label, value, callback, options) {\n            this.id = id;\n            this.setLabel(label);\n            this.setValue(value);\n            this.setCallback(callback);\n            this.setOptions(options);\n        }\n\n        /**\n         * @param {String} label\n         * @return {TuliaEditor.Layout.Domain.EditControls.Model.AbstractControl}\n         */\n        setLabel (label) {\n            this.label = label;\n\n            return this;\n        }\n\n        /**\n         * @param {Function} callback\n         * @return {TuliaEditor.Layout.Domain.EditControls.Model.AbstractControl}\n         */\n        setCallback (callback) {\n            this.callback = callback;\n\n            return this;\n        }\n\n        /**\n         * Value must be the function that returns the value of the entity.\n         *\n         * @param {Function} value\n         * @return {TuliaEditor.Layout.Domain.EditControls.Model.AbstractControl}\n         */\n        setValue (value) {\n            if (!value) {\n                this.valueGetter = function () {};\n            } else {\n                if (typeof (value) === 'function') {\n                    this.valueGetter = value;\n                } else {\n                    console.log(value);\n                    throw new Error('Parameter of setValue() must be a function that returns the value for the control.');\n                }\n            }\n\n            return this;\n        }\n\n        /**\n         * @param {Object} options\n         * @return {TuliaEditor.Layout.Domain.EditControls.Model.AbstractControl}\n         */\n        setOptions (options) {\n            this.options = typeof(options) === 'object' ? options : {};\n\n            return this;\n        }\n\n        /**\n         * Renders control in given node. Also must bind given callback\n         * to element and execute it when value of the control changes.\n         * Options param store label, help text and other options\n         * used by Control to render.\n         *\n         * The `onChange(value)` function must be called in this.callback function, after\n         * update any HTML nodes. It will always generate some event to update\n         * eventually selection of the modified element and other functionalities.\n         *\n         * @param {*} value\n         * @param {Function} onChange\n         */\n        render (value, onChange) {\n\n        }\n\n        /**\n         * Build controls form group with label and other generic HTML informations.\n         *\n         * @param {jQuery} control\n         * @param {Object} options\n         * @return {jQuery}\n         */\n        buildControl (control, options) {\n            let node = $('<div class=\"tued-form-group\"></div>');\n\n            if (this.label) {\n                node.append('<label class=\"tued-label\">' + this.trans(this.label) + '</label>');\n            }\n\n            node.append(control);\n\n            if (options.help_text) {\n                node.append('<label class=\"tued-help-text\">' + this.trans(options.help_text) + '</label>');\n            }\n\n            return node;\n        }\n\n        /**\n         * @param {String} name\n         * @param {Object} data\n         * @param {null|String} lang\n         * @return {String}\n         */\n        trans (name, data, lang) {\n            return this.translator.trans(name, data, lang);\n        }\n    }\n\n    TuliaEditor.ns('TuliaEditor.Layout.Domain.EditControls.Model.AbstractControl', AbstractControl);\n}());\n","(function() {\n    class RangeSliderControl extends TuliaEditor.Layout.Domain.EditControls.Model.AbstractControl {\n        /**\n         * @inheritDoc\n         */\n        render (value, onChange) {\n            let listId = 'range-slide-list-' + TuliaEditor.uuid();\n\n            let input = $('<input type=\"range\" value=\"\" class=\"tued-form-control\" list=\"' + listId + '\" />');\n\n            this.options.min ? input.attr('min', this.options.min) : null;\n            this.options.max ? input.attr('max', this.options.max) : null;\n            this.options.step ? input.attr('step', this.options.step) : null;\n\n            input.on('change input keyup', function () {\n                onChange($(this).val());\n            });\n\n            input.val(value);\n\n            this.node.append(this.createList(listId));\n            this.node.append(this.buildControl(input, this.options));\n        }\n\n        createList (listId) {\n            let node = $('<datalist id=\"' + listId + '\"></datalist>');\n            let min = parseInt(this.options.min);\n            let max = parseInt(this.options.max);\n            let step = parseInt(this.options.step);\n\n            for (let i = min; i <= max; i += step) {\n                node.append('<option value=\"' + i + '\"></option>');\n            }\n\n            node.find('option:first-child').attr('label', min).text(min);\n            node.find('option:last-child').attr('label', max).text(max);\n\n            return node;\n        }\n    }\n\n    TuliaEditor.ns('TuliaEditor.Layout.Domain.EditControls.Model.RangeSliderControl', RangeSliderControl);\n}());\n","","(function() {\n    class TextControl extends TuliaEditor.Layout.Domain.EditControls.Model.AbstractControl {\n        /**\n         * @inheritDoc\n         */\n        render (value, onChange) {\n            let input = $('<input type=\"text\" value=\"\" class=\"tued-form-control\" />');\n            input.on('change keyup', function () {\n                onChange($(this).val());\n            });\n\n            input.val(value);\n\n            this.node.append(this.buildControl(input, this.options));\n        }\n    }\n\n    TuliaEditor.ns('TuliaEditor.Layout.Domain.EditControls.Model.TextControl', TextControl);\n}());\n","(function() {\n    class SelectControl extends TuliaEditor.Layout.Domain.EditControls.Model.AbstractControl {\n        /**\n         * @inheritDoc\n         */\n        render (value, onChange) {\n            let input = $('<select class=\"tued-form-control\"></select>');\n            input.on('change', function () {\n                onChange($(this).val());\n            });\n\n            for (let key in this.options.choices) {\n                input.append('<option value=\"' + key + '\">' + this.trans(this.options.choices[key]) + '</option>');\n            }\n\n            input.val(value);\n\n            this.node.append(this.buildControl(input, this.options));\n        }\n    }\n\n    TuliaEditor.ns('TuliaEditor.Layout.Domain.EditControls.Model.SelectControl', SelectControl);\n}());\n","(function() {\n    class Group {\n        /** @type {TuliaEditor.Layout.Domain.EditControls.Model.AbstractControl[]} */\n        controls = [];\n\n        /** @type {TuliaEditor.Document.Domain.Grid.Entity.AbstractEntity} */\n        entity;\n\n        /**\n         * @param {TuliaEditor.Document.Domain.Grid.Entity.AbstractEntity} entity\n         */\n        constructor (entity) {\n            this.entity = entity;\n        }\n\n        /**\n         * @return {Boolean}\n         */\n        isEmpty () {\n            return this.controls.length === 0;\n        }\n\n        /**\n         * @param {String|TuliaEditor.Layout.Domain.EditControls.Model.AbstractControl} control\n         * @param {null|String} id\n         * @return {TuliaEditor.Layout.Domain.EditControls.Model.AbstractControl}\n         */\n        addControl (control, id) {\n            if (control instanceof TuliaEditor.Layout.Domain.EditControls.Model.AbstractControl) {\n                // If control is an instance of TuliaEditor.Layout.Domain.EditControls.Model.AbstractControl\n                // we use it as well.\n            } else if (typeof(control) === 'string' && typeof(id) === 'string') {\n                control = this.createControl(control, id);\n            } else {\n                throw new Error('Control must be instance of \"TuliaEditor.Layout.Domain.EditControls.Model.AbstractControl\"');\n            }\n\n            this.controls.push(control);\n\n            return control;\n        }\n\n        /**\n         * @param {String} id\n         * @return {null|TuliaEditor.Layout.Domain.EditControls.Model.AbstractControl}\n         */\n        getControl (id) {\n            for (let control of this.controls) {\n                if (control.id === id) {\n                    return control;\n                }\n            }\n        }\n\n        /**\n         * @internal\n         * @param {String} type\n         * @param {String} id\n         * @return {TuliaEditor.Layout.Domain.EditControls.Model.AbstractControl}\n         */\n        createControl (type, id) {\n            switch (type) {\n                case 'range-slider':\n                    return new TuliaEditor.Layout.Domain.EditControls.Model.RangeSliderControl(id);\n                case 'text':\n                    return new TuliaEditor.Layout.Domain.EditControls.Model.TextControl(id);\n                case 'select':\n                    return new TuliaEditor.Layout.Domain.EditControls.Model.SelectControl(id);\n            }\n\n            throw new Error('Control type \"' + type + '\" is not supported.');\n        }\n    }\n\n    TuliaEditor.ns('TuliaEditor.Layout.Domain.EditControls.Model.Group', Group);\n}());\n","(function() {\n    class Controls {\n        /** @type {TuliaEditor.Layout.Domain.EditControls.Model.Group[]} */\n        groups = {};\n\n        /**\n         * @return {Boolean}\n         */\n        isEmpty () {\n            return this.groups.length === 0;\n        }\n\n        /**\n         * @param {String} name\n         * @param {TuliaEditor.Layout.Domain.EditControls.Model.Group} group\n         */\n        addGroup (name, group) {\n            if (! (group instanceof TuliaEditor.Layout.Domain.EditControls.Model.Group)) {\n                throw new Error('Group must be instance of \"TuliaEditor.Layout.Domain.EditControls.Model.Group\"');\n            }\n\n            this.groups[name] = group;\n        }\n\n        /**\n         * @param {String} name\n         * @return {null|TuliaEditor.Layout.Domain.EditControls.Model.Group}\n         */\n        getGroup (name) {\n            return this.groups[name] ?? null;\n        }\n\n        /**\n         * @param {String} name\n         * @return {bool}\n         */\n        hasGroup (name) {\n            return !! this.groups[name];\n        }\n    }\n\n    TuliaEditor.ns('TuliaEditor.Layout.Domain.EditControls.Model.Controls', Controls);\n}());\n","(function () {\n    class PrepareDocument {\n        /**\n         * @param {Object} options\n         * @param {TuliaEditor.Document.Domain.Service.SourceParser} sourceParser\n         * @param {TuliaEditor.Document.Application.Service.Document} documentService\n         * @param {TuliaEditor.Document.Domain.Model.Document} document\n         */\n        constructor (options, sourceParser, documentService, document) {\n            /** @type {Object} */\n            this.options = options;\n            /** @type {TuliaEditor.Document.Domain.Service.SourceParser} */\n            this.sourceParser = sourceParser;\n            /** @type {TuliaEditor.Document.Application.Service.Document} */\n            this.documentService = documentService;\n            /** @type {TuliaEditor.Document.Domain.Model.Document} */\n            this.document = document;\n        }\n\n        prepareDocument () {\n            this.documentService.prepareHead();\n            this.createStructure();\n        }\n\n        /**\n         * @internal\n         */\n        createStructure () {\n            let structure = this.sourceParser.parse(this.options.data.source.sections);\n\n            if (this.options.framework !== this.options.data.manifest.framework) {\n                alert('Editor\\'s framework (' + this.options.framework + ') do not match Document\\'s framework (' + this.options.data.manifest.framework + '). These must be the same. Document will not be rendered in editor.');\n                structure = new TuliaEditor.Document.Domain.Model.Structure();\n            }\n\n            this.document.setStructure(structure);\n        }\n    }\n\n    TuliaEditor.ns('TuliaEditor.Document.Application.EventListener.Document.PrepareDocument', PrepareDocument);\n}());\n","(function () {\n    class SelectedActions {\n        /**\n         * @param {TuliaEditor.Document.Domain.Model.Document} document\n         * @param {TuliaEditor.Shared.I18n.Translator} translator\n         * @param {TuliaEditor.Document.Application.Service.StructureManipulator.BlockManipulator} blockManipulator\n         * @param {TuliaEditor.Document.Application.Service.StructureManipulator.RowManipulator} rowManipulator\n         * @param {TuliaEditor.Document.Application.Service.StructureManipulator.SectionManipulator} sectionManipulator\n         */\n        constructor (document, translator, blockManipulator, rowManipulator, sectionManipulator) {\n            /** @type {TuliaEditor.Document.Domain.Model.Document} */\n            this.document = document;\n            /** @type {TuliaEditor.Shared.I18n.Translator} */\n            this.translator = translator;\n            /** @type {TuliaEditor.Document.Application.Service.StructureManipulator.BlockManipulator} */\n            this.blockManipulator = blockManipulator;\n            /** @type {TuliaEditor.Document.Application.Service.StructureManipulator.RowManipulator} */\n            this.rowManipulator = rowManipulator;\n            /** @type {TuliaEditor.Document.Application.Service.StructureManipulator.SectionManipulator} */\n            this.sectionManipulator = sectionManipulator;\n        }\n\n        /**\n         * @param {TuliaEditor.Document.Domain.Grid.Entity.AbstractEntity} element\n         * @param {TuliaEditor.Selection.Domain.Actions.Model.Actions} actions\n         */\n        collect (element, actions) {\n            if (element instanceof TuliaEditor.Document.Domain.Grid.Entity.Block) {\n                this.collectForBlocks(element, actions);\n            }\n            if (element instanceof TuliaEditor.Document.Domain.Grid.Entity.Column) {\n                this.collectForColumns(element, actions);\n            }\n            if (element instanceof TuliaEditor.Document.Domain.Grid.Entity.Row) {\n                this.collectForRows(element, actions);\n            }\n            if (element instanceof TuliaEditor.Document.Domain.Grid.Entity.Section) {\n                this.collectForSections(element, actions);\n            }\n        }\n\n        /**\n         * @param {TuliaEditor.Document.Domain.Grid.Entity.Block} block\n         * @param {TuliaEditor.Selection.Domain.Actions.Model.Actions} actions\n         */\n        collectForBlocks (block, actions) {\n            actions.add(this.createDuplicateBlockAction(block));\n            actions.add(this.createRemoveBlockAction(block));\n        }\n\n        /**\n         * @param {TuliaEditor.Document.Domain.Grid.Entity.Column} column\n         * @param {TuliaEditor.Selection.Domain.Actions.Model.Actions} actions\n         */\n        collectForColumns (column, actions) {\n            actions.add(this.createRemoveAction(column));\n        }\n\n        /**\n         * @param {TuliaEditor.Document.Domain.Grid.Entity.Row} row\n         * @param {TuliaEditor.Selection.Domain.Actions.Model.Actions} actions\n         */\n        collectForRows (row, actions) {\n            actions.add(this.createRemoveRowAction(row));\n        }\n\n        /**\n         * @param {TuliaEditor.Document.Domain.Grid.Entity.Section} section\n         * @param {TuliaEditor.Selection.Domain.Actions.Model.Actions} actions\n         */\n        collectForSections (section, actions) {\n            actions.add(this.createRemoveSectionAction(section));\n        }\n\n        /**\n         * @param {TuliaEditor.Document.Domain.Grid.Entity.AbstractEntity} element\n         * @return {TuliaEditor.Selection.Domain.Actions.Model.Action}\n         */\n        createRemoveAction (element) {\n            let self = this;\n            return new TuliaEditor.Selection.Domain.Actions.Model.Action(\n                this.translator.trans('remove'),\n                '<i class=\"fas fa-trash\"></i>',\n                function (element) {\n                    self.document.remove(element);\n                }\n            );\n        }\n\n        /**\n         * @param {TuliaEditor.Document.Domain.Grid.Entity.Block} block\n         * @return {TuliaEditor.Selection.Domain.Actions.Model.Action}\n         */\n        createRemoveBlockAction (block) {\n            let self = this;\n            return new TuliaEditor.Selection.Domain.Actions.Model.Action(\n                this.translator.trans('remove'),\n                '<i class=\"fas fa-trash\"></i>',\n                function (block) {\n                    self.blockManipulator.remove(block);\n                }\n            );\n        }\n\n        /**\n         * @param {TuliaEditor.Document.Domain.Grid.Entity.Section} section\n         * @return {TuliaEditor.Selection.Domain.Actions.Model.Action}\n         */\n        createRemoveSectionAction (section) {\n            let self = this;\n            return new TuliaEditor.Selection.Domain.Actions.Model.Action(\n                this.translator.trans('remove'),\n                '<i class=\"fas fa-trash\"></i>',\n                function (section) {\n                    self.sectionManipulator.remove(section);\n                }\n            );\n        }\n\n        /**\n         * @param {TuliaEditor.Document.Domain.Grid.Entity.Row} row\n         * @return {TuliaEditor.Selection.Domain.Actions.Model.Action}\n         */\n        createRemoveRowAction (row) {\n            let self = this;\n            return new TuliaEditor.Selection.Domain.Actions.Model.Action(\n                this.translator.trans('remove'),\n                '<i class=\"fas fa-trash\"></i>',\n                function (row) {\n                    self.rowManipulator.remove(row);\n                }\n            );\n        }\n\n        /**\n         * @param {TuliaEditor.Document.Domain.Grid.Entity.AbstractEntity} element\n         * @return {TuliaEditor.Selection.Domain.Actions.Model.Action}\n         */\n        createDuplicateBlockAction (element) {\n            let self = this;\n            return new TuliaEditor.Selection.Domain.Actions.Model.Action(\n                this.translator.trans('duplicate'),\n                '<i class=\"fas fa-copy\"></i>',\n                function (element) {self.blockManipulator.duplicate(element);}\n            );\n        }\n    }\n\n    TuliaEditor.ns('TuliaEditor.Document.Application.EventListener.UI.SelectedActions', SelectedActions);\n}());\n","(function () {\n    class SectionContextMenu {\n        /**\n         * @param {TuliaEditor.Shared.I18n.Translator} translator\n         * @param {TuliaEditor.Document.Application.Service.StructureManipulator.SectionManipulator} manipulator\n         */\n        constructor (translator, manipulator) {\n            /** @type {TuliaEditor.Shared.I18n.Translator} */\n            this.translator = translator;\n            /** @type {TuliaEditor.Document.Application.Service.StructureManipulator.SectionManipulator} */\n            this.manipulator = manipulator;\n        }\n\n        /**\n         * @param {TuliaEditor.ContextMenu.Domain.Entity.Menu} menu\n         * @param {TuliaEditor.Document.Domain.Grid.Entity.AbstractEntity} entity\n         */\n        buildForSection (menu, entity) {\n            let self = this;\n            let rowMenu = menu.find('core.insert').menu;\n\n            rowMenu.addItem(\n                new TuliaEditor.ContextMenu.Domain.Entity.Item(\n                    'core.section.insert.before',\n                    this.translator.trans('insertSectionBeforeSelected'),\n                    function () {self.manipulator.createBefore(entity);}\n                )\n            );\n\n            rowMenu.addItem(\n                new TuliaEditor.ContextMenu.Domain.Entity.Item(\n                    'core.section.insert.after',\n                    this.translator.trans('insertSectionAfterSelected'),\n                    function () {self.manipulator.createAfter(entity);}\n                )\n            );\n\n            menu.find('core.remove').menu.addItem(\n                new TuliaEditor.ContextMenu.Domain.Entity.Item(\n                    'core.section.remove',\n                    this.translator.trans('selectedSection'),\n                    function () {self.manipulator.remove(entity);}\n                )\n            );\n\n            let globalInsertItem = menu.find('core.section.insert');\n\n            if (globalInsertItem instanceof TuliaEditor.ContextMenu.Domain.Entity.Item) {\n                menu.removeItem(globalInsertItem);\n            }\n        }\n\n        /**\n         * @param {TuliaEditor.ContextMenu.Domain.Entity.Menu} menu\n         */\n        buildForRoot (menu) {\n            let self = this;\n\n            menu.find('core.insert').menu.addItem(\n                new TuliaEditor.ContextMenu.Domain.Entity.Item(\n                    'core.section.insert',\n                    this.translator.trans('section'),\n                    function () {self.manipulator.create();}\n                )\n            );\n        }\n    }\n\n    TuliaEditor.ns('TuliaEditor.Document.Application.EventListener.UI.ContextMenu.SectionContextMenu', SectionContextMenu);\n}());\n","(function () {\n    class RowContextMenu {\n        /**\n         * @param {TuliaEditor.Shared.I18n.Translator} translator\n         * @param {TuliaEditor.Document.Application.Service.StructureManipulator.RowManipulator} manipulator\n         */\n        constructor (translator, manipulator) {\n            /** @type {TuliaEditor.Shared.I18n.Translator} */\n            this.translator = translator;\n            /** @type {TuliaEditor.Document.Application.Service.StructureManipulator.RowManipulator} */\n            this.manipulator = manipulator;\n        }\n\n        /**\n         * @param {TuliaEditor.ContextMenu.Domain.Entity.Menu} menu\n         * @param {TuliaEditor.Document.Domain.Grid.Entity.Row} entity\n         */\n        buildForRow (menu, entity) {\n            let self = this;\n            let rowMenu = menu.find('core.insert').menu;\n\n            rowMenu.addItem(\n                new TuliaEditor.ContextMenu.Domain.Entity.Item(\n                    'core.row.insert.before',\n                    this.translator.trans('insertRowBeforeSelected'),\n                    function () {self.manipulator.createBefore(entity);}\n                )\n            );\n\n            rowMenu.addItem(\n                new TuliaEditor.ContextMenu.Domain.Entity.Item(\n                    'core.row.insert.after',\n                    this.translator.trans('insertRowAfterSelected'),\n                    function () {self.manipulator.createAfter(entity);}\n                )\n            );\n\n            menu.find('core.remove').menu.addItem(\n                new TuliaEditor.ContextMenu.Domain.Entity.Item(\n                    'core.row.remove',\n                    this.translator.trans('selectedRow'),\n                    function () {self.manipulator.remove(entity);}\n                )\n            );\n        }\n\n        /**\n         * @param {TuliaEditor.ContextMenu.Domain.Entity.Menu} menu\n         * @param {TuliaEditor.Document.Domain.Grid.Entity.Section} section\n         */\n        buildForSection (menu, section) {\n            let self = this;\n\n            let item = menu.find('core.row.insert.before');\n\n            if (! (item instanceof TuliaEditor.ContextMenu.Domain.Entity.Item)) {\n                menu.find('core.insert').menu.addItem(\n                    new TuliaEditor.ContextMenu.Domain.Entity.Item(\n                        'core.row.insert',\n                        this.translator.trans('row'),\n                        function () {self.manipulator.createInto(section);}\n                    )\n                );\n            }\n        }\n    }\n\n    TuliaEditor.ns('TuliaEditor.Document.Application.EventListener.UI.ContextMenu.RowContextMenu', RowContextMenu);\n}());\n","(function () {\n    class BlockContextMenu {\n        /**\n         * @param {TuliaEditor.Shared.I18n.Translator} translator\n         * @param {TuliaEditor.Document.Application.Service.StructureManipulator.BlockManipulator} manipulator\n         */\n        constructor (translator, manipulator) {\n            /** @type {TuliaEditor.Shared.I18n.Translator} */\n            this.translator = translator;\n            /** @type {TuliaEditor.Document.Application.Service.StructureManipulator.BlockManipulator} */\n            this.manipulator = manipulator;\n        }\n\n        /**\n         * @param {TuliaEditor.ContextMenu.Domain.Entity.Menu} menu\n         * @param {TuliaEditor.Document.Domain.Grid.Entity.AbstractEntity} entity\n         */\n        build (menu, entity) {\n            let self = this;\n            let blockMenu = menu.find('core.insert').menu;\n\n            blockMenu.addItem(\n                new TuliaEditor.ContextMenu.Domain.Entity.Item(\n                    'core.block.insert.before',\n                    this.translator.trans('insertBlockBeforeSelected'),\n                    function () {self.manipulator.createBefore(entity);}\n                )\n            );\n\n            blockMenu.addItem(\n                new TuliaEditor.ContextMenu.Domain.Entity.Item(\n                    'core.block.insert.after',\n                    this.translator.trans('insertBlockAfterSelected'),\n                    function () {self.manipulator.createAfter(entity);}\n                )\n            );\n\n            menu.find('core.remove').menu.addItem(\n                new TuliaEditor.ContextMenu.Domain.Entity.Item(\n                    'core.block.remove',\n                    this.translator.trans('selectedBlock'),\n                    function () {self.manipulator.remove(entity);}\n                )\n            );\n\n            if (entity instanceof TuliaEditor.Document.Domain.Grid.Entity.Block) {\n                let blockSpecialMenu = new TuliaEditor.ContextMenu.Domain.Entity.Menu();\n\n                entity.block.contextmenu(blockSpecialMenu);\n\n                if (blockSpecialMenu.isEmpty() === false) {\n                    let item = new TuliaEditor.ContextMenu.Domain.Entity.Item('core.block', this.translator.trans('block'));\n                    item.menu = blockSpecialMenu;\n                    menu.addItem(item);\n                }\n            }\n        }\n\n        /**\n         * @param {TuliaEditor.ContextMenu.Domain.Entity.Menu} menu\n         * @param {TuliaEditor.Document.Domain.Grid.Entity.Column} column\n         */\n        buildForColumn (menu, column) {\n            let self = this;\n            let blockMenu = menu.find('core.insert').menu;\n\n            /**\n             * Do not add global Insert Block option,\n             * if there was defined insert options for single block.\n             */\n            if (menu.find('core.block.insert.after')) {\n                return;\n            }\n\n            blockMenu.addItem(\n                new TuliaEditor.ContextMenu.Domain.Entity.Item(\n                    'core.block.insert',\n                    this.translator.trans('block'),\n                    function () {self.manipulator.createInside(column);}\n                )\n            );\n        }\n    }\n\n    TuliaEditor.ns('TuliaEditor.Document.Application.EventListener.UI.ContextMenu.BlockContextMenu', BlockContextMenu);\n}());\n","(function () {\n    class RowEditControls {\n        /**\n         * @param {TuliaEditor.Document.Domain.Grid.Entity.Row} entity\n         * @param {TuliaEditor.Layout.Domain.EditControls.Model.Group} group\n         */\n        collectEditControls (entity, group) {\n            group.addControl('select', 'row_width')\n                .setValue(function (entity) {\n                    return entity.data.style_width ?? 'default';\n                    //return entity.node.hasClass('container-fluid') ? 'fluid' : 'default';\n                })\n                .setLabel('Row width')\n                .setOptions({\n                    choices: {\n                        'default': \"Default\",\n                        'fluid': \"Fluid width\",\n                    }\n                })\n                .setCallback(function (entity, value, next) {\n                    entity.data.style_width = value;\n                   /* if (value === 'fluid') {\n                        entity.node\n                            .removeClass('container')\n                            .addClass('container-fluid');\n                    } else {\n                        entity.node\n                            .removeClass('container-fluid')\n                            .addClass('container');\n                    }*/\n\n                    next();\n                })\n            ;\n        }\n    }\n\n    TuliaEditor.ns('TuliaEditor.Document.Application.EventListener.UI.EditControls.RowEditControls', RowEditControls);\n}());\n","(function () {\n    class ColumnEditControls {\n        /**\n         * @type {TuliaEditor.Layout.Application.Service.CanvasSize} canvasSize\n         */\n        constructor (canvasSize) {\n            /** @type {TuliaEditor.Layout.Application.Service.CanvasSize} */\n            this.canvasSize = canvasSize;\n        }\n\n        /**\n         * @param {TuliaEditor.Document.Domain.Grid.Entity.Column} entity\n         * @param {TuliaEditor.Layout.Domain.EditControls.Model.Group} group\n         */\n        collectEditControls (entity, group) {\n            let breakpoint = this.canvasSize.getCurrentBreakpoint();\n\n            group.addControl(new TuliaEditor.Document.Domain.EditControls.Model.ColumnWidthControl('column_width'))\n                .setValue(function (entity) {\n                    return entity.size.get(breakpoint.name);\n                })\n                .setLabel('Column width')\n                .setOptions({\n                    min: 1,\n                    max: 12,\n                    step: 1\n                })\n                .setCallback(function (entity, value, next) {\n                    entity.size.set(new TuliaEditor.Document.Domain.Grid.Entity.Column.Size(breakpoint.name, value));\n                    next();\n                })\n            ;\n        }\n    }\n\n    TuliaEditor.ns('TuliaEditor.Document.Application.EventListener.UI.EditControls.ColumnEditControls', ColumnEditControls);\n}());\n","(function () {\n    class InsertElement {\n        /**\n         * @param {TuliaEditor.Document.Infrastructure.View.Grid.Grid} view\n         */\n        constructor (view) {\n            /** @type {TuliaEditor.Document.Infrastructure.View.Grid.Grid} */\n            this.view = view;\n        }\n\n        insertElementIntoView (entity, position, target) {\n            this.view.insertElement(entity, position, target);\n        }\n    }\n\n    TuliaEditor.ns('TuliaEditor.Document.Application.EventListener.Structure.InsertElement', InsertElement);\n}());\n","(function () {\n    class RemoveElement {\n        /**\n         * @param {TuliaEditor.Document.Infrastructure.View.Grid.Grid} view\n         */\n        constructor (view) {\n            /** @type {TuliaEditor.Document.Infrastructure.View.Grid.Grid} */\n            this.view = view;\n        }\n\n        removeElementFromView (entity) {\n            this.view.removeElement(entity);\n        }\n    }\n\n    TuliaEditor.ns('TuliaEditor.Document.Application.EventListener.Structure.RemoveElement', RemoveElement);\n}());\n","(function () {\n    class ReplaceWholeStructure {\n        /**\n         * @param {TuliaEditor.Document.Infrastructure.View.Grid.Grid} view\n         */\n        constructor (view) {\n            /** @type {TuliaEditor.Document.Infrastructure.View.Grid.Grid} */\n            this.view = view;\n        }\n\n        replaceWholeStructure (structure) {\n            this.view.render(structure);\n        }\n    }\n\n    TuliaEditor.ns('TuliaEditor.Document.Application.EventListener.Structure.ReplaceWholeStructure', ReplaceWholeStructure);\n}());\n","(function () {\n    class UpdateColumnPreview {\n        /**\n         * @param {TuliaEditor.Document.Infrastructure.View.Structure.NodesStorage} nodesStorage\n         * @param {TuliaEditor.Document.Infrastructure.View.Grid.Renderer.ColumnRenderer} renderer\n         */\n        constructor (nodesStorage, renderer) {\n            /** @type {TuliaEditor.Document.Infrastructure.View.Structure.NodesStorage} */\n            this.nodesStorage = nodesStorage;\n            /** @type {TuliaEditor.Document.Infrastructure.View.Grid.Renderer.ColumnRenderer} */\n            this.renderer = renderer;\n        }\n\n        /**\n         * @param {TuliaEditor.Layout.Domain.EditControls.Model.AbstractControl} control\n         * @param {TuliaEditor.Document.Domain.Grid.Entity.AbstractEntity} entity\n         */\n        updateColumnPreview (control, entity) {\n            if (! (entity instanceof TuliaEditor.Document.Domain.Grid.Entity.Column)) {\n                return;\n            }\n\n            this.renderer.update(entity, this.nodesStorage.get(entity.id));\n        }\n    }\n\n    TuliaEditor.ns('TuliaEditor.Document.Application.EventListener.Document.Preview.UpdateColumnPreview', UpdateColumnPreview);\n}());\n","(function () {\n    class Exporter {\n        /**\n         * @param {Object} options\n         * @param {TuliaEditor.Document.Domain.Model.Document} document\n         * @param {TuliaEditor.Document.Infrastructure.View.Grid.Renderer.RendererFactory} rendererFactory\n         */\n        constructor (options, document, rendererFactory) {\n            /** @type {Object} */\n            this.options = options;\n            /** @type {TuliaEditor.Document.Domain.Model.Document} */\n            this.document = document;\n            /** @type {TuliaEditor.Document.Infrastructure.View.Grid.Renderer.RendererFactory} */\n            this.rendererFactory = rendererFactory;\n        }\n\n        /**\n         * @return {Object}\n         */\n        export () {\n            let body = $('<div></div>');\n\n            for (let section of this.document.structure.document.sections) {\n                body.append(this.renderSection(section));\n            }\n\n            let data = {\n                manifest: {\n                    version: TuliaEditor.version,\n                    framework: this.options.framework\n                },\n                styles: this.options.include.stylesheets,\n                scripts: [],\n                source: {\n                    sections: this.document.structure.export()\n                },\n                content: body.html()\n            };\n\n            console.log(data);\n\n            return data;\n        }\n\n        /**\n         * @internal\n         * @param {TuliaEditor.Document.Domain.Grid.Entity.Section} section\n         * @return {jQuery}\n         */\n        renderSection (section) {\n            let rows = $('<div></div>');\n\n            /** @type TuliaEditor.Document.Domain.Grid.Entity.Column column */\n            for (let row of section.rows) {\n                rows.append(this.renderRow(row));\n            }\n\n            return this.rendererFactory.getRenderer('section')\n                .export(section, rows.contents());\n        }\n\n        /**\n         * @internal\n         * @param {TuliaEditor.Document.Domain.Grid.Entity.Row} row\n         * @return {jQuery}\n         */\n        renderRow (row) {\n            let columns = $('<div></div>');\n\n            /** @type TuliaEditor.Document.Domain.Grid.Entity.Column column */\n            for (let column of row.columns) {\n                columns.append(this.renderColumn(column));\n            }\n\n            return this.rendererFactory.getRenderer('row')\n                .export(row, columns.contents());\n        }\n\n        /**\n         * @internal\n         * @param {TuliaEditor.Document.Domain.Grid.Entity.Column} column\n         * @return {jQuery}\n         */\n        renderColumn (column) {\n            let blocks = $('<div></div>');\n\n            /** @type TuliaEditor.Document.Domain.Grid.Entity.Block block */\n            for (let block of column.blocks) {\n                blocks.append(this.renderBlock(block));\n            }\n\n            return this.rendererFactory.getRenderer('column')\n                .export(column, blocks.contents());\n        }\n\n        /**\n         * @internal\n         * @param {TuliaEditor.Document.Domain.Grid.Entity.Block} block\n         * @return {jQuery}\n         */\n        renderBlock (block) {\n            return this.rendererFactory.getRenderer('block')\n                .export(block, block.block.compile());\n        }\n    }\n\n    TuliaEditor.ns('TuliaEditor.Document.Application.Service.Exporter', Exporter);\n}());\n","(function () {\n    class SectionManipulator {\n        /**\n         * @param {TuliaEditor.Document.Domain.Model.Document} document\n         */\n        constructor (document) {\n            /** @type {TuliaEditor.Document.Domain.Model.Document} */\n            this.document = document;\n        }\n\n        /**\n         * @param {TuliaEditor.Document.Domain.Grid.Entity.Section} targetSection\n         */\n        createAfter (targetSection) {\n            this.createSection('after', targetSection);\n        }\n\n        /**\n         * @param {TuliaEditor.Document.Domain.Grid.Entity.Section} targetSection\n         */\n        createBefore (targetSection) {\n            this.createSection('before', targetSection);\n        }\n\n        create () {\n            this.createSection();\n        }\n\n        /**\n         * @param {TuliaEditor.Document.Domain.Grid.Entity.Section} entity\n         */\n        remove (entity) {\n            this.document.remove(entity);\n        }\n\n        /**\n         * @internal\n         */\n        createSection (place, target) {\n            let entity = new TuliaEditor.Document.Domain.Grid.Entity.Section(\n                TuliaEditor.uuid()\n            );\n\n            if (place === 'before') {\n                this.document.insertSectionBefore(entity, target);\n            } else if (place === 'after') {\n                this.document.insertSectionAfter(entity, target);\n            } else {\n                this.document.insertSection(entity);\n            }\n        }\n    }\n\n    TuliaEditor.ns('TuliaEditor.Document.Application.Service.StructureManipulator.SectionManipulator', SectionManipulator);\n}());\n","(function () {\n    class RowManipulator {\n        /**\n         * @param {TuliaEditor.Document.Domain.Model.Document} document\n         * @param {TuliaEditor.Document.Infrastructure.FrontendFramework.FrameworkProvider} frameworkProvider\n         */\n        constructor (document, frameworkProvider) {\n            /** @type {TuliaEditor.Document.Domain.Model.Document} */\n            this.document = document;\n            /** @type {TuliaEditor.Document.Infrastructure.FrontendFramework.FrameworkProvider} */\n            this.frameworkProvider = frameworkProvider;\n        }\n\n        /**\n         * @param {TuliaEditor.Document.Domain.Grid.Entity.Row} row\n         */\n        createAfter (row) {\n            this.createRow('after', row);\n        }\n\n        /**\n         * @param {TuliaEditor.Document.Domain.Grid.Entity.Row} row\n         */\n        createBefore (row) {\n            this.createRow('before', row);\n        }\n\n        /**\n         * @param {TuliaEditor.Document.Domain.Grid.Entity.Section} section\n         */\n        createInto (section) {\n            this.createRow('inside', section);\n        }\n\n        /**\n         * @param {TuliaEditor.Document.Domain.Grid.Entity.Row} row\n         */\n        remove (row) {\n            this.document.remove(row);\n        }\n\n        /**\n         * @internal\n         */\n        createRow (place, target) {\n            let row = new TuliaEditor.Document.Domain.Grid.Entity.Row(TuliaEditor.uuid());\n\n            let column = new TuliaEditor.Document.Domain.Grid.Entity.Column(TuliaEditor.uuid());\n            column.size.set(new TuliaEditor.Document.Domain.Grid.Entity.Column.Size(\n                this.frameworkProvider.getGridSizeProvider().getDesktopBreakpoint().name,\n                this.frameworkProvider.getGridSizeProvider().getColumnsCount()\n            ));\n\n            row.appendColumn(column);\n\n            if (place === 'before') {\n                this.document.insertRowBefore(row, target);\n            } else if (place === 'after') {\n                this.document.insertRowAfter(row, target);\n            } else {\n                this.document.insertRow(row, target);\n            }\n        }\n    }\n\n    TuliaEditor.ns('TuliaEditor.Document.Application.Service.StructureManipulator.RowManipulator', RowManipulator);\n}());\n","(function () {\n    class BlockManipulator {\n        /**\n         * Store insert informations used when client selects Block from modal.\n         *\n         * @type {Object}\n         */\n        insertInfo;\n\n        /**\n         * @param {TuliaEditor.Block.Domain.Block.BlockPicker} blocksPicker\n         * @param {TuliaEditor.Document.Domain.Service.BlockDuplicator} duplicator\n         * @param {TuliaEditor.Document.Domain.Model.Document} document\n         */\n        constructor (blocksPicker, duplicator, document) {\n            /** @type {TuliaEditor.Block.Domain.Block.BlockPicker} */\n            this.blocksPicker = blocksPicker;\n            /** @type {TuliaEditor.Document.Domain.Service.BlockDuplicator} */\n            this.duplicator = duplicator;\n            /** @type {TuliaEditor.Document.Domain.Model.Document} */\n            this.document = document;\n        }\n\n        /**\n         * @param {TuliaEditor.Document.Domain.Grid.Entity.Block} targetBlock\n         */\n        createAfter (targetBlock) {\n            this.insertInfo = {\n                column: targetBlock.parent,\n                after: targetBlock\n            };\n\n            this.createBlock();\n        }\n\n        /**\n         * @param {TuliaEditor.Document.Domain.Grid.Entity.Block} targetBlock\n         */\n        createBefore (targetBlock) {\n            this.insertInfo = {\n                column: targetBlock.column,\n                before: targetBlock\n            };\n\n            this.createBlock();\n        }\n\n        /**\n         * @param {TuliaEditor.Document.Domain.Grid.Entity.Column} column\n         */\n        createInside (column) {\n            this.insertInfo = {\n                column: column\n            };\n\n            this.createBlock();\n        }\n\n        /**\n         * @param {TuliaEditor.Document.Domain.Grid.Entity.Block} block\n         */\n        duplicate (block) {\n            let duplicate = this.duplicator.duplicate(block);\n            this.document.insertBlockAfter(duplicate, block);\n        }\n\n        /**\n         * @param {TuliaEditor.Document.Domain.Grid.Entity.Block} entity\n         */\n        remove (entity) {\n            this.document.remove(entity);\n        }\n\n        /**\n         * @internal\n         */\n        createBlock () {\n            let self = this;\n\n            this.blocksPicker.open(function (name) {\n                self.insert(name);\n                self.blocksPicker.close();\n            });\n        }\n\n        /**\n         * @internal\n         * @param {TuliaEditor.Document.Domain.Grid.Entity.Block} block\n         */\n        insert (block) {\n            let entity = new TuliaEditor.Document.Domain.Grid.Entity.Block(\n                TuliaEditor.uuid(),\n                block\n            );\n\n            entity.data = block.getDefaultData();\n            entity.block.data = entity.data;\n\n            if (this.insertInfo.before) {\n                this.document.insertBlockBefore(entity, this.insertInfo.before);\n            } else if (this.insertInfo.after) {\n                this.document.insertBlockAfter(entity, this.insertInfo.after);\n            } else {\n                this.document.insertBlock(entity, this.insertInfo.column);\n            }\n\n            this.insertInfo = {};\n        }\n    }\n\n    TuliaEditor.ns('TuliaEditor.Document.Application.Service.StructureManipulator.BlockManipulator', BlockManipulator);\n}());\n","(function () {\n    class Document {\n        /**\n         * @param {TuliaEditor.Layout.Infrastructure.View.Canvas} canvas\n         */\n        constructor (canvas) {\n            /** @type {TuliaEditor.Layout.Infrastructure.View.Canvas} */\n            this.canvas = canvas;\n        }\n\n        addTag (tag) {\n            this.canvas.head.append(tag);\n        }\n\n        refreshStylesheets (stylesheets) {\n            let head = this.canvas.head;\n            head.find('.tued-stylesheet').remove();\n\n            for (let name in stylesheets) {\n                head.append('<link rel=\"stylesheet\" type=\"text/css\" class=\"tued-stylesheet\" data-name=\"' + name + '\" href=\"' + stylesheets[name] + '\" />');\n            }\n        }\n\n        refreshScripts (scripts) {\n            let head = this.canvas.head;\n            head.find('.tued-script').remove();\n\n            for (let name in scripts) {\n                head.append('<script class=\"tued-script\" data-name=\"' + name + '\" src=\"' + scripts[name] + '\"></script>');\n            }\n        }\n    }\n\n    TuliaEditor.ns('TuliaEditor.Document.Infrastructure.View.Document', Document);\n}());\n","(function () {\n    class StructureEntityDataAccessor {\n        /**\n         * @param {TuliaEditor.Shared.EventDispatcher.EventDispatcher} eventDispatcher\n         */\n        constructor (eventDispatcher) {\n            /** @type {TuliaEditor.Shared.EventDispatcher.EventDispatcher} */\n            this.eventDispatcher = eventDispatcher;\n        }\n\n        /**\n         * @param {TuliaEditor.Document.Domain.Grid.Entity.AbstractEntity} entity\n         */\n        update (entity) {\n            this.eventDispatcher.dispatch('domain.document.grid.element.updated', entity);\n        }\n\n        setValue (entity, property, value) {\n            let accessor = new TuliaEditor.Shared.DataManipulation.PropertyAccessor(entity.data);\n            accessor.set(property, value);\n\n            this.update(entity);\n        }\n    }\n\n    TuliaEditor.ns('TuliaEditor.Document.Application.Service.StructureEntityDataAccessor', StructureEntityDataAccessor);\n}());\n","(function() {\n    class ColumnWidthControl extends TuliaEditor.Layout.Domain.EditControls.Model.AbstractControl {\n        /**\n         * @inheritDoc\n         */\n        render (value, onChange) {\n            let listId = 'range-slide-list-' + TuliaEditor.uuid();\n\n            let cont = $('<div class=\"tued-form-group\">' +\n                '  <label class=\"tued-label\">' + this.trans(this.label) + '</label>' +\n                '  <div class=\"tued-input-group mb-3\">' +\n                '    <div class=\"tued-input-group-text\">' +\n                '      <input class=\"tued-form-check-input mt-0\" type=\"checkbox\" />' +\n                '    </div>' +\n                '    <input type=\"range\" class=\"tued-form-range\" list=\"' + listId + '\" />' +\n                '  </div>' +\n                '</div>');\n\n            let range = cont.find('.tued-form-range');\n            let disabler = cont.find('.tued-form-check-input');\n\n            this.options.min ? range.attr('min', this.options.min) : null;\n            this.options.max ? range.attr('max', this.options.max) : null;\n            this.options.step ? range.attr('step', this.options.step) : null;\n\n            range.on('change input keyup', function () {\n                onChange($(this).val());\n            });\n\n            if (value) {\n                range.val(value);\n                disabler.attr('checked', 'checked');\n                range.removeAttr('disabled');\n            } else {\n                range.val(0);\n                range.attr('disabled', 'disabled');\n                disabler.removeAttr('checked');\n            }\n\n            disabler.on('change', function () {\n                if ($(this).is(':checked')) {\n                    range.removeAttr('disabled');\n                } else {\n                    range.val(1).attr('disabled', 'disabled');\n                    onChange(null);\n                }\n            });\n\n            this.node.append(this.createList(listId));\n            this.node.append(cont);\n        }\n\n        createList (listId) {\n            let node = $('<datalist id=\"' + listId + '\"></datalist>');\n            let min = parseInt(this.options.min);\n            let max = parseInt(this.options.max);\n            let step = parseInt(this.options.step);\n\n            for (let i = min; i <= max; i += step) {\n                node.append('<option value=\"' + i + '\"></option>');\n            }\n\n            node.find('option:first-child').attr('label', min).text(min);\n            node.find('option:last-child').attr('label', max).text(max);\n\n            return node;\n        }\n    }\n\n    TuliaEditor.ns('TuliaEditor.Document.Domain.EditControls.Model.ColumnWidthControl', ColumnWidthControl);\n}());\n","(function () {\n    class Structure {\n        /** @type {TuliaEditor.Document.Domain.Grid.Entity.Document} */\n        document;\n\n        /**\n         * @param {TuliaEditor.Document.Domain.Grid.Entity.Document} document\n         */\n        constructor (document) {\n            /** @type {TuliaEditor.Document.Domain.Grid.Entity.Document} */\n            this.document = document;\n        }\n\n        get id () {\n            return 'structure';\n        }\n\n        get type () {\n            return 'structure';\n        }\n\n        /**\n         * Finds Grid element by jQuery element.\n         * Search by ID stored in 'data-tued-element-id' attribute.\n         *\n         * @param {jQuery} element\n         * @return {null|TuliaEditor.Document.Domain.Grid.Entity.AbstractEntity}\n         */\n        findByElement (element) {\n            return this.get(element.attr('data-tued-element-id'));\n        }\n\n        /**\n         * @param {String} id\n         * @return {null|TuliaEditor.Document.Domain.Grid.Entity.AbstractEntity}\n         */\n        get (id) {\n            for (let section of this.document.sections) {\n                if (section.id === id) {\n                    return section;\n                }\n\n                for (let row of section.rows) {\n                    if (row.id === id) {\n                        return row;\n                    }\n\n                    for (let column of row.columns) {\n                        if (column.id === id) {\n                            return column;\n                        }\n\n                        for (let block of column.blocks) {\n                            if (block.id === id) {\n                                return block;\n                            }\n                        }\n                    }\n                }\n            }\n\n            return null;\n        }\n\n        remove (element) {\n            let id = element.id;\n            let remove = function (item, items) {\n                let index = items.indexOf(item);\n                if (index > -1) {\n                    items.splice(index, 1);\n                }\n            };\n\n            for (let section of this.document.sections) {\n                if (section.id === id) {\n                    remove(section, this.document.sections);\n                    return;\n                }\n\n                for (let row of section.rows) {\n                    if (row.id === id) {\n                        remove(row, section.rows);\n                        return;\n                    }\n\n                    for (let column of row.columns) {\n                        if (column.id === id) {\n                            remove(column, row.columns);\n                            return;\n                        }\n\n                        for (let block of column.blocks) {\n                            if (block.id === id) {\n                                remove(block, column.blocks);\n                                return;\n                            }\n                        }\n                    }\n                }\n            }\n        }\n\n        /**\n         * @param {TuliaEditor.Document.Domain.Grid.Entity.Section} section\n         */\n        insertSection (section) {\n            if (! (section instanceof TuliaEditor.Document.Domain.Grid.Entity.Section)) {\n                throw new Error('Section must be instance of \"TuliaEditor.Document.Domain.Grid.Entity.Section\".');\n            }\n\n            this.document.appendSection(section);\n        }\n\n        /**\n         * @param {TuliaEditor.Document.Domain.Grid.Entity.Section} section\n         * @param {TuliaEditor.Document.Domain.Grid.Entity.Section} after\n         */\n        insertSectionAfter (section, after) {\n            if (! (section instanceof TuliaEditor.Document.Domain.Grid.Entity.Section)) {\n                throw new Error('Section must be instance of \"TuliaEditor.Document.Domain.Grid.Entity.Section\".');\n            }\n\n            if (! (after instanceof TuliaEditor.Document.Domain.Grid.Entity.Section)) {\n                throw new Error('The \"after\" element must be instance of \"TuliaEditor.Document.Domain.Grid.Entity.Section\".');\n            }\n\n            for (let i in this.document.sections) {\n                if (this.document.sections[i].id === after.id) {\n                    this.document.sections.splice(i++, 0, section);\n\n                    section.parent = this.document;\n                    break;\n                }\n            }\n        }\n\n        /**\n         * @param {TuliaEditor.Document.Domain.Grid.Entity.Section} section\n         * @param {TuliaEditor.Document.Domain.Grid.Entity.Section} before\n         */\n        insertSectionBefore (section, before) {\n            if (! (section instanceof TuliaEditor.Document.Domain.Grid.Entity.Section)) {\n                throw new Error('Row must be instance of \"TuliaEditor.Document.Domain.Grid.Entity.Section\".');\n            }\n\n            if (! (before instanceof TuliaEditor.Document.Domain.Grid.Entity.Section)) {\n                throw new Error('The \"before\" element must be instance of \"TuliaEditor.Document.Domain.Grid.Entity.Section\".');\n            }\n\n            for (let i in this.document.sections) {\n                if (this.document.sections[i].id === before.id) {\n                    this.document.sections.splice(i, 0, section);\n\n                    section.parent = this.document;\n                    break;\n                }\n            }\n        }\n\n        /**\n         * @param {TuliaEditor.Document.Domain.Grid.Entity.Row} row\n         * @param {TuliaEditor.Document.Domain.Grid.Entity.Section} section\n         */\n        insertRow (row, section) {\n            if (! (row instanceof TuliaEditor.Document.Domain.Grid.Entity.Row)) {\n                throw new Error('Row must be instance of \"TuliaEditor.Document.Domain.Grid.Entity.Row\".');\n            }\n            if (! (section instanceof TuliaEditor.Document.Domain.Grid.Entity.Section)) {\n                throw new Error('Section must be instance of \"TuliaEditor.Document.Domain.Grid.Entity.Section\".');\n            }\n\n            section.appendRow(row);\n        }\n\n        /**\n         * @param {TuliaEditor.Document.Domain.Grid.Entity.Row} row\n         * @param {TuliaEditor.Document.Domain.Grid.Entity.Row} after\n         */\n        insertRowAfter (row, after) {\n            if (! (row instanceof TuliaEditor.Document.Domain.Grid.Entity.Row)) {\n                throw new Error('Row must be instance of \"TuliaEditor.Document.Domain.Grid.Entity.Row\".');\n            }\n\n            if (! (after instanceof TuliaEditor.Document.Domain.Grid.Entity.Row)) {\n                throw new Error('The \"after\" element must be instance of \"TuliaEditor.Document.Domain.Grid.Entity.Row\".');\n            }\n\n            for (let i in after.parent.rows) {\n                if (after.parent.rows[i].id === after.id) {\n                    after.parent.rows.splice(i++, 0, row);\n\n                    row.parent = after.parent;\n                    break;\n                }\n            }\n        }\n\n        /**\n         * @param {TuliaEditor.Document.Domain.Grid.Entity.Row} row\n         * @param {TuliaEditor.Document.Domain.Grid.Entity.Row} before\n         */\n        insertRowBefore (row, before) {\n            if (! (row instanceof TuliaEditor.Document.Domain.Grid.Entity.Row)) {\n                throw new Error('Row must be instance of \"TuliaEditor.Document.Domain.Grid.Entity.Row\".');\n            }\n\n            if (! (before instanceof TuliaEditor.Document.Domain.Grid.Entity.Row)) {\n                throw new Error('The \"before\" element must be instance of \"TuliaEditor.Document.Domain.Grid.Entity.Row\".');\n            }\n\n            for (let i in before.parent.rows) {\n                if (before.parent.rows[i].id === before.id) {\n                    before.parent.rows.splice(i, 0, row);\n\n                    row.parent = before.parent;\n                    break;\n                }\n            }\n        }\n\n        /**\n         * @param {TuliaEditor.Document.Domain.Grid.Entity.Block} block\n         * @param {TuliaEditor.Document.Domain.Grid.Entity.Column} column\n         */\n        insertBlock (block, column) {\n            if (! (block instanceof TuliaEditor.Document.Domain.Grid.Entity.Block)) {\n                throw new Error('Block must be instance of \"TuliaEditor.Document.Domain.Grid.Entity.Block\".');\n            }\n            if (! (column instanceof TuliaEditor.Document.Domain.Grid.Entity.Column)) {\n                throw new Error('Column must be instance of \"TuliaEditor.Document.Domain.Grid.Entity.Column\".');\n            }\n\n            column.appendBlock(block);\n        }\n\n        /**\n         * @param {TuliaEditor.Document.Domain.Grid.Entity.Block} block\n         * @param {TuliaEditor.Document.Domain.Grid.Entity.Block} after\n         */\n        insertBlockAfter (block, after) {\n            if (! (block instanceof TuliaEditor.Document.Domain.Grid.Entity.Block)) {\n                throw new Error('Row must be instance of \"TuliaEditor.Document.Domain.Grid.Entity.Block\".');\n            }\n\n            if (! (after instanceof TuliaEditor.Document.Domain.Grid.Entity.Block)) {\n                throw new Error('The \"after\" element must be instance of \"TuliaEditor.Document.Domain.Grid.Entity.Block\".');\n            }\n\n            for (let i in after.parent.blocks) {\n                if (after.parent.blocks[i].id === after.id) {\n                    after.parent.blocks.splice(i++, 0, block);\n\n                    block.parent = after.parent;\n                    break;\n                }\n            }\n        }\n\n        /**\n         * @param {TuliaEditor.Document.Domain.Grid.Entity.Block} block\n         * @param {TuliaEditor.Document.Domain.Grid.Entity.Block} before\n         */\n        insertBlockBefore (block, before) {\n            if (! (block instanceof TuliaEditor.Document.Domain.Grid.Entity.Block)) {\n                throw new Error('Row must be instance of \"TuliaEditor.Document.Domain.Grid.Entity.Block\".');\n            }\n\n            if (! (before instanceof TuliaEditor.Document.Domain.Grid.Entity.Block)) {\n                throw new Error('The \"before\" element must be instance of \"TuliaEditor.Document.Domain.Grid.Entity.Block\".');\n            }\n\n            for (let i in before.parent.blocks) {\n                if (before.parent.blocks[i].id === before.id) {\n                    before.parent.blocks.splice(i, 0, block);\n\n                    block.parent = before.parent;\n                    break;\n                }\n            }\n        }\n\n        export () {\n            let data = [];\n\n            for (let section of this.document.sections) {\n                data.push(section.export());\n            }\n\n            return data;\n        }\n\n        /**\n         * @param {Number} deep 1=Rows, 2=Rows+Columns, 3=Rows+Columns+Blocks\n         * @return {string}\n         */\n        dump (deep) {\n            let result = '';\n            deep = deep || 3;\n\n            for (let row of this.document.rows) {\n                result += 'row - ' + row.id + \"\\n\";\n\n                if (deep >= 2) {\n                    for (let column of row.columns) {\n                        result += '  column - ' + column.id + \"\\n\";\n\n                        if (deep >= 3) {\n                            for (let block of column.blocks) {\n                                result += '    block - ' + block.id + \"\\n\";\n                            }\n                        }\n                    }\n                }\n            }\n\n            return result;\n        }\n    }\n\n    TuliaEditor.ns('TuliaEditor.Document.Domain.Model.Structure', Structure);\n}());\n","(function () {\n    class AbstractEntity {\n        /** @type {TuliaEditor.Document.Domain.Grid.Entity.AbstractEntity} */\n        parent;\n\n        /**\n         * @type {Object}\n         */\n        data = {};\n\n        export () {\n            return {};\n        }\n    }\n\n    TuliaEditor.ns('TuliaEditor.Document.Domain.Grid.Entity.AbstractEntity', AbstractEntity);\n}());\n","(function () {\n    class Section extends TuliaEditor.Document.Domain.Grid.Entity.AbstractEntity {\n        /** @type {TuliaEditor.Document.Domain.Grid.Entity.Row[]} */\n        rows = [];\n\n        /** @type {String} */\n        id;\n\n        /**\n         * @param {String} id\n         */\n        constructor (id) {\n            super();\n\n            /** @type {String} */\n            this.id = id;\n        }\n\n        get type () {\n            return 'section';\n        }\n\n        /**\n         * @param {TuliaEditor.Document.Domain.Grid.Entity.Row} row\n         */\n        appendRow (row) {\n            if (! (row instanceof TuliaEditor.Document.Domain.Grid.Entity.Row)) {\n                throw new Error('Row must be instance of \"TuliaEditor.Document.Domain.Grid.Entity.Row\".');\n            }\n\n            row.parent = this;\n            this.rows.push(row);\n        }\n\n        export () {\n            let rows = [];\n\n            for (let c in this.rows) {\n                rows.push(this.rows[c].export());\n            }\n\n            return {\n                id: this.id,\n                rows: rows\n            }\n        }\n    }\n\n    TuliaEditor.ns('TuliaEditor.Document.Domain.Grid.Entity.Section', Section);\n}());\n","(function () {\n    class Row extends TuliaEditor.Document.Domain.Grid.Entity.AbstractEntity {\n        /** @type {String} */\n        id;\n\n        /** @type {TuliaEditor.Document.Domain.Grid.Entity.Column[]} */\n        columns = [];\n\n        /**\n         * @param {String} id\n         */\n        constructor (id) {\n            super();\n\n            /** @type {String} */\n            this.id = id;\n        }\n\n        get type () {\n            return 'row';\n        }\n\n        /**\n         * @param {TuliaEditor.Document.Domain.Grid.Entity.Column} column\n         */\n        appendColumn (column) {\n            if (! column instanceof TuliaEditor.Document.Domain.Grid.Entity.Column) {\n                throw new Error('Column must be instance of \"TuliaEditor.Document.Domain.Grid.Entity.Column\" class.');\n            }\n\n            column.parent = this;\n\n            this.columns.push(column);\n        }\n\n        export () {\n            let columns = [];\n\n            for (let c in this.columns) {\n                columns.push(this.columns[c].export());\n            }\n\n            return {\n                id: this.id,\n                columns: columns\n            }\n        }\n    }\n\n    TuliaEditor.ns('TuliaEditor.Document.Domain.Grid.Entity.Row', Row);\n}());\n","(function () {\n    class Column extends TuliaEditor.Document.Domain.Grid.Entity.AbstractEntity {\n        /** @type {String} */\n        id;\n\n        /** @type {TuliaEditor.Document.Domain.Grid.Entity.Block[]} */\n        blocks = [];\n\n        /** @type {TuliaEditor.Document.Domain.Grid.Entity.Column.SizeCollection} */\n        size;\n\n        /**\n         * @param {String} id\n         */\n        constructor (id) {\n            super();\n\n            /** @type {String} */\n            this.id = id;\n\n            /** @type {TuliaEditor.Document.Domain.Grid.Entity.Column.SizeCollection} */\n            this.size = new TuliaEditor.Document.Domain.Grid.Entity.Column.SizeCollection();\n        }\n\n        get type () {\n            return 'column';\n        }\n\n        /**\n         * @param {TuliaEditor.Document.Domain.Grid.Entity.Block} block\n         */\n        appendBlock (block) {\n            if (! (block instanceof TuliaEditor.Document.Domain.Grid.Entity.Block)) {\n                throw new Error('Block must be instance of \"TuliaEditor.Document.Domain.Grid.Entity.Block\" class.');\n            }\n\n            block.parent = this;\n\n            this.blocks.push(block);\n        }\n\n        export () {\n            let blocks = [];\n\n            for (let b in this.blocks) {\n                blocks.push(this.blocks[b].export());\n            }\n\n            return {\n                id: this.id,\n                row_id: this.parent.id,\n                size: this.size.serialize(),\n                blocks: blocks\n            }\n        }\n    }\n\n    TuliaEditor.ns('TuliaEditor.Document.Domain.Grid.Entity.Column', Column);\n}());\n","(function () {\n    class Block extends TuliaEditor.Document.Domain.Grid.Entity.AbstractEntity {\n        /** @type {String} */\n        id;\n\n        /** @type {TuliaEditor.Block.Domain.Block.AbstractBlock} */\n        block;\n\n        /**\n         * @param {String} id\n         * @param {TuliaEditor.Block.Domain.Block.AbstractBlock} block\n         */\n        constructor (id, block) {\n            super();\n\n            /** @type {String} */\n            this.id = id;\n            /** @type {TuliaEditor.Block.Domain.Block.AbstractBlock} */\n            this.block = block;\n        }\n\n        get type () {\n            return 'block';\n        }\n\n        /**\n         * @return {Object}\n         */\n        export () {\n            return {\n                id: this.id,\n                column_id: this.parent.id,\n                type: this.block.type,\n                data: this.block.export()\n            }\n        }\n    }\n\n    TuliaEditor.ns('TuliaEditor.Document.Domain.Grid.Entity.Block', Block);\n}());\n","(function () {\n    class Size {\n        /**\n         * @param {String} breakpoint\n         * @param {Number} size\n         */\n        constructor (breakpoint, size) {\n            this.breakpoint = breakpoint;\n            this.size = parseInt(size);\n        }\n    }\n\n    TuliaEditor.ns('TuliaEditor.Document.Domain.Grid.Entity.Column.Size', Size);\n}());\n","(function () {\n    class SizeCollection {\n        /** @type {TuliaEditor.Document.Domain.Grid.Entity.Column.Size[]} */\n        collection = [];\n\n        /**\n         * @param {TuliaEditor.Document.Domain.Grid.Entity.Column.Size} size\n         */\n        set (size) {\n            for (let i in this.collection) {\n                if (this.collection[i].breakpoint === size.breakpoint) {\n                    this.collection[i] = size;\n                    return;\n                }\n            }\n\n            this.collection.push(size);\n        }\n\n        get (breakpoint) {\n            for (let size of this.collection) {\n                if (size.breakpoint === breakpoint) {\n                    return size.size;\n                }\n            }\n        }\n\n        serialize () {\n            let sizes = [];\n\n            for (let size of this.collection) {\n                sizes.push({\n                    breakpoint: size.breakpoint,\n                    size: size.size\n                });\n            }\n\n            return sizes;\n        }\n    }\n\n    TuliaEditor.ns('TuliaEditor.Document.Domain.Grid.Entity.Column.SizeCollection', SizeCollection);\n}());\n","(function () {\n    class SourceParser {\n        /**\n         * @param {TuliaEditor.Block.Domain.Block.BlocksRegistry} blocksRegistry\n         */\n        constructor (blocksRegistry) {\n            /** @type {TuliaEditor.Block.Domain.Block.BlocksRegistry} */\n            this.blocksRegistry = blocksRegistry;\n        }\n\n        /**\n         * @param {Object} source\n         * @return {TuliaEditor.Document.Domain.Model.Structure}\n         */\n        parse (source) {\n            /** @type {TuliaEditor.Document.Domain.Grid.Entity.Document} document */\n            let document = new TuliaEditor.Document.Domain.Grid.Entity.Document();\n\n            for (let s in source) {\n                let section = new TuliaEditor.Document.Domain.Grid.Entity.Section(\n                    source[s].id ?? TuliaEditor.uuid()\n                );\n                section.data = source[s].data ?? {};\n\n                for (let r in source[s].rows) {\n                    let row = new TuliaEditor.Document.Domain.Grid.Entity.Row(\n                        source[s].rows[r].id ?? TuliaEditor.uuid()\n                    );\n                    row.data = source[s].rows[r].data ?? {};\n\n                    for (let c in source[s].rows[r].columns) {\n                        let column = new TuliaEditor.Document.Domain.Grid.Entity.Column(\n                            source[s].rows[r].columns[c].id ?? TuliaEditor.uuid()\n                        );\n                        column.data = source[s].rows[r].columns[c].data ?? {};\n                        this.parseSize(column, source[s].rows[r].columns[c].size);\n\n                        for (let b in source[s].rows[r].columns[c].blocks) {\n                            let block = new TuliaEditor.Document.Domain.Grid.Entity.Block(\n                                source[s].rows[r].columns[c].blocks[b].id ?? TuliaEditor.uuid(),\n                                this.blocksRegistry.get(source[s].rows[r].columns[c].blocks[b].type)\n                            );\n                            block.data = source[s].rows[r].columns[c].blocks[b].data ?? {};\n\n                            column.appendBlock(block);\n                        }\n\n                        row.appendColumn(column);\n                    }\n\n                    section.appendRow(row);\n                }\n\n                document.appendSection(section);\n            }\n\n            return new TuliaEditor.Document.Domain.Model.Structure(document);\n        }\n\n        /**\n         * @internal\n         * @param {TuliaEditor.Document.Domain.Grid.Entity.Column} column\n         * @param {Object} source\n         */\n        parseSize (column, source) {\n            for (let size of source) {\n                if (this.sizeContainsRequiredData(size)) {\n                    column.size.set(new TuliaEditor.Document.Domain.Grid.Entity.Column.Size(\n                        size.breakpoint,\n                        size.size,\n                    ));\n                }\n            }\n        }\n\n        /**\n         * @internal\n         * @param {Object} size\n         * @return {boolean}\n         */\n        sizeContainsRequiredData (size) {\n            return size.breakpoint && typeof(size.breakpoint) === 'string'\n                && size.size && typeof(size.size) === 'number';\n        }\n    }\n\n    TuliaEditor.ns('TuliaEditor.Document.Domain.Service.SourceParser', SourceParser);\n}());\n","(function () {\n    class BlockDuplicator {\n        /**\n         * @param {TuliaEditor.Block.Domain.Block.BlocksRegistry} blocksRegistry\n         */\n        constructor(blocksRegistry) {\n            /** @type {TuliaEditor.Block.Domain.Block.BlocksRegistry} */\n            this.blocksRegistry = blocksRegistry;\n        }\n\n        /**\n         * @param {TuliaEditor.Document.Domain.Grid.Entity.Block} block\n         */\n        duplicate (block) {\n            let blockData = block.export();\n\n            let duplicate = new TuliaEditor.Document.Domain.Grid.Entity.Block(\n                TuliaEditor.uuid(),\n                this.blocksRegistry.get(blockData.type)\n            );\n\n            duplicate.data = $.extend({}, true, blockData.data);\n            duplicate.block.data = duplicate.data;\n\n            return duplicate;\n        }\n    }\n\n    TuliaEditor.ns('TuliaEditor.Document.Domain.Service.BlockDuplicator', BlockDuplicator);\n}());\n","(function () {\n    class Grid {\n        /**\n         * @param {TuliaEditor.Layout.Infrastructure.View.Canvas} canvas\n         * @param {TuliaEditor.Document.Infrastructure.View.Grid.Renderer.RendererFactory} rendererFactory\n         * @param {TuliaEditor.Document.Infrastructure.View.Structure.NodesStorage} storage\n         */\n        constructor (canvas, rendererFactory, storage) {\n            /** @type {TuliaEditor.Layout.Infrastructure.View.Canvas} */\n            this.canvas = canvas;\n            /** @type {TuliaEditor.Document.Infrastructure.View.Grid.Renderer.RendererFactory} */\n            this.rendererFactory = rendererFactory;\n            /** @type {TuliaEditor.Document.Infrastructure.View.Structure.NodesStorage} */\n            this.storage = storage;\n        }\n\n        /**\n         * Renders page content and appends it to the Canvas.\n         *\n         * @param {TuliaEditor.Document.Domain.Model.Structure} structure\n         */\n        render (structure) {\n            let body = this.canvas.body;\n            this.storage.set('structure', body);\n\n            body.empty();\n\n            for (let section of structure.document.sections) {\n                body.append(this.renderSection(section, 'preview'));\n            }\n        }\n\n        /**\n         * @param {TuliaEditor.Document.Domain.Grid.Entity.Row|TuliaEditor.Document.Domain.Grid.Entity.Column|TuliaEditor.Document.Domain.Grid.Entity.Block} element\n         */\n        removeElement (element) {\n            this.storage.get(element.id).remove();\n            this.storage.remove(element.id);\n        }\n\n        /**\n         * @param {TuliaEditor.Document.Domain.Grid.Entity.Row|TuliaEditor.Document.Domain.Grid.Entity.Column|TuliaEditor.Document.Domain.Grid.Entity.Block} element\n         * @param {String} position\n         * @param {TuliaEditor.Document.Domain.Grid.Entity.Row|TuliaEditor.Document.Domain.Grid.Entity.Column|TuliaEditor.Document.Domain.Grid.Entity.Block|null} target\n         */\n        insertElement (element, position, target) {\n            if (element instanceof TuliaEditor.Document.Domain.Grid.Entity.Block) {\n                this.renderBlock(element);\n            }\n            if (element instanceof TuliaEditor.Document.Domain.Grid.Entity.Column) {\n                this.renderColumn(element);\n            }\n            if (element instanceof TuliaEditor.Document.Domain.Grid.Entity.Row) {\n                this.renderRow(element);\n            }\n            if (element instanceof TuliaEditor.Document.Domain.Grid.Entity.Section) {\n                this.renderSection(element);\n            }\n\n            let targetNode = this.storage.get(target.id);\n            let sourceNode = this.storage.get(element.id);\n\n            if (position === 'before') {\n                sourceNode.insertBefore(targetNode);\n            }\n            if (position === 'after') {\n                sourceNode.insertAfter(targetNode);\n            }\n            if (position === 'inside') {\n                targetNode.append(sourceNode);\n            }\n        }\n\n        /**\n         * @param {TuliaEditor.Document.Domain.Grid.Entity.Section} section\n         * @return {jQuery}\n         */\n        renderSection (section) {\n            let rows = $('<div></div>');\n\n            /** @type TuliaEditor.Document.Domain.Grid.Entity.Column column */\n            for (let row of section.rows) {\n                rows.append(this.renderRow(row));\n            }\n\n            let node = this.rendererFactory.getRenderer('section').render(section, rows.contents());\n\n            this.storage.set(section.id, node);\n\n            return node;\n        }\n\n        /**\n         * @param {TuliaEditor.Document.Domain.Grid.Entity.Row} row\n         * @return {jQuery}\n         */\n        renderRow (row) {\n            let columns = $('<div></div>');\n\n            /** @type TuliaEditor.Document.Domain.Grid.Entity.Column column */\n            for (let column of row.columns) {\n                columns.append(this.renderColumn(column));\n            }\n\n            let node = this.rendererFactory.getRenderer('row').render(row, columns.contents());\n\n            this.storage.set(row.id, node);\n\n            return node;\n        }\n\n        /**\n         * @param {TuliaEditor.Document.Domain.Grid.Entity.Column} column\n         * @return {jQuery}\n         */\n        renderColumn (column) {\n            let blocks = $('<div></div>');\n\n            /** @type TuliaEditor.Document.Domain.Grid.Entity.Block block */\n            for (let block of column.blocks) {\n                blocks.append(this.renderBlock(block));\n            }\n\n            let node = this.rendererFactory.getRenderer('column').render(column, blocks.contents());\n\n            this.storage.set(column.id, node);\n\n            return node;\n        }\n\n        /**\n         * @param {TuliaEditor.Document.Domain.Grid.Entity.Block} entity\n         * @return {jQuery}\n         */\n        renderBlock (entity) {\n            entity.block.node = $('<div></div>');\n            entity.block.data = entity.data;\n            entity.block.render();\n\n            let node = this.rendererFactory.getRenderer('block').render(entity, entity.block.node);\n\n            this.storage.set(entity.id, node);\n\n            return node;\n        }\n    }\n\n    TuliaEditor.ns('TuliaEditor.Document.Infrastructure.View.Grid.Grid', Grid);\n}());\n","(function () {\n    class RendererFactory {\n        /**\n         * @param {TuliaEditor.Document.Infrastructure.View.Grid.Renderer.SectionRenderer} sectionRenderer\n         * @param {TuliaEditor.Document.Infrastructure.View.Grid.Renderer.RowRenderer} rowRenderer\n         * @param {TuliaEditor.Document.Infrastructure.View.Grid.Renderer.ColumnRenderer} columnRenderer\n         * @param {TuliaEditor.Document.Infrastructure.View.Grid.Renderer.BlockRenderer} blockRenderer\n         */\n        constructor (sectionRenderer, rowRenderer, columnRenderer, blockRenderer) {\n            /** @type {TuliaEditor.Document.Infrastructure.View.Grid.Renderer.SectionRenderer} */\n            this.sectionRenderer = sectionRenderer;\n            /** @type {TuliaEditor.Document.Infrastructure.View.Grid.Renderer.RowRenderer} */\n            this.rowRenderer = rowRenderer;\n            /** @type {TuliaEditor.Document.Infrastructure.View.Grid.Renderer.ColumnRenderer} */\n            this.columnRenderer = columnRenderer;\n            /** @type {TuliaEditor.Document.Infrastructure.View.Grid.Renderer.BlockRenderer} */\n            this.blockRenderer = blockRenderer;\n        }\n\n        getRenderer (type) {\n            if (type === 'section') {\n                return this.sectionRenderer;\n            }\n            if (type === 'row') {\n                return this.rowRenderer;\n            }\n            if (type === 'column') {\n                return this.columnRenderer;\n            }\n            if (type === 'block') {\n                return this.blockRenderer;\n            }\n        }\n    }\n\n    TuliaEditor.ns('TuliaEditor.Document.Infrastructure.View.Grid.Renderer.RendererFactory', RendererFactory);\n}());\n","(function () {\n    class SectionRenderer {\n        /**\n         * @param {TuliaEditor.Document.Domain.Grid.Entity.Section} section\n         * @param {jQuery} content\n         * @return {jQuery}\n         */\n        render (section, content) {\n            let node = $('<div class=\"tued-node-section tued-node-section-placeholder\" id=\"tued-section-id-' + section.id + '\" data-tued-element-id=\"' + section.id + '\" data-tued-selectable data-tued-contextmenu=\"section\"></div>');\n\n            node.append(content);\n\n            return node;\n        }\n\n        /**\n         * @param {TuliaEditor.Document.Domain.Grid.Entity.Section} section\n         * @param {jQuery} content\n         * @return {jQuery}\n         */\n        export (section, content) {\n            let elm = $('<section class=\"tued-node-section\" id=\"tued-section-id-' + section.id + '\"></section>');\n\n            elm.append(content);\n\n            return elm;\n        }\n    }\n\n    TuliaEditor.ns('TuliaEditor.Document.Infrastructure.View.Grid.Renderer.SectionRenderer', SectionRenderer);\n}());\n","(function () {\n    class RowRenderer {\n        /**\n         * @param {TuliaEditor.Document.Domain.Grid.Entity.Row} row\n         * @param {jQuery} content\n         * @return {jQuery}\n         */\n        render (row, content) {\n            let node = $('<div class=\"tued-node-row container\" id=\"tued-row-id-' + row.id + '\" data-tued-element-id=\"' + row.id + '\" data-tued-selectable data-tued-contextmenu=\"row\"><div class=\"row tued-node-row-placeholder\"></div></div>');\n\n            node.find('.row').append(content);\n\n            return node;\n        }\n\n        /**\n         * @param {TuliaEditor.Document.Domain.Grid.Entity.Row} row\n         * @param {jQuery} content\n         * @return {jQuery}\n         */\n        export (row, content) {\n            let elm = $('<div class=\"tued-node-row container\" id=\"tued-row-id-' + row.id + '\"><div class=\"row\"></div></div>');\n\n            elm.find('.row').append(content);\n\n            return elm;\n        }\n    }\n\n    TuliaEditor.ns('TuliaEditor.Document.Infrastructure.View.Grid.Renderer.RowRenderer', RowRenderer);\n}());\n","(function () {\n    class ColumnRenderer {\n        DEFAULT_CLASSLIST = 'tued-node-column tued-node-column-placeholder';\n\n        /**\n         * @param {TuliaEditor.Document.Infrastructure.FrontendFramework.FrameworkProvider} frameworkProvider\n         */\n        constructor (frameworkProvider) {\n            /** @type {TuliaEditor.Document.Infrastructure.FrontendFramework.FrameworkProvider} */\n            this.frameworkProvider = frameworkProvider;\n        }\n\n        /**\n         * @param {TuliaEditor.Document.Domain.Grid.Entity.Column} column\n         * @param {jQuery} content\n         * @return {jQuery}\n         */\n        render (column, content) {\n            let node = $('<div class=\"' + this.DEFAULT_CLASSLIST + '\" id=\"tued-column-id-' + column.id + '\" data-tued-element-id=\"' + column.id + '\" data-tued-selectable data-tued-contextmenu=\"column\"></div>');\n\n            for (let size of column.size.collection) {\n                node.addClass(this.frameworkProvider.getGridSizeProvider().getSizeClass(size.size, size.breakpoint));\n            }\n\n            node.append(content);\n\n            return node;\n        }\n\n        /**\n         * @param {TuliaEditor.Document.Domain.Grid.Entity.Column} column\n         * @param {jQuery} node\n         */\n        update (column, node) {\n            let classlist = this.DEFAULT_CLASSLIST;\n\n            for (let size of column.size.collection) {\n                classlist += ' ' + this.frameworkProvider.getGridSizeProvider().getSizeClass(size.size, size.breakpoint);\n            }\n\n            node.attr('class', classlist);\n        }\n\n        /**\n         * @param {TuliaEditor.Document.Domain.Grid.Entity.Column} column\n         * @param {jQuery} content\n         * @return {jQuery}\n         */\n        export (column, content) {\n            let elm = $('<div class=\"tued-node-column col-sm\" id=\"tued-column-id-' + column.id + '\"></div>');\n\n            elm.append(content);\n\n            return elm;\n        }\n    }\n\n    TuliaEditor.ns('TuliaEditor.Document.Infrastructure.View.Grid.Renderer.ColumnRenderer', ColumnRenderer);\n}());\n","(function () {\n    class BlockRenderer {\n        /**\n         * @param {TuliaEditor.Document.Domain.Grid.Entity.Block} block\n         * @param {jQuery} content\n         * @return {jQuery}\n         */\n        render (block, content) {\n            let node = $('<div class=\"tued-node-block\" id=\"tued-block-id-' + block.id + '\" data-tued-element-id=\"' + block.id + '\" data-tued-selectable data-tued-contextmenu=\"block\"></div>');\n\n            node.append(content);\n\n            return node;\n        }\n\n        /**\n         * @param {TuliaEditor.Document.Domain.Grid.Entity.Block} block\n         * @param {jQuery} content\n         * @return {jQuery}\n         */\n        export (block, content) {\n            let elm = $('<div class=\"tued-node-block\" id=\"tued-block-id-' + block.id + '\"></div>');\n\n            elm.append(content);\n\n            return elm;\n        }\n    }\n\n    TuliaEditor.ns('TuliaEditor.Document.Infrastructure.View.Grid.Renderer.BlockRenderer', BlockRenderer);\n}());\n","(function () {\n    class NodesStorage {\n        /** @type {jQuery[]} */\n        nodes = {};\n\n        /**\n         * @param {TuliaEditor.Layout.Infrastructure.View.Canvas} canvas\n         */\n        constructor (canvas) {\n            /** @type {TuliaEditor.Layout.Infrastructure.View.Canvas} */\n            this.canvas = canvas;\n        }\n\n        /**\n         * @param {String} id\n         * @return {boolean}\n         */\n        has (id) {\n            return !! this.nodes[id];\n        }\n\n        /**\n         * @param {String} id\n         * @return {null|jQuery}\n         */\n        get (id) {\n            return this.nodes[id] ?? null;\n        }\n\n        /**\n         * @param {String} id\n         * @param {jQuery} node\n         */\n        set (id, node) {\n            this.nodes[id] = node;\n        }\n\n        /**\n         * @param {String} id\n         */\n        remove (id) {\n            if (this.has(id)) {\n                delete this.nodes[id];\n            }\n        }\n\n        /**\n         * @param {jQuery} node\n         * @return {String|null}\n         */\n        getIdByNode (node) {\n            for (let id in this.nodes) {\n                if (node.is(this.nodes[id])) {\n                    return id;\n                }\n            }\n\n            return this.getIdByNode(node.parent());\n        }\n    }\n\n    TuliaEditor.ns('TuliaEditor.Document.Infrastructure.View.Structure.NodesStorage', NodesStorage);\n}());\n","(function () {\n    class FrameworkProvider {\n        /** @type {TuliaEditor.Document.Infrastructure.FrontendFramework.Contract.AbstractFramework} */\n        provider = null;\n\n        /**\n         * @param {Object} options\n         * @param {TuliaEditor.Shared.DependencyInjection.Container} container\n         */\n        constructor (options, container) {\n            /** @type {TuliaEditor.Document.Infrastructure.FrontendFramework.Contract.AbstractSizeProvider} */\n            this.options = options;\n\n            let services = container.getTaggedServices('document.framework.type');\n            let types = [];\n\n            for (let i = 0; i < services.length; i++) {\n                types.push(services[i].tag.type);\n\n                if (this.options.framework === services[i].tag.type) {\n                    this.provider = container.get(services[i].service);\n                }\n            }\n\n            if (this.provider === null) {\n                let alertText = 'Unsupported Framework setted. Available are only ' + types.join(', ') + '.';\n                alert(alertText);\n                throw new Error(alertText);\n            }\n        }\n\n        /**\n         * Grid size (columns width) provider.\n         *\n         * @return {TuliaEditor.Document.Infrastructure.FrontendFramework.Proxy.ColumnSizeProvider}\n         */\n        getGridSizeProvider () {\n            return new TuliaEditor.Document.Infrastructure.FrontendFramework.Proxy.ColumnSizeProvider(this.provider.getGridSizeProvider());\n        }\n\n        /**\n         * Margin/padding provider for all types of the content (sections, rows, columns and blocks).\n         */\n        getSizingProvider () {\n\n        }\n    }\n\n    TuliaEditor.ns('TuliaEditor.Document.Infrastructure.FrontendFramework.FrameworkProvider', FrameworkProvider);\n}());\n","(function () {\n    class AbstractFramework {\n        /**\n         * Grid size (columns width) provider.\n         *\n         * @return {TuliaEditor.Document.Infrastructure.FrontendFramework.Contract.AbstractSizeProvider}\n         */\n        getGridSizeProvider () {\n\n        }\n\n        /**\n         * Margin/padding provider for all types of the content (sections, rows, columns and blocks).\n         */\n        getSizingProvider () {\n\n        }\n\n        /**\n         * Tells whether the Framework supports Mobile-First or is tradittionally Desktop-First.\n         *\n         * @return {boolean}\n         */\n        isMobileFirst () {\n            return false;\n        }\n    }\n\n    TuliaEditor.ns('TuliaEditor.Document.Infrastructure.FrontendFramework.Contract.AbstractFramework', AbstractFramework);\n}());\n","(function () {\n    class AbstractSizeProvider {\n        /**\n         * @return {String}\n         */\n        get framework () {\n            return '';\n        }\n\n        /**\n         * @param {String} size\n         * @param {String} breakpoint\n         * @return {String}\n         */\n        getSizeClass (size, breakpoint) {\n            return '';\n        }\n\n        /**\n         * @return {Number}\n         */\n        getColumnsCount () {\n            return 12;\n        }\n\n        /**\n         * @return {Array}\n         */\n        getBreakpoints () {\n            return [new TuliaEditor.Document.Infrastructure.FrontendFramework.Model.Grid.Breakpoint('desktop', 1200)];\n        }\n\n        /**\n         * @return {TuliaEditor.Document.Infrastructure.FrontendFramework.Model.Grid.Breakpoint}\n         */\n        getDesktopBreakpoint () {\n            return this.getBreakpoints()[0];\n        }\n    }\n\n    TuliaEditor.ns('TuliaEditor.Document.Infrastructure.FrontendFramework.Contract.AbstractSizeProvider', AbstractSizeProvider);\n}());\n","(function () {\n    class Bootstrap5Framework extends TuliaEditor.Document.Infrastructure.FrontendFramework.Contract.AbstractFramework {\n        /**\n         * @return {TuliaEditor.Document.Infrastructure.FrontendFramework.BuiltInFramework.Bootstrap5.SizeProvider}\n         */\n        getGridSizeProvider () {\n            return new TuliaEditor.Document.Infrastructure.FrontendFramework.BuiltInFramework.Bootstrap5.SizeProvider();\n        }\n\n        /**\n         * @return {Boolean}\n         */\n        isMobileFirst () {\n            return true;\n        }\n    }\n\n    TuliaEditor.ns('TuliaEditor.Document.Infrastructure.FrontendFramework.BuiltInFramework.Bootstrap5.Bootstrap5Framework', Bootstrap5Framework);\n\n    TuliaEditor.services['TuliaEditor.Document.Infrastructure.FrontendFramework.BuiltInFramework.Bootstrap5.Bootstrap5Framework'] = {\n        'class': Bootstrap5Framework,\n        'tags': [\n            {'name': 'document.framework.type', 'type': 'bootstrap-5'},\n        ]\n    };\n}());\n","(function () {\n    class SizeProvider extends TuliaEditor.Document.Infrastructure.FrontendFramework.Contract.AbstractSizeProvider {\n        /**\n         * @inheritDoc\n         */\n        get framework () {\n            return 'bootstrap-5';\n        }\n\n        /**\n         * @inheritDoc\n         */\n        getSizeClass (size, breakpoint) {\n            let sizeClass = 'col-';\n\n            switch (breakpoint) {\n                case 'xs': break;\n                case 'sm': sizeClass += 'sm-'; break;\n                case 'md': sizeClass += 'md-'; break;\n                case 'lg': sizeClass += 'lg-'; break;\n                case 'xl': sizeClass += 'xl-'; break;\n                case 'xxl': sizeClass += 'xxl-'; break;\n            }\n\n            switch (size) {\n                case 1: sizeClass += '1'; break;\n                case 2: sizeClass += '2'; break;\n                case 3: sizeClass += '3'; break;\n                case 4: sizeClass += '4'; break;\n                case 5: sizeClass += '5'; break;\n                case 6: sizeClass += '6'; break;\n                case 7: sizeClass += '7'; break;\n                case 8: sizeClass += '8'; break;\n                case 9: sizeClass += '9'; break;\n                case 10: sizeClass += '10'; break;\n                case 11: sizeClass += '11'; break;\n                case 12: sizeClass += '12'; break;\n            }\n\n            return sizeClass;\n        }\n\n        /**\n         * @inheritDoc\n         */\n        getBreakpoints () {\n            return [\n                new TuliaEditor.Document.Infrastructure.FrontendFramework.Model.Grid.Breakpoint('xxl', 1400),\n                new TuliaEditor.Document.Infrastructure.FrontendFramework.Model.Grid.Breakpoint('xl', 1200),\n                new TuliaEditor.Document.Infrastructure.FrontendFramework.Model.Grid.Breakpoint('lg', 992),\n                new TuliaEditor.Document.Infrastructure.FrontendFramework.Model.Grid.Breakpoint('md', 768),\n                new TuliaEditor.Document.Infrastructure.FrontendFramework.Model.Grid.Breakpoint('sm', 576),\n                new TuliaEditor.Document.Infrastructure.FrontendFramework.Model.Grid.Breakpoint('xs', 380),\n            ];\n        }\n    }\n\n    TuliaEditor.ns('TuliaEditor.Document.Infrastructure.FrontendFramework.BuiltInFramework.Bootstrap5.SizeProvider', SizeProvider);\n}());\n","(function () {\n    class Breakpoint {\n        /** @type @param {String} */\n        name;\n\n        /** @type @param {Number} */\n        width;\n\n        /**\n         * @param {String} name\n         * @param {Number} width\n         */\n        constructor(name, width) {\n            this.name = name;\n            this.width = width;\n        }\n    }\n\n    TuliaEditor.ns('TuliaEditor.Document.Infrastructure.FrontendFramework.Model.Grid.Breakpoint', Breakpoint);\n}());\n","(function () {\n    class ColumnSizeProvider {\n        /**\n         * @param {TuliaEditor.Document.Infrastructure.FrontendFramework.FrameworkProvider} provider\n         */\n        constructor (provider) {\n            /** @type {TuliaEditor.Document.Infrastructure.FrontendFramework.FrameworkProvider} */\n            this.provider = provider;\n        }\n\n        getSizeClass (size, breakpoint) {\n            return this.provider.getSizeClass(size, breakpoint);\n        }\n\n        /**\n         * @param {String} name\n         * @return {TuliaEditor.Document.Infrastructure.FrontendFramework.Model.Grid.Breakpoint}\n         */\n        getBreakpoint (name) {\n            let breakpoints = this.provider.getBreakpoints();\n\n            for (let i in breakpoints) {\n                if (breakpoints[i].name === name) {\n                    return breakpoints[i];\n                }\n            }\n\n            throw new Error('Breakpoint named \"' + name + '\" not exists.');\n        }\n\n        getBreakpoints () {\n            return this.provider.getBreakpoints().sort(function (a, b) {\n                return b.width - a.width;\n            });\n        }\n\n        getDesktopBreakpoint () {\n            return this.provider.getDesktopBreakpoint();\n        }\n\n        getColumnsCount () {\n            return this.provider.getColumnsCount();\n        }\n    }\n\n    TuliaEditor.ns('TuliaEditor.Document.Infrastructure.FrontendFramework.Proxy.ColumnSizeProvider', ColumnSizeProvider);\n}());\n","(function() {\n    class SelectedBlockExecutor {\n        /**\n         * @param {TuliaEditor.Block.Domain.Block.BlockPicker} blockPicker\n         */\n        constructor (blockPicker) {\n            /** @type {TuliaEditor.Block.Domain.Block.BlockPicker} */\n            this.blockPicker = blockPicker;\n        }\n\n        /**\n         * Awaits for block click event, from BlockPicker.\n         *\n         * @internal\n         * @param {String} type\n         */\n        executeSelectedCallback (type) {\n            this.blockPicker.executeSelectedCallback(type);\n        }\n    }\n\n    TuliaEditor.ns('TuliaEditor.Block.Application.EventListener.SelectedBlockExecutor', SelectedBlockExecutor);\n}());\n","(function () {\n    class UpdateBlockPreview {\n        /**\n         * @param {TuliaEditor.Layout.Domain.EditControls.Model.AbstractControl} control\n         * @param {TuliaEditor.Document.Domain.Grid.Entity.AbstractEntity} entity\n         */\n        update (control, entity) {\n            if (entity instanceof TuliaEditor.Document.Domain.Grid.Entity.Block) {\n                entity.block.data = entity.data;\n                entity.block.update();\n            }\n        }\n    }\n\n    TuliaEditor.ns('TuliaEditor.Block.Application.EventListener.UpdateBlockPreview', UpdateBlockPreview);\n}());\n","(function() {\n    class AbstractBlock {\n        /**\n         * Store jQuery node of rendered Block content.\n         * This node is used to manipulate preview of the editor,\n         * and is not used to exporting data from editor.\n         *\n         * @type {jQuery}\n         */\n        node;\n\n        /**\n         * Store data used to render and update the block.\n         *\n         * @type {Object}\n         */\n        data = {};\n\n        /**\n         * Store type of block. Filled when block object is initiating/creating.\n         *\n         * @type {String}\n         */\n        type;\n\n        /**\n         * Returns default data used when Block is rendered for preview.\n         *\n         * @return {Object}\n         */\n        getDefaultData () {\n            return {};\n        }\n\n        /**\n         * Renders HTML content to show in the editor, using this.data\n         * (from JSON Document or DefaultData when creating new).\n         */\n        render () {\n\n        }\n\n        /**\n         * Updated block preview in editor using this.data.\n         */\n        update () {\n\n        }\n\n        /**\n         * Compile data to jQuery. Result is an jQuery object with rendered block content.\n         *\n         * @return {null|jQuery}\n         */\n        compile () {\n\n        }\n\n        /**\n         * Exports data from HTML element to array, and returns it to create JSON Document.\n         *\n         * @return {Array}\n         */\n        export () {\n            return {};\n        }\n\n        /**\n         * Creates block Context Menu items and appends them into given Menu.\n         *\n         * @param {TuliaEditor.ContextMenu.Domain.Entity.Menu} menu\n         */\n        contextmenu (menu) {\n\n        }\n\n        /**\n         * Creates Edit Options used to modify block.\n         *\n         * @param {TuliaEditor.Layout.Domain.EditControls.Model.Group} group\n         */\n        editOptions (group) {\n\n        }\n    }\n\n    TuliaEditor.ns('TuliaEditor.Block.Domain.Block.AbstractBlock', AbstractBlock);\n}());\n","(function() {\n    class TextBlock extends TuliaEditor.Block.Domain.Block.AbstractBlock {\n        /**\n         * @inheritDoc\n         */\n        getDefaultData () {\n            return {\n                content: '<p>Start typing...</p>'\n            };\n        }\n\n        /**\n         * @inheritDoc\n         */\n        render () {\n            this.node.append('<div data-tued-editable=\"wysiwyg\" data-tued-editable-bind=\"content\">' + (this.data.content ?? '') + '</div>');\n        }\n\n        /**\n         * @inheritDoc\n         */\n        compile () {\n            return $(this.data.content);\n        }\n\n        /**\n         * @inheritDoc\n         */\n        export () {\n            return {\n                content: this.data.content\n            };\n        }\n\n        /**\n         * @inheritDoc\n         */\n        /*contextmenu (menu) {\n            menu.addItem(new TuliaEditor.ContextMenu.Domain.Entity.Item('block.core.text.edit-text', 'Edit text'));\n        }*/\n    }\n\n    TuliaEditor.ns('TuliaEditor.Block.Domain.Block.Core.TextBlock', TextBlock);\n    TuliaEditor.block('core/text', TextBlock, {\n        name: 'block.core.text.name',\n        description: 'block.core.text.description',\n        icon: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 4445 5218\" shape-rendering=\"geometricPrecision\" text-rendering=\"geometricPrecision\" image-rendering=\"optimizeQuality\" fill-rule=\"evenodd\" clip-rule=\"evenodd\"><path d=\"M1339 3691c-74 0-134-60-134-134s60-134 134-134h996c74 0 134 60 134 134s-60 134-134 134h-996zm0-1896c-74 0-134-60-134-134s60-134 134-134h1767c74 0 134 60 134 134s-60 134-134 134H1339zM311 0h3823c86 0 164 35 220 91s91 134 91 220v4595c0 86-35 164-91 220s-134 91-220 91H311c-86 0-164-35-220-91S0 4992 0 4906V311c0-86 35-164 91-220S225 0 311 0zm3823 268H311c-12 0-23 5-31 13s-13 19-13 31v4595c0 12 5 23 13 31s19 13 31 13h3823c12 0 23-5 31-13s13-19 13-31V312c0-12-5-23-13-31s-19-13-31-13zM1339 2743c-74 0-134-60-134-134s60-134 134-134h1767c74 0 134 60 134 134s-60 134-134 134H1339z\" fill-rule=\"nonzero\"/></svg>'\n    });\n    TuliaEditor.i18n['en']['block.core.text.name'] = 'Text';\n    TuliaEditor.i18n['en']['block.core.text.description'] = 'WYSIWYG text block';\n    TuliaEditor.i18n['pl']['block.core.text.name'] = 'Tekst';\n    TuliaEditor.i18n['pl']['block.core.text.description'] = 'Tekst z edytorem WYSIWYG';\n}());\n","(function() {\n    class HeadingBlock extends TuliaEditor.Block.Domain.Block.AbstractBlock {\n        /**\n         * @param {Object} options\n         */\n        constructor (options) {\n            super();\n\n            this.options = options;\n        }\n\n        /**\n         * @inheritDoc\n         */\n        getDefaultData () {\n            return {\n                content: 'Heading',\n                level: 'h2',\n                style: ''\n            };\n        }\n\n        /**\n         * @inheritDoc\n         */\n        render () {\n            let level = this.data.level;\n            this.node.html(`<${level} class=\"${this.data.style}\" data-tued-editable=\"inline\" data-tued-editable-bind=\"content\">${this.data.content}</${level}>`);\n        }\n\n        /**\n         * @inheritDoc\n         */\n        update () {\n            this.render();\n        }\n\n        /**\n         * @inheritDoc\n         */\n        compile () {\n            let level = this.data.level;\n            return $(`<${level} class=\"${this.data.style}\">${this.data.content}</${level}>`);\n        }\n\n        /**\n         * @inheritDoc\n         */\n        export () {\n            return {\n                content: this.data.content,\n                level: this.data.level,\n                style: this.data.style,\n            };\n        }\n\n        /**\n         * @inheritDoc\n         */\n        editOptions (group) {\n            group.addControl('select', 'heading_level')\n                .setValue(function (entity) {\n                    return entity.data.level;\n                })\n                .setLabel('block.core.heading.level')\n                .setOptions({\n                    choices: {h1: \"H1\", h2: \"H2\", h3: \"H3\", h4: \"H4\", h5: \"H5\", h6: \"H6\"}\n                })\n                .setCallback(function (entity, value, next) {\n                    entity.data.level = value;\n                    next();\n                })\n            ;\n\n            if (typeof(this.options.styles.predefined.heading) === 'object') {\n                group.addControl('select', 'heading_style')\n                    .setValue(function (entity) {\n                        return entity.data.style;\n                    })\n                    .setLabel('block.core.heading.style')\n                    .setOptions({\n                        choices: $.extend(\n                            {},\n                            // Default empty style.\n                            {\"\": \"lackOfStyle\"},\n                            this.options.styles.predefined.heading\n                        )\n                    })\n                    .setCallback(function (entity, value, next) {\n                        entity.data.style = value;\n                        next();\n                    })\n                ;\n            }\n        }\n    }\n\n    TuliaEditor.ns('TuliaEditor.Block.Domain.Block.Core.HeadingBlock', HeadingBlock);\n    TuliaEditor.block('core/heading', 'TuliaEditor.Block.Domain.Block.Core.HeadingBlock', {\n        name: 'block.core.heading.name',\n        description: 'block.core.heading.description',\n        icon: '<svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" viewBox=\"0 0 122.88 120.26\" style=\"enable-background:new 0 0 122.88 120.26\" xml:space=\"preserve\"><g><polygon points=\"0,14.54 0,0 49.81,0 49.81,14.54 36.93,17.03 36.93,51.7 85.98,51.7 85.98,17.03 73.1,14.54 73.1,0 85.98,0 110,0 122.88,0 122.88,14.54 110,17.03 110,103.31 122.88,105.79 122.88,120.26 73.1,120.26 73.1,105.79 85.98,103.31 85.98,70.3 36.93,70.3 36.93,103.31 49.81,105.79 49.81,120.26 0,120.26 0,105.79 12.8,103.31 12.8,17.03 0,14.54\"/></g></svg>'\n    });\n\n    TuliaEditor.services['TuliaEditor.Block.Domain.Block.Core.HeadingBlock'] = {\n        'class': TuliaEditor.Block.Domain.Block.Core.HeadingBlock,\n        'arguments': [\n            '@options'\n        ]\n    };\n\n    TuliaEditor.i18n['en']['block.core.heading.name'] = 'Heading';\n    TuliaEditor.i18n['en']['block.core.heading.description'] = 'Heading text block';\n    TuliaEditor.i18n['en']['block.core.heading.level'] = 'Heading level';\n    TuliaEditor.i18n['en']['block.core.heading.style'] = 'Heading style';\n\n    TuliaEditor.i18n['pl']['block.core.heading.name'] = 'Nagłówek';\n    TuliaEditor.i18n['pl']['block.core.heading.description'] = 'Nagłówek';\n    TuliaEditor.i18n['pl']['block.core.heading.level'] = 'Poziom nagłówka';\n    TuliaEditor.i18n['pl']['block.core.heading.style'] = 'Styl nagłówka';\n}());\n","(function() {\n    class ImageBlock extends TuliaEditor.Block.Domain.Block.AbstractBlock {\n        /**\n         * @type {String}\n         */\n        placeholder = 'https://via.placeholder.com/800x300?text=Tulia+CMS+Image';\n\n        /**\n         * @param {TuliaEditor.Selection.Application.Service.Selection} selection\n         */\n        constructor (selection) {\n            super();\n            /** @type {TuliaEditor.Selection.Application.Service.Selection} */\n            this.selection = selection;\n        }\n\n        /**\n         * @inheritDoc\n         */\n        getDefaultData () {\n            return {\n                source: this.placeholder,\n            };\n        }\n\n        /**\n         * @inheritDoc\n         */\n        render () {\n            let self = this;\n            let img = $('<img/>');\n\n            img.on('load', function () {\n                $(this).removeAttr('style');\n                self.selection.updatePosition();\n            });\n            img.on('error', function () {\n                $(this).css({\n                    'height': '100px',\n                    'width': '100%',\n                    'background-color': '#ddd',\n                    'background-image': 'url(\\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAA8CAMAAAAXHsnOAAAASFBMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACrhKybAAAAF3RSTlMA4dOvxy2c8RQhu5LqQGFLVn44pYhzbHU8gRcAAAIJSURBVEjH3ZTZDqMwDEVNFrIBoUDr///TcUwaSCuKIs3DaK4KRZBjx0sMEAZEc/3rNNTa8EZirAGBt0Tto6NX6kq7tU5/AAKupOmrImJpAeZAK5YGYISVfLgWAMjH4FqA3UcDwD6UbgFAEuEaACaEawA4DqFbALtyHPdAsG/C01L7GwCPH+pugIifugFgEqYBYDldJGvgXv1/DWjpmgDr0f8GFrnBSSt9CJ/lkFMBBknVnKAoYNIDznoNiNJngGXG0g1kYqNrPpnvkVUAIY+JGMndzJQuLUjmu3mHYKDbk+MRlo0N+25CGRRW5pBitwOSLSnaIxG2e8e75kM8pbTMO9obBPHM29xXkjWfX5CJ3tqUgVwVpsFC1jjQ3gJPk+N8Srq6CEV5eYm2nu3LgKTg4EoPJJ3NzQZNqY+u/JSKvWoT3pbHY682lGUyvAOCWlocxZ8pLhNrV0+cvhojBeQd5zGHWoc/npudTD5gVERNkKouc5mPfOYyly2ImPyr3BrC+lIuLiH7V/bUGLY+D1zVcBqh0qUb5MZQ8fvELZTxZ3krHLvZgBujd/ANwPhO1SP3tTbkNG0uXpzpFxELQOQ/jhWT5PUQCCm5ydF0nDwxwSXA6fDifJaD1D/HjOXyrw2DTBOhmibfOHSuCYB5+Wen998GUPkseSn6qJRJgMA2wYZNUgDBNKz39g/i8Ux67FHfqgAAAABJRU5ErkJggg==\\')',\n                    'background-position': 'center center',\n                    'background-repeat': 'no-repeat',\n                });\n\n                self.selection.updatePosition();\n            });\n            img.attr('src', this.data.source ?? this.placeholder);\n\n            this.node.append(img);\n        }\n\n        /**\n         * @inheritDoc\n         */\n        update () {\n            this.node.find('img').attr('src', this.data.source ?? this.placeholder);\n        }\n\n        /**\n         * @inheritDoc\n         */\n        compile () {\n            return $(`<img src=\"${this.data.source ?? this.placeholder}\" />`);\n        }\n\n        /**\n         * @inheritDoc\n         */\n        export () {\n            return {\n                source: this.data.source,\n            };\n        }\n\n        /**\n         * @inheritDoc\n         */\n        editOptions (group) {\n            group.addControl('text', 'image_source')\n                .setValue(function (entity) {\n                    return entity.data.source;\n                })\n                .setLabel('block.core.image.source')\n                .setCallback(function (entity, value, next) {\n                    entity.data.source = value;\n                    next();\n                })\n            ;\n        }\n    }\n\n    TuliaEditor.ns('TuliaEditor.Block.Domain.Block.Core.ImageBlock', ImageBlock);\n    TuliaEditor.block('core/image', 'TuliaEditor.Block.Domain.Block.Core.ImageBlock', {\n        name: 'block.core.image.name',\n        description: 'block.core.image.description',\n        icon: '<svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" viewBox=\"0 0 122.88 122.151\" enable-background=\"new 0 0 122.88 122.151\" xml:space=\"preserve\"><g><path d=\"M8.676,0h105.529c2.405,0,4.557,0.984,6.124,2.552c1.567,1.567,2.551,3.754,2.551,6.124v104.8 c0,2.405-0.983,4.557-2.551,6.124c-1.568,1.567-3.755,2.552-6.124,2.552H8.676c-2.406,0-4.557-0.984-6.124-2.553 C0.984,118.032,0,115.845,0,113.476V8.675C0,6.27,0.984,4.119,2.552,2.552C4.12,0.984,6.307,0,8.676,0L8.676,0z M9.097,88.323 l35.411-33.9c1.421-1.313,3.645-1.167,4.921,0.255c0.037,0.036,0.037,0.073,0.073,0.073l31.459,37.218l4.812-29.6 c0.328-1.896,2.114-3.208,4.01-2.879c0.729,0.109,1.385,0.474,1.895,0.948l22.07,23.184V10.773c0-0.474-0.183-0.875-0.511-1.166 c-0.291-0.292-0.729-0.511-1.166-0.511H10.737c-0.474,0-0.875,0.182-1.166,0.511c-0.292,0.291-0.511,0.729-0.511,1.166v77.55H9.097 L9.097,88.323z M90.526,19.866c3.464,0,6.635,1.422,8.895,3.682c2.297,2.296,3.682,5.431,3.682,8.895 c0,3.463-1.421,6.634-3.682,8.894c-2.296,2.297-5.431,3.682-8.895,3.682c-3.462,0-6.634-1.421-8.894-3.682 c-2.297-2.296-3.682-5.431-3.682-8.894c0-3.463,1.421-6.634,3.682-8.895C83.929,21.251,87.064,19.866,90.526,19.866L90.526,19.866z\"/></g></svg>'\n    });\n\n    TuliaEditor.services['TuliaEditor.Block.Domain.Block.Core.ImageBlock'] = {\n        'class': TuliaEditor.Block.Domain.Block.Core.ImageBlock,\n        'arguments': [\n            '@TuliaEditor.Selection.Application.Service.Selection'\n        ]\n    };\n\n    TuliaEditor.i18n['en']['block.core.image.name'] = 'Image';\n    TuliaEditor.i18n['en']['block.core.image.description'] = 'Image block';\n    TuliaEditor.i18n['en']['block.core.image.source'] = 'Image source';\n    TuliaEditor.i18n['pl']['block.core.image.name'] = 'Obraz';\n    TuliaEditor.i18n['pl']['block.core.image.description'] = 'Blok ze zdjęciem';\n    TuliaEditor.i18n['pl']['block.core.image.source'] = 'Źródło (adres) obrazka';\n}());\n","(function() {\n    class HtmlBlock extends TuliaEditor.Block.Domain.Block.AbstractBlock {\n        /**\n         * @inheritDoc\n         */\n        getDefaultData () {\n            return {\n                source: '<div></div>',\n            };\n        }\n\n        /**\n         * @inheritDoc\n         */\n        render () {\n            this.node.append('<pre></pre>').text(this.data.source ?? '<div></div>');\n        }\n\n        /**\n         * @inheritDoc\n         */\n        compile (data) {\n            return $(data.source ?? '<div></div>');\n        }\n\n        /**\n         * @inheritDoc\n         */\n        export () {\n            return {\n                source: this.node.html(),\n            };\n        }\n    }\n\n    TuliaEditor.ns('TuliaEditor.Block.Domain.Block.Core.HtmlBlock', HtmlBlock);\n    TuliaEditor.block('core/htmlcode', HtmlBlock, {\n        name: 'block.core.htmlcode.name',\n        description: 'block.core.htmlcode.description',\n        icon: '<svg version=\"1.1\" id=\"Layer_1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" viewBox=\"0 0 122.88 91.26\" style=\"enable-background:new 0 0 122.88 91.26\" xml:space=\"preserve\"><style type=\"text/css\">.st0{fill-rule:evenodd;clip-rule:evenodd;}</style><g><path class=\"st0\" d=\"M8.32,0h106.24c4.58,0,8.32,3.74,8.32,8.32v74.62c0,4.57-3.74,8.32-8.32,8.32H8.32C3.74,91.26,0,87.51,0,82.94 V8.32C0,3.74,3.74,0,8.32,0L8.32,0z M54.46,72.22L32,58.61v-8.63l22.46-13.61v10.26l-13.65,7.69l13.65,7.7V72.22L54.46,72.22z M68.42,72.22l22.46-13.61v-8.63L68.42,36.37v10.26l13.65,7.69l-13.65,7.7V72.22L68.42,72.22z M117.97,23.29H5.29v60.46 c0,0.64,0.25,1.2,0.67,1.63c0.42,0.42,0.99,0.67,1.63,0.67h108.04c0.64,0,1.2-0.25,1.63-0.67c0.43-0.43,0.67-0.99,0.67-1.63V23.29 H117.97L117.97,23.29z M106.64,9.35c2.27,0,4.11,1.84,4.11,4.11c0,2.27-1.84,4.11-4.11,4.11c-2.27,0-4.11-1.84-4.11-4.11 C102.54,11.19,104.38,9.35,106.64,9.35L106.64,9.35z M78.8,9.35c2.27,0,4.11,1.84,4.11,4.11c0,2.27-1.84,4.11-4.11,4.11 c-2.27,0-4.11-1.84-4.11-4.11C74.69,11.19,76.53,9.35,78.8,9.35L78.8,9.35z M92.72,9.35c2.27,0,4.11,1.84,4.11,4.11 c0,2.27-1.84,4.11-4.11,4.11c-2.27,0-4.11-1.84-4.11-4.11C88.61,11.19,90.45,9.35,92.72,9.35L92.72,9.35z\"/></g></svg>'\n    });\n\n    TuliaEditor.i18n['en']['block.core.htmlcode.name'] = 'HTML';\n    TuliaEditor.i18n['en']['block.core.htmlcode.description'] = 'HTML code block';\n    TuliaEditor.i18n['pl']['block.core.htmlcode.name'] = 'HTML';\n    TuliaEditor.i18n['pl']['block.core.htmlcode.description'] = 'Edytor kodu HTML';\n}());\n","(function() {\n    class TestBlock extends TuliaEditor.Block.Domain.Block.AbstractBlock {\n        /**\n         * @inheritDoc\n         */\n        getDefaultData () {\n            return {\n                tagline: 'Easily Understandable & Customizable',\n                headline: 'WALKTHROUGH VIDEOS & DEMOS',\n                video: 'https://www.youtube.com/embed/0oiZQJSmDxg',\n                description: 'Democracy inspire breakthroughs, Rosa Parks; inspiration raise awareness natural resources. Governance impact; transformative donation philanthropy, respect reproductive.',\n            };\n        }\n\n        /**\n         * @inheritDoc\n         */\n        render () {\n            this.node.append(\n                '<div class=\"text-center\">' +\n                    '<div class=\"mb-2\" data-tued-editable=\"inline\" data-tued-editable-bind=\"tagline\" style=\"color:#1abc9c!important\">' + (this.data.tagline ?? '') + '</div>' +\n                    '<h3 class=\"mb-2\" data-tued-editable=\"inline\" data-tued-editable-bind=\"headline\">' + (this.data.headline ?? '') + '</h3>' +\n                    '<div class=\"ratio ratio-16x9 mb-2\"><iframe width=\"560\" height=\"315\" src=\"' + (this.data.video ?? '') + '\" frameborder=\"0\" allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen></iframe></div>' +\n                    '<h3 data-tued-editable=\"inline\" data-tued-editable-bind=\"description\" style=\"font-weight:200\">' + (this.data.description ?? '') + '</h3>' +\n                '</div>'\n            );\n        }\n\n        /**\n         * @inheritDoc\n         */\n        compile () {\n            return $('<div class=\"text-center\">' +\n                '<div class=\"mb-2\" data-tued-editable=\"inline\" data-tued-editable-bind=\"tagline\" style=\"color:#1abc9c!important\">' + (this.data.tagline ?? '') + '</div>' +\n                '<h3 class=\"mb-2\" data-tued-editable=\"inline\" data-tued-editable-bind=\"headline\">' + (this.data.headline ?? '') + '</h3>' +\n                '<div class=\"ratio ratio-16x9 mb-2\"><iframe width=\"560\" height=\"315\" src=\"' + (this.data.video ?? '') + '\" frameborder=\"0\" allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen></iframe></div>' +\n                '<h3 data-tued-editable=\"inline\" data-tued-editable-bind=\"description\" style=\"font-weight:200\">' + (this.data.description ?? '') + '</h3>' +\n                '</div>');\n        }\n\n        /**\n         * @inheritDoc\n         */\n        export () {\n            return {\n                tagline: this.data.tagline,\n                headline: this.data.headline,\n                video: this.data.video,\n                description: this.data.description\n            };\n        }\n    }\n\n    TuliaEditor.ns('TuliaEditor.Block.Domain.Block.Core.TestBlock', TestBlock);\n    TuliaEditor.block('core/testblock', TestBlock, {\n        name: 'TestBlock',\n        icon: '<svg version=\"1.1\" id=\"Layer_1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" viewBox=\"0 0 122.88 122.88\" style=\"enable-background:new 0 0 122.88 122.88\" xml:space=\"preserve\"><g><path d=\"M76.36,56.15l-2.48-2.48c-0.75-0.75-0.75-1.96,0-2.71c0.75-0.75,1.96-0.75,2.71,0l4.95,4.95c3.9-0.33,7.8-1.03,11.72-2.31 l-15.8-15.8c-0.75-0.75-0.75-1.96,0-2.71c0.75-0.75,1.96-0.75,2.71,0l17.02,17.02c2.91-1.26,5.83-2.87,8.76-4.93l-20.8-20.8 c-0.75-0.75-0.75-1.96,0-2.71c0.75-0.75,1.96-0.75,2.71,0l21.17,21.17c1.46-1.19,2.93-2.49,4.39-3.92c0.76-0.74,1.97-0.72,2.7,0.04 c0.74,0.76,0.72,1.97-0.04,2.7C96.88,62.42,78.4,60.72,59.79,59C41.3,57.3,22.66,55.59,3.28,75.62c-0.74,0.76-1.95,0.77-2.7,0.04 c-0.76-0.74-0.77-1.95-0.04-2.7c18.97-19.61,37.02-19.68,54.88-18.17c-0.55-8.13-0.63-16.46,1.43-25.12 c2.22-9.33,6.9-18.97,16.13-29.04c0.71-0.78,1.92-0.83,2.69-0.12c0.78,0.71,0.83,1.92,0.12,2.69 c-8.72,9.52-13.13,18.59-15.22,27.35c-1.99,8.39-1.86,16.57-1.29,24.58l0.86,0.08c1.03,0.09,2.06,0.19,3.09,0.28 c-0.55-7.75-0.6-15.5,1.33-23.38c2.06-8.38,6.36-16.81,14.66-25.31c0.74-0.76,1.95-0.77,2.7-0.04c0.76,0.74,0.77,1.95,0.04,2.7 c-7.77,7.96-11.78,15.79-13.69,23.56c-1.86,7.56-1.75,15.16-1.19,22.78C70.18,56.02,73.27,56.18,76.36,56.15L76.36,56.15z M39.74,97.9c0.75,0.75,0.75,1.96,0,2.71c-0.75,0.75-1.96,0.75-2.71,0L15.02,78.59c-0.39-0.39-0.57-0.9-0.56-1.4 c-1.65,1.38-3.3,2.91-4.96,4.63c-0.73,0.76-1.94,0.78-2.7,0.05c-0.76-0.73-0.78-1.94-0.05-2.7c18.43-19.13,36.24-17.63,54.84-16.06 c18.2,1.53,37.2,3.13,58.1-16.02c0.78-0.71,1.98-0.66,2.69,0.12c0.71,0.78,0.66,1.98-0.12,2.69 C102.75,67.78,85.03,68.61,68.1,67.46c0.72,8.53,1.07,17.12-0.94,25.89c-2.18,9.53-7.09,19.17-17.24,28.99 c-0.76,0.74-1.97,0.72-2.7-0.04c-0.74-0.76-0.72-1.97,0.04-2.7c9.54-9.24,14.15-18.23,16.17-27.09c1.93-8.48,1.53-16.92,0.81-25.34 c-0.99-0.08-1.99-0.16-2.98-0.25l-1.05-0.09c0.58,7.93,0.75,15.74-1.11,23.61c-2.04,8.57-6.47,17.09-15.39,25.69 c-0.76,0.73-1.97,0.71-2.7-0.05c-0.73-0.76-0.71-1.97,0.05-2.7c8.31-8.01,12.44-15.9,14.32-23.81c1.8-7.56,1.57-15.23,0.98-23.04 c-3.3-0.25-6.58-0.43-9.84-0.42l3.8,3.8c0.75,0.75,0.75,1.96,0,2.71c-0.75,0.75-1.96,0.75-2.71,0l-5.29-5.29 c-0.3-0.3-0.48-0.67-0.54-1.05c-4.09,0.29-8.15,0.98-12.21,2.33l16.77,16.77c0.75,0.75,0.75,1.96,0,2.71 c-0.75,0.75-1.96,0.75-2.71,0L26.44,70.91c-0.26-0.26-0.43-0.58-0.51-0.91c-3.06,1.33-6.11,3.08-9.17,5.36 c0.35,0.07,0.68,0.25,0.96,0.52L39.74,97.9L39.74,97.9z\"/></g></svg>'\n    });\n}());\n","(function() {\n    class BlocksRegistry {\n        /**\n         * @param {TuliaEditor.Shared.DependencyInjection.Container} container\n         */\n        constructor (container) {\n            /** @type {TuliaEditor.Shared.DependencyInjection.Container} */\n            this.container = container;\n        }\n\n        all () {\n            return TuliaEditor.blocks;\n        }\n\n        /**\n         * @param {String} type\n         * @return {Boolean}\n         */\n        exists (type) {\n            return !! TuliaEditor.blocks[type];\n        }\n\n        /**\n         * @param {String} type\n         * @return {TuliaEditor.Block.Domain.Block.AbstractBlock}\n         */\n        get (type) {\n            /** @type {null|TuliaEditor.Block.Domain.Block.AbstractBlock} block */\n            let block = null;\n\n            if (typeof(TuliaEditor.blocks[type][\"class\"]) === 'string') {\n                block = this.container.produce(TuliaEditor.blocks[type][\"class\"]);\n            } else if (typeof(TuliaEditor.blocks[type][\"class\"]) === 'function') {\n                block = new TuliaEditor.blocks[type][\"class\"]();\n            }\n\n            if (block instanceof TuliaEditor.Block.Domain.Block.AbstractBlock) {\n                block.type = type;\n                block.data = block.getDefaultData();\n\n                return block;\n            }\n\n            throw new Error('Block \"' + type + '\" must be a service name or a function.');\n        }\n\n        /**\n         * @param {String} type\n         * @return {Object}\n         */\n        info (type) {\n            return TuliaEditor.blocks[type].info;\n        }\n    }\n\n    TuliaEditor.ns('TuliaEditor.Block.Domain.Block.BlocksRegistry', BlocksRegistry);\n}());\n","(function() {\n    class BlockPicker {\n        /** @type {TuliaEditor.Layout.Domain.Modal.Model.Modal} */\n        modal;\n\n        /**\n         * @param {TuliaEditor.Layout.Domain.Modal.Modals} modals\n         * @param {TuliaEditor.Shared.EventDispatcher.EventDispatcher} eventDispatcher\n         * @param {TuliaEditor.Shared.I18n.Translator} translator\n         */\n        constructor (modals, eventDispatcher, translator) {\n            /** @type {TuliaEditor.Block.Domain.Block.BlocksRegistry} */\n            this.modals = modals;\n            /** @type {TuliaEditor.Shared.EventDispatcher.EventDispatcher} */\n            this.eventDispatcher = eventDispatcher;\n            /** @type {TuliaEditor.Shared.I18n.Translator} */\n            this.translator = translator;\n        }\n\n        open (blocks) {\n            this.createModal(blocks).open();\n        }\n\n        close () {\n            this.modal.close();\n        }\n\n        createModal(blocks) {\n            if (this.modal) {\n                return this.modal;\n            }\n\n            let self = this;\n\n            let modal = this.modals.create();\n            let cont = $('<div class=\"tued-blocks-collection\"></div>');\n\n            for (let type in blocks) {\n                let block = blocks[type];\n\n                let name = this.translator.trans(block.info.name ?? block.info.id) || block.info.name;\n                let description = this.translator.trans(block.info.description) || block.info.description;\n\n                cont.append('<div class=\"tued-block-item\" data-block-type=\"' + type + '\">\\\n                    <div class=\"tued-block-icon\">' + block.info.icon + '</div>\\\n                    <div class=\"tued-block-info\">\\\n                        <div class=\"tued-block-name\">' + name + '</div>\\\n                        <div class=\"tued-block-description\">' + description + '</div>\\\n                    </div>\\\n                </div>');\n            }\n\n            cont.find('.tued-block-item').click(function () {\n                self.eventDispatcher.dispatch('layout.block.picker.pick', $(this).attr('data-block-type'));\n            });\n\n            modal.body.empty().append(cont);\n            modal.title = this.translator.trans('selectBlock');\n\n            return this.modal = modal;\n        }\n    }\n\n    TuliaEditor.ns('TuliaEditor.Block.Infrastructure.View.BlockPicker', BlockPicker);\n}());\n","(function () {\n    class Hover {\n        /** @type {jQuery} */\n        boundariesNodeElement;\n\n        /**\n         * @param {TuliaEditor.Layout.Infrastructure.View.Layout} layout\n         */\n        constructor (layout) {\n            /** @type {TuliaEditor.Layout.Infrastructure.View.Layout} */\n            this.layout = layout;\n        }\n\n        /**\n         * @param {String} nodeName\n         * @param {TuliaEditor.Selection.Domain.Actions.Model.Actions} actions\n         */\n        show (nodeName, actions) {\n            this.boundariesNode.find('.tued-node-name').text(nodeName);\n            this.boundariesNode.removeClass('tued-hidden');\n        }\n\n        hide () {\n            this.boundariesNode.addClass('tued-hidden');\n        }\n\n        enable () {\n            this.boundariesNode.removeClass('tued-disabled');\n        }\n\n        disable () {\n            this.boundariesNode.addClass('tued-disabled');\n        }\n\n        /**\n         * @internal\n         */\n        updatePosition (boundaries) {\n            this.boundariesNode.css({\n                width : boundaries.width,\n                height: boundaries.height,\n                left  : boundaries.left,\n                top   : boundaries.top - boundaries.scrollTop\n            });\n        }\n\n        /**\n         * @return {jQuery}\n         */\n        get boundariesNode () {\n            if (this.boundariesNodeElement) {\n                return this.boundariesNodeElement;\n            }\n\n            return this.boundariesNodeElement = this.layout.getHoverableElementBoundariesNode();\n        }\n    }\n\n    TuliaEditor.ns('TuliaEditor.Selection.Infrastructure.Hover', Hover);\n}());\n","(function () {\n    class Selection {\n        /** @type {jQuery} */\n        boundariesNodeElement;\n\n        /** @type {jQuery} */\n        actionsNodeElement;\n\n        /**\n         * @param {TuliaEditor.Shared.EventDispatcher.EventDispatcher} eventDispatcher\n         * @param {TuliaEditor.Layout.Infrastructure.View.Layout} layout\n         */\n        constructor (eventDispatcher, layout) {\n            /** @type {TuliaEditor.Shared.EventDispatcher.EventDispatcher} */\n            this.eventDispatcher = eventDispatcher;\n            /** @type {TuliaEditor.Layout.Infrastructure.View.Layout} */\n            this.layout = layout;\n        }\n\n        enable () {\n            this.boundariesNode.removeClass('tued-disabled');\n            this.actionsNode.removeClass('tued-disabled');\n        }\n\n        disable () {\n            this.boundariesNode.addClass('tued-disabled');\n            this.actionsNode.addClass('tued-disabled');\n        }\n\n        /**\n         * @param {String} nodeName\n         * @param {TuliaEditor.Selection.Domain.Actions.Model.Actions} actions\n         */\n        show (nodeName, actions) {\n            this.actionsNode.empty();\n            let self = this;\n\n            for (let action of actions.actions) {\n                let node = $('<div data-tued-tooltip=\"\" title=\"' + action.label + '\">' + action.icon + '</div>');\n                node.on('click', function () {\n                    self.eventDispatcher.dispatch('layout.selection.selected.action', action.callback);\n                });\n                this.actionsNode.append(node);\n            }\n\n            this.boundariesNode.find('.tued-node-name').text(nodeName);\n            this.boundariesNode.removeClass('tued-hidden');\n            this.actionsNode.removeClass('tued-hidden');\n        }\n\n        hide () {\n            this.boundariesNode.addClass('tued-hidden');\n            this.actionsNode.addClass('tued-hidden');\n        }\n\n        /**\n         * @internal\n         */\n        updatePosition (boundaries) {\n            this.boundariesNode.css({\n                width : boundaries.width,\n                height: boundaries.height,\n                left  : boundaries.left,\n                top   : boundaries.top - boundaries.scrollTop\n            });\n\n            this.actionsNode.css({\n                left: boundaries.left + boundaries.width - this.actionsNode.width(),\n                top : boundaries.top - boundaries.scrollTop\n            });\n        }\n\n        /**\n         * @param {jQuery} element\n         * @return {null|jQuery}\n         */\n        findSelectableElementId (element) {\n            if (element.attr('data-tued-selectable')) {\n                return element;\n            }\n\n            element = element.closest('[data-tued-selectable]');\n\n            return element.length ? element.attr('data-tued-element-id') : null;\n        }\n\n        /**\n         * @internal\n         * @return {String}\n         */\n        getElementName (element) {\n            if (element.hasClass('tued-node-block')) {\n                return 'Block';\n            } else if (element.hasClass('tued-node-column')) {\n                return 'Column';\n            } else if (element.hasClass('tued-node-row')) {\n                return 'Row';\n            } else if (element.hasClass('tued-node-section')) {\n                return 'Section';\n            } else {\n                return element.get(0).tagName;\n            }\n        }\n\n        /**\n         * @return {jQuery}\n         */\n        get actionsNode () {\n            if (this.actionsNodeElement) {\n                return this.actionsNodeElement;\n            }\n\n            this.actionsNodeElement = this.layout.getSelectedElementActionsNode();\n\n            return this.actionsNodeElement;\n        }\n\n        /**\n         * @return {jQuery}\n         */\n        get boundariesNode () {\n            if (this.boundariesNodeElement) {\n                return this.boundariesNodeElement;\n            }\n\n            return this.boundariesNodeElement = this.layout.getSelectedElementBoundariesNode();\n        }\n    }\n\n    TuliaEditor.ns('TuliaEditor.Selection.Infrastructure.Selection', Selection);\n}());\n","(function () {\n    class Action {\n        /**\n         * @param {String} label\n         * @param {String} icon\n         * @param {Function} callback\n         */\n        constructor (label, icon, callback) {\n            this.label = label;\n            this.icon = icon;\n            this.callback = callback;\n        }\n    }\n\n    TuliaEditor.ns('TuliaEditor.Selection.Domain.Actions.Model.Action', Action);\n}());\n","(function () {\n    class Actions {\n        /** @type {TuliaEditor.Selection.Domain.Actions.Model.Action[]} */\n        actions = [];\n\n        /**\n         * @param {TuliaEditor.Selection.Domain.Actions.Model.Action} action\n         */\n        add (action) {\n            if (! (action instanceof TuliaEditor.Selection.Domain.Actions.Model.Action)) {\n                throw new Error('Action must be instance of \"TuliaEditor.Selection.Domain.Actions.Model.Action\".')\n            }\n\n            this.actions.push(action);\n        }\n    }\n\n    TuliaEditor.ns('TuliaEditor.Selection.Domain.Actions.Model.Actions', Actions);\n}());\n","(function () {\n    class CollectSelectedActions {\n        /**\n         * @param {TuliaEditor.Selection.Application.Service.Selection} selection\n         * @param {TuliaEditor.Shared.I18n.Translator} translator\n         */\n        constructor (selection, translator) {\n            /** @type {TuliaEditor.Selection.Application.Service.Selection} */\n            this.selection = selection;\n            /** @type {TuliaEditor.Shared.I18n.Translator} */\n            this.translator = translator;\n        }\n\n        /**\n         * @param {TuliaEditor.Document.Domain.Grid.Entity.AbstractEntity} element\n         * @param {TuliaEditor.Selection.Domain.Actions.Model.Actions} actions\n         */\n        collect (element, actions) {\n            if (element instanceof TuliaEditor.Document.Domain.Grid.Entity.Block) {\n                this.collectForBlocks(element, actions);\n            }\n            if (element instanceof TuliaEditor.Document.Domain.Grid.Entity.Column) {\n                this.collectForColumns(element, actions);\n            }\n            if (element instanceof TuliaEditor.Document.Domain.Grid.Entity.Row) {\n                this.collectForRows(element, actions);\n            }\n        }\n\n        /**\n         * @param {TuliaEditor.Document.Domain.Grid.Entity.Block} element\n         * @param {TuliaEditor.Selection.Domain.Actions.Model.Actions} actions\n         */\n        collectForBlocks (element, actions) {\n            actions.add(this.createSelectParentAction(element));\n        }\n\n        /**\n         * @param {TuliaEditor.Document.Domain.Grid.Entity.Column} element\n         * @param {TuliaEditor.Selection.Domain.Actions.Model.Actions} actions\n         */\n        collectForColumns (element, actions) {\n            actions.add(this.createSelectParentAction(element));\n        }\n\n        /**\n         * @param {TuliaEditor.Document.Domain.Grid.Entity.Row} element\n         * @param {TuliaEditor.Selection.Domain.Actions.Model.Actions} actions\n         */\n        collectForRows (element, actions) {\n            actions.add(this.createSelectParentAction(element));\n        }\n\n        /**\n         * @param {TuliaEditor.Document.Domain.Grid.Entity.AbstractEntity} element\n         * @return {TuliaEditor.Selection.Domain.Actions.Model.Action}\n         */\n        createSelectParentAction (element) {\n            let self = this;\n\n            return new TuliaEditor.Selection.Domain.Actions.Model.Action(\n                this.translator.trans('selectParentBlock'),\n                '<i class=\"fas fa-long-arrow-alt-up\"></i>',\n                function (element) {self.selection.selectParent();}\n            );\n        }\n    }\n\n    TuliaEditor.ns('TuliaEditor.Selection.Application.EventListener.Domain.CollectSelectedActions', CollectSelectedActions);\n}());\n","(function () {\n    class ExecuteSelectedAction {\n        /**\n         * @param {TuliaEditor.Selection.Application.Service.Selection} selection\n         */\n        constructor (selection) {\n            /** @type {TuliaEditor.Selection.Application.Service.Selection} */\n            this.selection = selection;\n        }\n\n        /**\n         * @param {Function} callback\n         */\n        executeCallbackOnSelected (callback) {\n            if (this.selection.getSelected() && typeof(callback) === 'function') {\n                callback(this.selection.getSelected());\n            }\n        }\n    }\n\n    TuliaEditor.ns('TuliaEditor.Selection.Application.EventListener.Domain.ExecuteSelectedAction', ExecuteSelectedAction);\n}());\n","(function () {\n    class InitSelection {\n        /**\n         * @param {TuliaEditor.Selection.Application.Service.Initiator} initiator\n         */\n        constructor (initiator) {\n            /** @type {TuliaEditor.Selection.Application.Service.Initiator} */\n            this.initiator = initiator;\n        }\n\n        init () {\n            this.initiator.initiate();\n        }\n    }\n\n    TuliaEditor.ns('TuliaEditor.Selection.Application.EventListener.Domain.InitSelection', InitSelection);\n}());\n","(function () {\n    class SelectionVisibility {\n        /**\n         * @param {TuliaEditor.Selection.Application.Service.Selection} selection\n         */\n        constructor (selection) {\n            /** @type {TuliaEditor.Selection.Application.Service.Selection} */\n            this.selection = selection;\n        }\n\n        /**\n         * @param {TuliaEditor.Document.Domain.Grid.Entity.AbstractEntity} element\n         */\n        selectInsertedElement (element) {\n            this.selection.select(element);\n        }\n\n        hideSelection () {\n            this.selection.hide();\n        }\n    }\n\n    TuliaEditor.ns('TuliaEditor.Selection.Application.EventListener.ExternalDomainEvents.SelectionVisibility', SelectionVisibility);\n}());\n","(function () {\n    class SelectionDisabler {\n        /**\n         * @param {TuliaEditor.Selection.Infrastructure.Selection} selectionView\n         * @param {TuliaEditor.Selection.Infrastructure.Hover} hoverView\n         */\n        constructor (selectionView, hoverView) {\n            /** @type {TuliaEditor.Selection.Infrastructure.Selection} */\n            this.selectionView = selectionView;\n            /** @type {TuliaEditor.Selection.Infrastructure.Hover} */\n            this.hoverView = hoverView;\n        }\n\n        disable () {\n            this.selectionView.disable();\n            this.hoverView.disable();\n        }\n\n        enable () {\n            this.selectionView.enable();\n            this.hoverView.enable();\n        }\n    }\n\n    TuliaEditor.ns('TuliaEditor.Selection.Application.EventListener.PreviewUpdate.SelectionDisabler', SelectionDisabler);\n}());\n","(function () {\n    class UpdateSelectionPosition {\n        /**\n         * @param {TuliaEditor.Selection.Application.Service.Selection} selection\n         * @param {TuliaEditor.Selection.Infrastructure.Selection} view\n         * @param {TuliaEditor.Shared.I18n.Translator} translator\n         * @param {TuliaEditor.Document.Infrastructure.View.Structure.NodesStorage} nodesStorage\n         * @param {TuliaEditor.Selection.Domain.Actions.Collector} actionsCollector\n         */\n        constructor (selection, view, translator, nodesStorage, actionsCollector) {\n            /** @type {TuliaEditor.Selection.Application.Service.Selection} */\n            this.selection = selection;\n            /** @type {TuliaEditor.Selection.Infrastructure.Selection} */\n            this.view = view;\n            /** @type {TuliaEditor.Shared.I18n.Translator} */\n            this.translator = translator;\n            /** @type {TuliaEditor.Document.Infrastructure.View.Structure.NodesStorage} */\n            this.nodesStorage = nodesStorage;\n            /** @type {TuliaEditor.Selection.Domain.Actions.Collector} */\n            this.actionsCollector = actionsCollector;\n        }\n\n        updatePosition () {\n            this.selection.updatePosition();\n        }\n\n        hide () {\n            this.view.hide();\n        }\n\n        /**\n         * @param {TuliaEditor.Document.Domain.Grid.Entity.AbstractEntity} element\n         */\n        show (element) {\n            this.view.show(\n                this.translator.trans(\n                    this.view.getElementName(this.nodesStorage.get(element.id)).toLocaleLowerCase()\n                ),\n                this.actionsCollector.collect('selected', element)\n            );\n            this.selection.updatePosition();\n        }\n    }\n\n    TuliaEditor.ns('TuliaEditor.Selection.Application.EventListener.UserInterfaceEvents.UpdateSelectionPosition', UpdateSelectionPosition);\n}());\n","(function () {\n    class UpdateHoverPosition {\n        /**\n         * @param {TuliaEditor.Selection.Application.Service.Hover} hover\n         * @param {TuliaEditor.Selection.Infrastructure.Hover} view\n         */\n        constructor (hover, view) {\n            /** @type {TuliaEditor.Selection.Application.Service.Hover} */\n            this.hover = hover;\n            /** @type {TuliaEditor.Selection.Infrastructure.Hover} */\n            this.view = view;\n        }\n\n        updatePosition () {\n            this.hover.updatePosition();\n        }\n\n        hide () {\n            this.view.hide();\n        }\n\n        /**\n         * @param {TuliaEditor.Document.Domain.Grid.Entity.AbstractEntity} element\n         */\n        show (element) {\n            this.view.show();\n            this.hover.updatePosition();\n        }\n    }\n\n    TuliaEditor.ns('TuliaEditor.Selection.Application.EventListener.UserInterfaceEvents.UpdateHoverPosition', UpdateHoverPosition);\n}());\n","(function () {\n    class SelectElement {\n        /**\n         * @param {TuliaEditor.Selection.Application.Service.Selection} selection\n         */\n        constructor (selection) {\n            /** @type {TuliaEditor.Selection.Application.Service.Selection} */\n            this.selection = selection;\n        }\n\n        /**\n         * @param {jQuery} element\n         */\n        selectNodeElement (element) {\n            this.selection.selectNode(element);\n        }\n\n        hideSelection () {\n            this.selection.hideIfNotPrevented();\n        }\n    }\n\n    TuliaEditor.ns('TuliaEditor.Selection.Application.EventListener.UserInterfaceEvents.SelectElement', SelectElement);\n}());\n","(function () {\n    class HoverElement {\n        /**\n         * @param {TuliaEditor.Selection.Application.Service.Hover} hover\n         */\n        constructor (hover) {\n            /** @type {TuliaEditor.Selection.Application.Service.Hover} */\n            this.hover = hover;\n        }\n\n        /**\n         * @param {jQuery} node\n         */\n        showFor (node) {\n            this.hover.showFor(node);\n        }\n\n        hideFor () {\n            this.hover.hideFor();\n        }\n    }\n\n    TuliaEditor.ns('TuliaEditor.Selection.Application.EventListener.UserInterfaceEvents.HoverElement', HoverElement);\n}());\n","(function () {\n    class Initiator {\n        /**\n         * @param {TuliaEditor.Selection.Infrastructure.UserInterface.CanvasEvents} canvasEvents\n         */\n        constructor (canvasEvents) {\n            /** @type {TuliaEditor.Selection.Infrastructure.UserInterface.CanvasEvents} */\n            this.canvasEvents = canvasEvents;\n        }\n\n        initiate () {\n            this.canvasEvents.handleCanvasMouseEvents();\n        }\n    }\n\n    TuliaEditor.ns('TuliaEditor.Selection.Application.Service.Initiator', Initiator);\n}());\n","(function () {\n    class ElementBoundaries {\n        /**\n         * @param {TuliaEditor.Layout.Infrastructure.View.Canvas} canvas\n         * @param {TuliaEditor.Document.Infrastructure.View.Structure.NodesStorage} nodesStorage\n         */\n        constructor (canvas, nodesStorage) {\n            /** @type {TuliaEditor.Layout.Infrastructure.View.Canvas} */\n            this.canvas = canvas;\n            /** @type {TuliaEditor.Document.Infrastructure.View.Structure.NodesStorage} */\n            this.nodesStorage = nodesStorage;\n        }\n\n        getBoundaries (element) {\n            if (element instanceof TuliaEditor.Document.Domain.Grid.Entity.AbstractEntity) {\n                element = this.nodesStorage.get(element.id);\n            }\n\n            if(! element)\n                return null;\n\n            let doc = element.get(0).ownerDocument;\n\n            return {\n                left      : element.offset().left,\n                top       : element.offset().top,\n                width     : element.outerWidth(),\n                height    : element.outerHeight(),\n                position  : element.css('position'),\n                scrollTop : $(doc.defaultView || doc.parentWindow).scrollTop()\n            };\n        }\n    }\n\n    TuliaEditor.ns('TuliaEditor.Selection.Infrastructure.ElementBoundaries', ElementBoundaries);\n}());\n","(function () {\n    class CanvasEvents {\n        /**\n         * @param {TuliaEditor.Shared.EventDispatcher.EventDispatcher} eventDispatcher\n         * @param {TuliaEditor.Layout.Infrastructure.View.Canvas} canvas\n         */\n        constructor (eventDispatcher, canvas) {\n            /** @type {TuliaEditor.Shared.EventDispatcher.EventDispatcher} */\n            this.eventDispatcher = eventDispatcher;\n            /** @type {TuliaEditor.Layout.Infrastructure.View.Canvas} */\n            this.canvas = canvas;\n        }\n\n        handleCanvasMouseEvents () {\n            let self = this;\n            let canvas = $(this.canvas.body);\n\n            canvas.on('click contextmenu', '[data-tued-selectable]', function (e) {\n                self.eventDispatcher.dispatch('layout.selection.selectable.click', $(e.target));\n            }).click(function () {\n                self.eventDispatcher.dispatch('layout.selection.canvas.click');\n            }).on('mouseenter', '[data-tued-selectable]', function () {\n                self.eventDispatcher.dispatch('layout.selection.hoverable.enter', $(this));\n            }).on('mouseleave', '[data-tued-selectable]', function () {\n                self.eventDispatcher.dispatch('layout.selection.hoverable.leave', $(this));\n            });\n\n            $(this.canvas.window).on('scroll', function () {\n                self.eventDispatcher.dispatch('layout.selection.canvas.scroll');\n            }).on('resize', function () {\n                self.eventDispatcher.dispatch('layout.selection.canvas.resize');\n            });\n        }\n    }\n\n    TuliaEditor.ns('TuliaEditor.Selection.Infrastructure.UserInterface.CanvasEvents', CanvasEvents);\n}());\n","(function() {\n    class VisibilityChange {\n        /**\n         * @param {TuliaEditor.ContextMenu.Domain.Manager} manager\n         */\n        constructor (manager) {\n            /** @type {TuliaEditor.ContextMenu.Domain.Manager} */\n            this.manager = manager;\n        }\n\n        /**\n         * @param {jQuery} target\n         * @param {Object} clickPosition {x:Number, y:Number}\n         * @param {Event} event\n         */\n        show (target, clickPosition, event) {\n            let showed = this.manager.show(target, clickPosition);\n\n            if (showed) {\n                event.preventDefault();\n            }\n        }\n\n        hide () {\n            this.manager.hide();\n        }\n    }\n\n    TuliaEditor.ns('TuliaEditor.ContextMenu.Application.EventListener.VisibilityChange', VisibilityChange);\n}());\n","(function() {\n    class Builder {\n        /**\n         * @param {TuliaEditor.ContextMenu.Domain.Entity.Menu} menu\n         * @return {jQuery}\n         */\n        buildMenu (menu) {\n            let res = $('<ul></ul>');\n\n            for (let item of menu.items) {\n                res.append(this.buildItem(item));\n            }\n\n            return res;\n        }\n\n        /**\n         * @param {TuliaEditor.ContextMenu.Domain.Entity.Item} item\n         * @return {jQuery}\n         */\n        buildItem (item) {\n            let res = $('<li class=\"tued-menu-item\"></li>');\n            let link = $('<a href=\"#\" class=\"tued-menu-link\"></a>');\n\n            link.on('click', function (e) {\n                e.preventDefault();\n                if (typeof(item.callback) === 'function') {\n                    item.callback(e);\n                }\n            });\n            link.text(item.label);\n            link.attr('data-tued-menu-item-id', item.id);\n\n            res.append(link);\n\n            if (item.hasMenu()) {\n                let menu = this.buildMenu(item.menu);\n                menu.addClass('tued-dropdown-submenu');\n                res.addClass('tued-dropdown-has-submenu');\n                res.append(menu);\n            }\n\n            return res;\n        }\n    }\n\n    TuliaEditor.ns('TuliaEditor.ContextMenu.Infrastructure.Builder', Builder);\n}());\n","(function() {\n    class Manager {\n        /**\n         * @param {TuliaEditor.ContextMenu.Domain.Builder} menuBuilder\n         * @param {TuliaEditor.ContextMenu.Infrastructure.Builder} viewBuilder\n         * @param {TuliaEditor.ContextMenu.Infrastructure.View} view\n         * @param {TuliaEditor.Selection.Application.Service.Selection} selection\n         */\n        constructor (menuBuilder, viewBuilder, view, selection) {\n            /** @type {TuliaEditor.ContextMenu.Domain.Builder} */\n            this.menuBuilder = menuBuilder;\n            /** @type {TuliaEditor.ContextMenu.Infrastructure.Builder} */\n            this.viewBuilder = viewBuilder;\n            /** @type {TuliaEditor.ContextMenu.Infrastructure.View} */\n            this.view = view;\n            /** @type {TuliaEditor.Selection.Application.Service.Selection} */\n            this.selection = selection;\n        }\n\n        /**\n         * @param {jQuery} target\n         * @param {Object} clickPosition {x:Number, y:Number}\n         * @return {Boolean} If the menu was showed.\n         */\n        show (target, clickPosition) {\n            if (this.selection.isDisabled()) {\n                return false;\n            }\n\n            let menu = this.menuBuilder.createMenu(target);\n\n            if (menu.isEmpty()) {\n                this.hide();\n                return false;\n            }\n\n            this.view.show(\n                this.viewBuilder.buildMenu(menu),\n                clickPosition\n            );\n\n            return true;\n        }\n\n        hide () {\n            this.view.hide();\n        }\n    }\n\n    TuliaEditor.ns('TuliaEditor.ContextMenu.Domain.Manager', Manager);\n}());\n","(function() {\n    class Item {\n        /** @type {String} */\n        id;\n\n        /** @type {String} */\n        label;\n\n        /** @type {Function} */\n        callback;\n\n        /** @type {String} */\n        icon;\n\n        /** @type {TuliaEditor.ContextMenu.Domain.Entity.Menu} */\n        menu;\n\n        /**\n         * @param {String} id\n         * @param {String} label\n         * @param {null|Function} callback\n         */\n        constructor (id, label, callback) {\n            this.id = id;\n            this.label = label;\n            this.callback = callback;\n        }\n\n        /**\n         * @return {Boolean}\n         */\n        hasMenu () {\n            return this.menu instanceof TuliaEditor.ContextMenu.Domain.Entity.Menu;\n        }\n    }\n\n    TuliaEditor.ns('TuliaEditor.ContextMenu.Domain.Entity.Item', Item);\n}());\n","(function() {\n    class Menu {\n        /** @type {TuliaEditor.ContextMenu.Domain.Entity.Item[]} */\n        items = [];\n\n        /**\n         * @param {TuliaEditor.ContextMenu.Domain.Entity.Item} item\n         */\n        addItem (item) {\n            this.items.push(item);\n        }\n\n        removeItem (toRemove) {\n            for (let item of this.items) {\n                if (item.id === toRemove.id) {\n                    let index = this.items.indexOf(toRemove);\n                    if (index > -1) {\n                        this.items.splice(index, 1);\n                    }\n                    return;\n                }\n\n                if (item.hasMenu()) {\n                    item.menu.removeItem(toRemove);\n                }\n            }\n        }\n\n        isEmpty () {\n            return this.items.length === 0;\n        }\n\n        find (id) {\n            for (let item of this.items) {\n                if (item.id === id) {\n                    return item;\n                }\n\n                if (item.hasMenu()) {\n                    let child = item.menu.find(id);\n\n                    if (child instanceof TuliaEditor.ContextMenu.Domain.Entity.Item) {\n                        return child;\n                    }\n                }\n            }\n        }\n\n        removeEmptySubmenus () {\n            for (let item of this.items) {\n                if (item.hasMenu()) {\n                    item.menu.removeEmptySubmenus();\n\n                    if (item.menu.items.length === 0) {\n                        this.removeItem(item);\n                    }\n                }\n            }\n        }\n    }\n\n    TuliaEditor.ns('TuliaEditor.ContextMenu.Domain.Entity.Menu', Menu);\n}());\n","(function() {\n    class View {\n        /** @type {jQuery}\n        contextmenu;\n\n        /**\n         * @param {TuliaEditor.Layout.Infrastructure.View.Layout} layout\n         * @param {TuliaEditor.Layout.Infrastructure.View.Canvas} canvas\n         * @param {TuliaEditor.Shared.EventDispatcher.EventDispatcher} eventDispatcher\n         */\n        constructor (layout, canvas, eventDispatcher) {\n            /** @type {TuliaEditor.Layout.Infrastructure.View.Layout} */\n            this.layout = layout;\n            /** @type {TuliaEditor.Layout.Infrastructure.View.Canvas} */\n            this.canvas = canvas;\n            /** @type {TuliaEditor.Shared.EventDispatcher.EventDispatcher} */\n            this.eventDispatcher = eventDispatcher;\n        }\n\n        /**\n         * @internal\n         */\n        init () {\n            this.contextmenu = this.layout.getContextMenu();\n            let self = this;\n\n            this.canvas.body.on('contextmenu', function (e) {\n                self.eventDispatcher.dispatch(\n                    'layout.contextmenu.document-trigger.show',\n                    $(e.target),\n                    {\n                        x: e.pageX,\n                        y: e.pageY - $('body').scrollTop()\n                    },\n                    e\n                );\n            }).on('click', function () {\n                self.eventDispatcher.dispatch('layout.contextmenu.document-trigger.hide');\n            });\n\n            $('body').click(function () {\n                self.eventDispatcher.dispatch('layout.contextmenu.document-trigger.hide');\n            });\n        }\n\n        /**\n         * @param {jQuery} menu The <ul /> element\n         * @param {Object} clickPosition The x and y click position inside the canvas (iframe).\n         */\n        show (menu, clickPosition) {\n            this.contextmenu\n                .addClass('tued-showed')\n                .html(menu.contents())\n                .css({\n                    left: clickPosition.x + this.canvas.getOffset().left,\n                    top: clickPosition.y - this.canvas.getScrollTop(),\n                });\n        }\n\n        hide () {\n            this.contextmenu.removeClass('tued-showed');\n        }\n    }\n\n    TuliaEditor.ns('TuliaEditor.ContextMenu.Infrastructure.View', View);\n}());\n","(function() {\n    class DocumentElementResolver {\n        /**\n         * @param {TuliaEditor.Layout.Infrastructure.View.Canvas} canvas\n         * @param {TuliaEditor.Shared.EventDispatcher.EventDispatcher} eventDispatcher\n         */\n        constructor (canvas, eventDispatcher) {\n            /** @type {TuliaEditor.Layout.Infrastructure.View.Canvas} */\n            this.canvas = canvas;\n            /** @type {TuliaEditor.Shared.EventDispatcher.EventDispatcher} */\n            this.eventDispatcher = eventDispatcher;\n        }\n\n        prepareListeners () {\n            let self = this;\n\n            this.canvas.body.on('dblclick', '[data-tued-editable]', function (e) {\n                self.eventDispatcher.dispatch(\n                    'layout.content-editor.edit',\n                    $(this).attr('data-tued-editable'),\n                    $(e.currentTarget)\n                );\n            }).on('click', function (e) {\n                self.eventDispatcher.dispatch('layout.content-editor.close', $(e.target));\n            });\n\n            this.canvas.body.on('keydown', function (e) {\n                let escapeKey = 27;\n\n                if (e.which === escapeKey) {\n                    self.eventDispatcher.dispatch('layout.content-editor.reject');\n                }\n            })\n        }\n    }\n\n    TuliaEditor.ns('TuliaEditor.ContentEditor.Infrastructure.Document.DocumentElementResolver', DocumentElementResolver);\n}());\n","(function() {\n    class EditorRepository {\n        /**\n         * @type {TuliaEditor.ContentEditor.Infrastructure.Editor.AbstractEditor[]}\n         */\n        editors = {};\n\n        /**\n         * @param {TuliaEditor.ContentEditor.Infrastructure.Editor.ContenteditableEditor} inlineEditor\n         * @param {TuliaEditor.ContentEditor.Infrastructure.Editor.SummernoteEditor} wysiwygEditor\n         */\n        constructor (inlineEditor, wysiwygEditor) {\n            this.editors['inline'] = inlineEditor;\n            this.editors['wysiwyg'] = wysiwygEditor;\n        }\n\n        /**\n         * @param {String} type\n         * @return {TuliaEditor.ContentEditor.Infrastructure.Editor.AbstractEditor}\n         */\n        get (type) {\n            return this.editors[type];\n        }\n\n        /**\n         * @param {String} type\n         * @return {Boolean}\n         */\n        has (type) {\n            return !! this.editors[type];\n        }\n    }\n\n    TuliaEditor.ns('TuliaEditor.ContentEditor.Infrastructure.Editor.EditorRepository', EditorRepository);\n}());\n","(function() {\n    class AbstractEditor {\n        /**\n         * Created editor for given node. Node contains content that must be edited in the editor.\n         * Editor can operate on this node or just hide it when created the proper editor,\n         * and can show this node when editor will be destroyed.\n         * @param {jQuery} node\n         */\n        createForNode (node) {\n\n        }\n\n        /**\n         * Destroys editor for given node. While destroying, editor should not set the content to the node,\n         * as this operation will be created by the manager using the getContent() method.\n         * @param {jQuery} node\n         */\n        destroy (node) {\n\n        }\n\n        /**\n         * Returns the editor content.\n         * @param {jQuery} node\n         * @return {String}\n         */\n        getContent (node) {\n            return node.html();\n        }\n    }\n\n    TuliaEditor.ns('TuliaEditor.ContentEditor.Infrastructure.Editor.AbstractEditor', AbstractEditor);\n}());\n","(function() {\n    class ContenteditableEditor extends TuliaEditor.ContentEditor.Infrastructure.Editor.AbstractEditor {\n        /**\n         * @param {TuliaEditor.Layout.Infrastructure.View.Canvas} canvas\n         */\n        constructor (canvas) {\n            super();\n\n            /** @type {TuliaEditor.Layout.Infrastructure.View.Canvas} */\n            this.canvas = canvas;\n        }\n\n        /**\n         * @inheritDoc\n         * @param {jQuery} node\n         */\n        createForNode (node) {\n            node.attr('contenteditable', true).trigger('focus');\n            this.setCaretAtTheBeginning(node);\n        }\n\n        /**\n         * @inheritDoc\n         * @param {jQuery} node\n         */\n        destroy (node) {\n            node.trigger('blur').removeAttr('contenteditable');\n        }\n\n        /**\n         * @inheritDoc\n         * @param {jQuery} node\n         * @return {String}\n         */\n        getContent (node) {\n            return node.html();\n        }\n\n        /**\n         * @inheritDoc\n         * @param {jQuery} node\n         * @param {String} content\n         * @return {String}\n         */\n        setContent (node, content) {\n            node.html(content);\n        }\n\n        /**\n         * @internal\n         * @param {jQuery} element\n         */\n        setCaretAtTheBeginning (element) {\n            let range = this.canvas.document.createRange();\n            let sel = this.canvas.window.getSelection();\n\n            range.setStart(element[0], 0);\n            range.collapse(true);\n\n            sel.removeAllRanges();\n            sel.addRange(range);\n        }\n    }\n\n    TuliaEditor.ns('TuliaEditor.ContentEditor.Infrastructure.Editor.ContenteditableEditor', ContenteditableEditor);\n}());\n","(function() {\n    class SummernoteEditor extends TuliaEditor.ContentEditor.Infrastructure.Editor.AbstractEditor {\n        /**\n         * @param {TuliaEditor.Layout.Infrastructure.View.Canvas} canvas\n         */\n        constructor (canvas) {\n            super();\n\n            /** @type {TuliaEditor.Layout.Infrastructure.View.Canvas} */\n            this.canvas = canvas;\n        }\n\n        /**\n         * @inheritDoc\n         * @param {jQuery} node\n         */\n        createForNode (node) {\n            let copy = $('<div class=\"summernote-content\"></div>');\n            copy.html(node.html());\n\n            node.wrapInner('<div class=\"summernote-content-copy\" style=\"display:none !important;\"></div>');\n            node.append(copy);\n\n            copy.summernote();\n        }\n\n        /**\n         * @inheritDoc\n         * @param {jQuery} node\n         */\n        destroy (node) {\n            node.find('.summernote-content').summernote('destroy');\n\n            node.html(node.find('.summernote-content').html());\n        }\n\n        /**\n         * @inheritDoc\n         * @param {jQuery} node\n         * @return {String}\n         */\n        getContent (node) {\n            return node.find('.summernote-content').summernote('code');\n        }\n\n        /**\n         * @inheritDoc\n         * @param {jQuery} node\n         * @param {String} content\n         * @return {String}\n         */\n        setContent (node, content) {\n            node.find('.summernote-content').summernote('code', content);\n        }\n    }\n\n    TuliaEditor.ns('TuliaEditor.ContentEditor.Infrastructure.Editor.SummernoteEditor', SummernoteEditor);\n}());\n","(function() {\n    class Editor {\n        /**\n         * @param {TuliaEditor.Layout.Infrastructure.View.Layout} layout\n         */\n        constructor (layout) {\n            /** @type {TuliaEditor.Layout.Infrastructure.View.Layout} */\n            this.layout = layout;\n        }\n\n        openEditor () {\n            this.layout.root.addClass('tued-editor-opened');\n        }\n\n        closeEditor () {\n            this.layout.root.removeClass('tued-editor-opened');\n        }\n    }\n\n    TuliaEditor.ns('TuliaEditor.Editor.Infrastructure.View.Editor', Editor);\n}());\n","(function() {\n    class StructureContentAccessor {\n        /** @type {TuliaEditor.Document.Infrastructure.View.Structure.NodesStorage} nodeStorage */\n        /** @type {TuliaEditor.Document.Domain.Model.Document} document */\n        /** @type {TuliaEditor.Document.Application.Service.StructureEntityDataAccessor} entityDataAccessor */\n        constructor (nodeStorage, document, entityDataAccessor) {\n            /** @type {TuliaEditor.Document.Infrastructure.View.Structure.NodesStorage} */\n            this.nodeStorage = nodeStorage;\n            /** @type {TuliaEditor.Document.Domain.Model.Document} */\n            this.document = document;\n            /** @type {TuliaEditor.Document.Application.Service.StructureEntityDataAccessor} */\n            this.entityDataAccessor = entityDataAccessor;\n        }\n\n        setContentForNodeElement (node, content) {\n            let entity = this.document.get(this.nodeStorage.getIdByNode(node));\n            let property = node.attr('data-tued-editable-bind');\n\n            this.entityDataAccessor.setValue(entity, property, content);\n        }\n    }\n\n    TuliaEditor.ns('TuliaEditor.ContentEditor.Application.Service.StructureContentAccessor', StructureContentAccessor);\n}());\n","(function() {\n    class EditorPublisher {\n        /**\n         * @param {TuliaEditor.ContentEditor.Application.Service.Editor} editor\n         * @param {TuliaEditor.ContentEditor.Application.Service.StructureContentAccessor} accessor\n         */\n        constructor (editor, accessor) {\n            /** @type {TuliaEditor.ContentEditor.Application.Service.Editor} */\n            this.editor = editor;\n            /** @type {TuliaEditor.ContentEditor.Application.Service.StructureContentAccessor} */\n            this.accessor = accessor;\n        }\n\n        createEditor (type, element) {\n            this.editor.createEditorFor(type, element);\n        }\n\n        /**\n         * @param {jQuery} node\n         */\n        closeEditor (node) {\n            if (this.editor.isActiveEditor() === false) {\n                return;\n            }\n\n            if (this.isActiveEditorNode(node)) {\n                return;\n            }\n\n            let editorNode = this.editor.getNodeOfActiveEditor();\n            let content = this.editor.getContent();\n            this.editor.destroy();\n\n            this.accessor.setContentForNodeElement(editorNode, content);\n        }\n\n        rejectChanges () {\n            if (this.editor.isActiveEditor() === false) {\n                return;\n            }\n\n            this.editor.rejectChanges();\n        }\n\n        isActiveEditorNode (node) {\n            let editorNode = this.editor.getNodeOfActiveEditor();\n\n            return jQuery.contains(editorNode[0], node[0]) || editorNode.is(node);\n        }\n    }\n\n    TuliaEditor.ns('TuliaEditor.ContentEditor.Application.EventListener.EditorPublisher', EditorPublisher);\n}());\n","(function() {\n    class PreviewUpdater {\n        /**\n         * @param {TuliaEditor.Document.Application.Service.Exporter} exporter\n         * @param {TuliaEditor.Preview.Infrastructure.View.Preview} view\n         */\n        constructor (exporter, view) {\n            /** @type {TuliaEditor.Document.Application.Service.Exporter} */\n            this.exporter = exporter;\n            /** @type {TuliaEditor.Preview.Infrastructure.View.Preview} */\n            this.view = view;\n        }\n\n        updatePreview () {\n            let exported = this.exporter.export();\n\n            this.view.updateContent(exported.content);\n            this.view.updateStylesheets(exported.styles);\n            this.view.updateJavascripts(exported.scripts);\n        }\n    }\n\n    TuliaEditor.ns('TuliaEditor.Editor.Application.Service.PreviewUpdater', PreviewUpdater);\n}());\n","(function() {\n    class PreviewCreator {\n        /**\n         * @param {TuliaEditor.Preview.Infrastructure.View.Preview} view\n         */\n        constructor (view) {\n            /** @type {TuliaEditor.Preview.Infrastructure.View.Preview} */\n            this.view = view;\n        }\n\n        createPreview () {\n            this.view.create();\n        }\n    }\n\n    TuliaEditor.ns('TuliaEditor.Editor.Application.Service.PreviewCreator', PreviewCreator);\n}());\n","(function() {\n    class UpdatePreview {\n        constructor (previewUpdater) {\n            this.previewUpdater = previewUpdater;\n        }\n\n        updatePreview () {\n            this.previewUpdater.updatePreview();\n        }\n    }\n\n    TuliaEditor.ns('TuliaEditor.Editor.Port.Messaging.EventListener.UpdatePreview', UpdatePreview);\n}());\n","(function() {\n    class PreparePreview {\n        /**\n         * @param {TuliaEditor.Preview.Application.Service.PreviewCreator} previewCreator\n         */\n        constructor (previewCreator) {\n            this.previewCreator = previewCreator;\n        }\n\n        createPreview () {\n            this.previewCreator.createPreview();\n        }\n    }\n\n    TuliaEditor.ns('TuliaEditor.Editor.Port.Messaging.EventListener.PreparePreview', PreparePreview);\n}());\n","(function() {\n    class OpenEditor {\n        /**\n         * @param {TuliaEditor.Editor.Application.Service.Editor} editor\n         */\n        constructor (editor) {\n            this.editor = editor;\n        }\n\n        open () {\n            this.editor.open();\n        }\n\n        close () {\n            this.editor.close();\n        }\n    }\n\n    TuliaEditor.ns('TuliaEditor.Editor.Port.Messaging.EventListener.OpenEditor', OpenEditor);\n}());\n","(function() {\n    class Preview {\n        /** @type {TuliaEditor.Layout.Domain.View.CanvasSizeWatcher} */\n        heightWatcher;\n\n        /** @type {jQuery} */\n        node;\n\n        /**\n         * @param {TuliaEditor.Layout.Infrastructure.View.Layout} layout\n         */\n        constructor (layout) {\n            /** @type {TuliaEditor.Layout.Infrastructure.View.Layout} */\n            this.layout = layout;\n        }\n\n        create () {\n            this.node = this.layout.getPreviewNode();\n\n            let self = this;\n\n            this.heightWatcher = new TuliaEditor.Layout.Domain.View.CanvasSizeWatcher(this.node);\n            this.heightWatcher.onChange(function (height) {\n                self.node.height(height);\n            });\n        }\n\n        updateContent (content) {\n            let node = this.node;\n\n            node.contents().find('body').html(content);\n        }\n\n        updateStylesheets (stylesheets) {\n            let head = this.node.contents().find('head');\n\n            head.find('.tued-preview-stylesheet');\n\n            for (let name in stylesheets) {\n                head.append('<link rel=\"stylesheet\" class=\"tued-preview-stylesheet\" id=\"tued-preview-stylesheet-' + name + '\" href=\"' + stylesheets[name] + '\" />');\n            }\n        }\n\n        updateJavascripts (javascripts) {\n\n        }\n    }\n\n    TuliaEditor.ns('TuliaEditor.Editor.Infrastructure.View.Preview', Preview);\n}());\n","TuliaEditor.services = $.extend({}, TuliaEditor.services, {\n    /**\n     * NS: TuliaEditor.Shared\n     */\n    'TuliaEditor.Shared.DependencyInjection.Container': {\n        'class': TuliaEditor.Shared.DependencyInjection.Container,\n    },\n    'TuliaEditor.Shared.EventDispatcher.EventDispatcher': {\n        'class': TuliaEditor.Shared.EventDispatcher.EventDispatcher,\n    },\n    'TuliaEditor.Shared.EventDispatcher.ListenersRegistrator': {\n        'class': TuliaEditor.Shared.EventDispatcher.ListenersRegistrator,\n        'arguments': [\n            '@TuliaEditor.Shared.DependencyInjection.Container',\n            '@TuliaEditor.Shared.EventDispatcher.EventDispatcher',\n        ],\n    },\n    'TuliaEditor.Shared.I18n.Translator': {\n        'class': TuliaEditor.Shared.I18n.Translator,\n        'arguments': [\n            '@options',\n        ],\n    }\n});\n","TuliaEditor.services = $.extend({}, TuliaEditor.services, {\n    'TuliaEditor.Editor.Port.Messaging.EventListener.UpdatePreview': {\n        'class': TuliaEditor.Editor.Port.Messaging.EventListener.UpdatePreview,\n        'arguments': [\n            '@TuliaEditor.Editor.Application.Service.PreviewUpdater',\n        ],\n        'tags': [\n            {'name': 'event_listener', 'listen': 'domain.document.grid.structure.replace', 'method': 'updatePreview'},\n            {'name': 'event_listener', 'listen': 'layout.view.action.save', 'method': 'updatePreview'},\n        ],\n    },\n    'TuliaEditor.Editor.Port.Messaging.EventListener.PreparePreview': {\n        'class': TuliaEditor.Editor.Port.Messaging.EventListener.PreparePreview,\n        'arguments': [\n            '@TuliaEditor.Editor.Application.Service.PreviewCreator',\n        ],\n        'tags': [\n            {'name': 'event_listener', 'listen': 'editor.ready', 'method': 'createPreview'},\n        ],\n    },\n    'TuliaEditor.Editor.Port.Messaging.EventListener.OpenEditor': {\n        'class': TuliaEditor.Editor.Port.Messaging.EventListener.OpenEditor,\n        'arguments': [\n            '@TuliaEditor.Editor.Application.Service.Editor',\n        ],\n        'tags': [\n            {'name': 'event_listener', 'listen': 'layout.view.action.edit', 'method': 'open'},\n            {'name': 'event_listener', 'listen': 'layout.view.action.cancel', 'method': 'close'},\n            {'name': 'event_listener', 'listen': 'layout.view.action.save', 'method': 'close'},\n        ],\n    },\n    'TuliaEditor.Editor.Application.Service.Editor': {\n        'class': TuliaEditor.Editor.Application.Service.Editor,\n        'arguments': [\n            '@TuliaEditor.Editor.Infrastructure.View.Editor',\n            '@TuliaEditor.Shared.EventDispatcher.EventDispatcher',\n        ],\n    },\n    'TuliaEditor.Editor.Application.Service.PreviewCreator': {\n        'class': TuliaEditor.Editor.Application.Service.PreviewCreator,\n        'arguments': [\n            '@TuliaEditor.Editor.Infrastructure.View.Preview',\n        ],\n    },\n    'TuliaEditor.Editor.Application.Service.PreviewUpdater': {\n        'class': TuliaEditor.Editor.Application.Service.PreviewUpdater,\n        'arguments': [\n            '@TuliaEditor.Document.Application.Service.Exporter',\n            '@TuliaEditor.Editor.Infrastructure.View.Preview',\n        ],\n    },\n    'TuliaEditor.Editor.Infrastructure.View.Preview': {\n        'class': TuliaEditor.Editor.Infrastructure.View.Preview,\n        'arguments': [\n            '@TuliaEditor.Layout.Infrastructure.View.Layout',\n        ],\n    },\n    'TuliaEditor.Editor.Infrastructure.View.Editor': {\n        'class': TuliaEditor.Editor.Infrastructure.View.Editor,\n        'arguments': [\n            '@TuliaEditor.Layout.Infrastructure.View.Layout',\n        ],\n    },\n});\n","TuliaEditor.services = $.extend({}, TuliaEditor.services, {\n    'TuliaEditor.ContextMenu.Domain.Builder': {\n        'class': TuliaEditor.ContextMenu.Domain.Builder,\n        'arguments': [\n            '@TuliaEditor.Shared.EventDispatcher.EventDispatcher',\n            '@TuliaEditor.Document.Domain.Model.Document',\n            '@TuliaEditor.Shared.I18n.Translator',\n        ],\n    },\n    'TuliaEditor.ContextMenu.Infrastructure.Builder': {\n        'class': TuliaEditor.ContextMenu.Infrastructure.Builder,\n    },\n    'TuliaEditor.ContextMenu.Infrastructure.View': {\n        'class': TuliaEditor.ContextMenu.Infrastructure.View,\n        'arguments': [\n            '@TuliaEditor.Layout.Infrastructure.View.Layout',\n            '@TuliaEditor.Layout.Infrastructure.View.Canvas',\n            '@TuliaEditor.Shared.EventDispatcher.EventDispatcher',\n        ],\n        'tags': [\n            {'name': 'initiable'},\n        ],\n    },\n    'TuliaEditor.ContextMenu.Domain.Manager': {\n        'class': TuliaEditor.ContextMenu.Domain.Manager,\n        'arguments': [\n            '@TuliaEditor.ContextMenu.Domain.Builder',\n            '@TuliaEditor.ContextMenu.Infrastructure.Builder',\n            '@TuliaEditor.ContextMenu.Infrastructure.View',\n            '@TuliaEditor.Selection.Application.Service.Selection',\n        ],\n    },\n    'TuliaEditor.ContextMenu.Application.EventListener.VisibilityChange': {\n        'class': TuliaEditor.ContextMenu.Application.EventListener.VisibilityChange,\n        'arguments': [\n            '@TuliaEditor.ContextMenu.Domain.Manager',\n        ],\n        'tags': [\n            {'name': 'event_listener', 'listen': 'layout.contextmenu.document-trigger.hide', 'method': 'hide'},\n            {'name': 'event_listener', 'listen': 'layout.contextmenu.document-trigger.show', 'method': 'show'},\n        ],\n    },\n});\n","TuliaEditor.services = $.extend({}, TuliaEditor.services, {\n    'TuliaEditor.ContentEditor.Infrastructure.Document.DocumentElementResolver': {\n        'class': TuliaEditor.ContentEditor.Infrastructure.Document.DocumentElementResolver,\n        'arguments': [\n            '@TuliaEditor.Layout.Infrastructure.View.Canvas',\n            '@TuliaEditor.Shared.EventDispatcher.EventDispatcher',\n        ],\n        'tags': [\n            {'name': 'event_listener', 'listen': 'layout.canvas.ready', 'method': 'prepareListeners'},\n        ],\n    },\n    'TuliaEditor.ContentEditor.Application.EventListener.EditorPublisher': {\n        'class': TuliaEditor.ContentEditor.Application.EventListener.EditorPublisher,\n        'arguments': [\n            '@TuliaEditor.ContentEditor.Application.Service.Editor',\n            '@TuliaEditor.ContentEditor.Application.Service.StructureContentAccessor',\n        ],\n        'tags': [\n            {'name': 'event_listener', 'listen': 'layout.content-editor.edit', 'method': 'createEditor'},\n            {'name': 'event_listener', 'listen': 'layout.content-editor.close', 'method': 'closeEditor'},\n            {'name': 'event_listener', 'listen': 'layout.content-editor.reject', 'method': 'rejectChanges'},\n        ],\n    },\n    'TuliaEditor.ContentEditor.Application.Service.Editor': {\n        'class': TuliaEditor.ContentEditor.Application.Service.Editor,\n        'arguments': [\n            '@TuliaEditor.Layout.Infrastructure.View.Canvas',\n            '@TuliaEditor.Selection.Application.Service.Selection',\n            '@TuliaEditor.ContentEditor.Infrastructure.Editor.EditorRepository',\n        ],\n    },\n    'TuliaEditor.ContentEditor.Application.Service.StructureContentAccessor': {\n        'class': TuliaEditor.ContentEditor.Application.Service.StructureContentAccessor,\n        'arguments': [\n            '@TuliaEditor.Document.Infrastructure.View.Structure.NodesStorage',\n            '@TuliaEditor.Document.Domain.Model.Document',\n            '@TuliaEditor.Document.Application.Service.StructureEntityDataAccessor',\n        ],\n    },\n    'TuliaEditor.ContentEditor.Infrastructure.Editor.EditorRepository': {\n        'class': TuliaEditor.ContentEditor.Infrastructure.Editor.EditorRepository,\n        'arguments': [\n            '@TuliaEditor.ContentEditor.Infrastructure.Editor.ContenteditableEditor',\n            '@TuliaEditor.ContentEditor.Infrastructure.Editor.SummernoteEditor',\n        ],\n    },\n    'TuliaEditor.ContentEditor.Infrastructure.Editor.ContenteditableEditor': {\n        'class': TuliaEditor.ContentEditor.Infrastructure.Editor.ContenteditableEditor,\n        'arguments': [\n            '@TuliaEditor.Layout.Infrastructure.View.Canvas',\n        ],\n        'tags': [\n            {'name': 'content-editor', 'type': 'inline'},\n        ],\n    },\n    'TuliaEditor.ContentEditor.Infrastructure.Editor.SummernoteEditor': {\n        'class': TuliaEditor.ContentEditor.Infrastructure.Editor.SummernoteEditor,\n        'arguments': [\n            '@TuliaEditor.Layout.Infrastructure.View.Canvas',\n        ],\n        'tags': [\n            {'name': 'content-editor', 'type': 'wysiwyg'},\n        ],\n    },\n});\n","TuliaEditor.services = $.extend({}, TuliaEditor.services, {\n    'TuliaEditor.Selection.Domain.Hover': {\n        'class': TuliaEditor.Selection.Domain.Hover,\n        'arguments': [\n            '@TuliaEditor.Shared.EventDispatcher.EventDispatcher',\n            '@TuliaEditor.Selection.Domain.Selection',\n        ],\n    },\n    'TuliaEditor.Selection.Domain.Selection': {\n        'class': TuliaEditor.Selection.Domain.Selection,\n        'arguments': [\n            '@TuliaEditor.Shared.EventDispatcher.EventDispatcher',\n            '@TuliaEditor.Document.Domain.Model.Document',\n        ],\n    },\n    'TuliaEditor.Selection.Infrastructure.Selection': {\n        'class': TuliaEditor.Selection.Infrastructure.Selection,\n        'arguments': [\n            '@TuliaEditor.Shared.EventDispatcher.EventDispatcher',\n            '@TuliaEditor.Layout.Infrastructure.View.Layout',\n        ],\n    },\n    'TuliaEditor.Selection.Infrastructure.Hover': {\n        'class': TuliaEditor.Selection.Infrastructure.Hover,\n        'arguments': [\n            '@TuliaEditor.Layout.Infrastructure.View.Layout',\n        ],\n    },\n    'TuliaEditor.Selection.Infrastructure.UserInterface.CanvasEvents': {\n        'class': TuliaEditor.Selection.Infrastructure.UserInterface.CanvasEvents,\n        'arguments': [\n            '@TuliaEditor.Shared.EventDispatcher.EventDispatcher',\n            '@TuliaEditor.Layout.Infrastructure.View.Canvas',\n        ],\n    },\n    'TuliaEditor.Selection.Infrastructure.ElementBoundaries': {\n        'class': TuliaEditor.Selection.Infrastructure.ElementBoundaries,\n        'arguments': [\n            '@TuliaEditor.Layout.Infrastructure.View.Canvas',\n            '@TuliaEditor.Document.Infrastructure.View.Structure.NodesStorage',\n        ],\n    },\n    'TuliaEditor.Selection.Domain.Actions.Collector': {\n        'class': TuliaEditor.Selection.Domain.Actions.Collector,\n        'arguments': [\n            '@TuliaEditor.Shared.EventDispatcher.EventDispatcher',\n        ],\n    },\n    'TuliaEditor.Selection.Application.EventListener.Domain.CollectSelectedActions': {\n        'class': TuliaEditor.Selection.Application.EventListener.Domain.CollectSelectedActions,\n        'arguments': [\n            '@TuliaEditor.Selection.Application.Service.Selection',\n            '@TuliaEditor.Shared.I18n.Translator',\n        ],\n        'tags': [\n            {'name': 'event_listener', 'listen': 'domain.selection.actions.selected', 'method': 'collect'},\n        ],\n    },\n    'TuliaEditor.Selection.Application.EventListener.Domain.ExecuteSelectedAction': {\n        'class': TuliaEditor.Selection.Application.EventListener.Domain.ExecuteSelectedAction,\n        'arguments': [\n            '@TuliaEditor.Selection.Application.Service.Selection',\n        ],\n        'tags': [\n            {'name': 'event_listener', 'listen': 'layout.selection.selected.action', 'method': 'executeCallbackOnSelected'},\n        ],\n    },\n    'TuliaEditor.Selection.Application.EventListener.UserInterfaceEvents.UpdateSelectionPosition': {\n        'class': TuliaEditor.Selection.Application.EventListener.UserInterfaceEvents.UpdateSelectionPosition,\n        'arguments': [\n            '@TuliaEditor.Selection.Application.Service.Selection',\n            '@TuliaEditor.Selection.Infrastructure.Selection',\n            '@TuliaEditor.Shared.I18n.Translator',\n            '@TuliaEditor.Document.Infrastructure.View.Structure.NodesStorage',\n            '@TuliaEditor.Selection.Domain.Actions.Collector',\n        ],\n        'tags': [\n            {'name': 'event_listener', 'listen': 'layout.selection.canvas.resize', 'method': 'updatePosition'},\n            {'name': 'event_listener', 'listen': 'layout.selection.canvas.scroll', 'method': 'updatePosition'},\n            {'name': 'event_listener', 'listen': 'layout.layout.edit_control.change', 'method': 'updatePosition', 'priority': -1000},\n            {'name': 'event_listener', 'listen': 'domain.selection.hide', 'method': 'hide'},\n            {'name': 'event_listener', 'listen': 'domain.selection.show', 'method': 'show'},\n        ],\n    },\n    'TuliaEditor.Selection.Application.EventListener.UserInterfaceEvents.UpdateHoverPosition': {\n        'class': TuliaEditor.Selection.Application.EventListener.UserInterfaceEvents.UpdateHoverPosition,\n        'arguments': [\n            '@TuliaEditor.Selection.Application.Service.Hover',\n            '@TuliaEditor.Selection.Infrastructure.Hover',\n        ],\n        'tags': [\n            {'name': 'event_listener', 'listen': 'layout.selection.canvas.resize', 'method': 'updatePosition'},\n            {'name': 'event_listener', 'listen': 'layout.selection.canvas.scroll', 'method': 'updatePosition'},\n            {'name': 'event_listener', 'listen': 'layout.layout.edit_control.change', 'method': 'updatePosition', 'priority': -1000},\n            {'name': 'event_listener', 'listen': 'domain.selection.hover.hide', 'method': 'hide'},\n            {'name': 'event_listener', 'listen': 'domain.selection.hover.show', 'method': 'show'},\n        ],\n    },\n    'TuliaEditor.Selection.Application.EventListener.ExternalDomainEvents.SelectionVisibility': {\n        'class': TuliaEditor.Selection.Application.EventListener.ExternalDomainEvents.SelectionVisibility,\n        'arguments': [\n            '@TuliaEditor.Selection.Application.Service.Selection',\n        ],\n        'tags': [\n            {'name': 'event_listener', 'listen': 'domain.document.grid.element.inserted', 'method': 'selectInsertedElement'},\n            {'name': 'event_listener', 'listen': 'domain.document.grid.element.removed', 'method': 'hideSelection'},\n        ],\n    },\n    'TuliaEditor.Selection.Application.EventListener.UserInterfaceEvents.SelectElement': {\n        'class': TuliaEditor.Selection.Application.EventListener.UserInterfaceEvents.SelectElement,\n        'arguments': [\n            '@TuliaEditor.Selection.Application.Service.Selection',\n        ],\n        'tags': [\n            {'name': 'event_listener', 'listen': 'layout.selection.selectable.click', 'method': 'selectNodeElement'},\n            {'name': 'event_listener', 'listen': 'layout.selection.canvas.click', 'method': 'hideSelection'},\n        ],\n    },\n    'TuliaEditor.Selection.Application.EventListener.UserInterfaceEvents.HoverElement': {\n        'class': TuliaEditor.Selection.Application.EventListener.UserInterfaceEvents.HoverElement,\n        'arguments': [\n            '@TuliaEditor.Selection.Application.Service.Hover',\n        ],\n        'tags': [\n            {'name': 'event_listener', 'listen': 'layout.selection.hoverable.enter', 'method': 'showFor'},\n            {'name': 'event_listener', 'listen': 'layout.selection.hoverable.leave', 'method': 'hideFor'},\n        ],\n    },\n    'TuliaEditor.Selection.Application.EventListener.PreviewUpdate.SelectionDisabler': {\n        'class': TuliaEditor.Selection.Application.EventListener.PreviewUpdate.SelectionDisabler,\n        'arguments': [\n            '@TuliaEditor.Selection.Infrastructure.Selection',\n            '@TuliaEditor.Selection.Infrastructure.Hover',\n        ],\n        'tags': [\n            {'name': 'event_listener', 'listen': 'domain.selection.disabled', 'method': 'disable'},\n            {'name': 'event_listener', 'listen': 'domain.selection.enabled', 'method': 'enable'},\n        ],\n    },\n    'TuliaEditor.Selection.Application.EventListener.Domain.InitSelection': {\n        'class': TuliaEditor.Selection.Application.EventListener.Domain.InitSelection,\n        'arguments': [\n            '@TuliaEditor.Selection.Application.Service.Initiator',\n        ],\n        'tags': [\n            {'name': 'initiable'},\n        ],\n    },\n    'TuliaEditor.Selection.Application.Service.Selection': {\n        'class': TuliaEditor.Selection.Application.Service.Selection,\n        'arguments': [\n            '@TuliaEditor.Selection.Domain.Selection',\n            '@TuliaEditor.Selection.Infrastructure.Selection',\n            '@TuliaEditor.Selection.Infrastructure.ElementBoundaries',\n        ],\n    },\n    'TuliaEditor.Selection.Application.Service.Hover': {\n        'class': TuliaEditor.Selection.Application.Service.Hover,\n        'arguments': [\n            '@TuliaEditor.Selection.Domain.Hover',\n            '@TuliaEditor.Selection.Infrastructure.Hover',\n            '@TuliaEditor.Selection.Infrastructure.ElementBoundaries',\n        ],\n    },\n    'TuliaEditor.Selection.Application.Service.Initiator': {\n        'class': TuliaEditor.Selection.Application.Service.Initiator,\n        'arguments': [\n            '@TuliaEditor.Selection.Infrastructure.UserInterface.CanvasEvents',\n        ],\n    },\n});\n","TuliaEditor.services = $.extend({}, TuliaEditor.services, {\n    'TuliaEditor.Block.Domain.Block.BlocksRegistry': {\n        'class': TuliaEditor.Block.Domain.Block.BlocksRegistry,\n        'arguments': [\n            '@TuliaEditor.Shared.DependencyInjection.Container',\n        ],\n    },\n    'TuliaEditor.Block.Infrastructure.View.BlockPicker': {\n        'class': TuliaEditor.Block.Infrastructure.View.BlockPicker,\n        'arguments': [\n            '@TuliaEditor.Layout.Domain.Modal.Modals',\n            '@TuliaEditor.Shared.EventDispatcher.EventDispatcher',\n            '@TuliaEditor.Shared.I18n.Translator',\n        ],\n    },\n    'TuliaEditor.Block.Domain.Block.BlockPicker': {\n        'class': TuliaEditor.Block.Domain.Block.BlockPicker,\n        'arguments': [\n            '@TuliaEditor.Block.Domain.Block.BlocksRegistry',\n            '@TuliaEditor.Block.Infrastructure.View.BlockPicker',\n        ],\n    },\n    'TuliaEditor.Block.Application.EventListener.SelectedBlockExecutor': {\n        'class': TuliaEditor.Block.Application.EventListener.SelectedBlockExecutor,\n        'arguments': [\n            '@TuliaEditor.Block.Domain.Block.BlockPicker',\n        ],\n        'tags': [\n            {'name': 'event_listener', 'listen': 'layout.block.picker.pick', 'method': 'executeSelectedCallback'},\n        ],\n    },\n    'TuliaEditor.Block.Application.EventListener.EditControls': {\n        'class': TuliaEditor.Block.Application.EventListener.EditControls,\n        'tags': [\n            {'name': 'event_listener', 'listen': 'domain.layout.edit-controls.collect.block', 'method': 'collectEditControls'},\n        ],\n    },\n    'TuliaEditor.Block.Application.EventListener.UpdateBlockPreview': {\n        'class': TuliaEditor.Block.Application.EventListener.UpdateBlockPreview,\n        'tags': [\n            {'name': 'event_listener', 'listen': 'layout.layout.edit_control.change', 'method': 'update', 'priority': 1000},\n            {'name': 'event_listener', 'listen': 'domain.document.grid.element.updated', 'method': 'update', 'priority': 1000},\n        ],\n    },\n});\n","TuliaEditor.services = $.extend({}, TuliaEditor.services, {\n    /**\n     * NS: TuliaEditor.Layout\n     */\n    'TuliaEditor.Layout.Infrastructure.View.Layout': {\n        'class': TuliaEditor.Layout.Infrastructure.View.Layout,\n        'arguments': [\n            '@root',\n            '@TuliaEditor.Shared.EventDispatcher.EventDispatcher',\n            '@TuliaEditor.Shared.I18n.Translator',\n        ],\n    },\n    'TuliaEditor.Layout.Infrastructure.View.Canvas': {\n        'class': TuliaEditor.Layout.Infrastructure.View.Canvas,\n        'arguments': [\n            '@root',\n            '@TuliaEditor.Shared.EventDispatcher.EventDispatcher',\n        ],\n        'tags': [\n            {'name': 'initiable'},\n        ],\n    },\n    'TuliaEditor.Layout.Domain.View.Layout': {\n        'class': TuliaEditor.Layout.Domain.View.Layout,\n        'arguments': [\n            '@TuliaEditor.Layout.Infrastructure.View.Layout',\n            '@TuliaEditor.Shared.EventDispatcher.EventDispatcher',\n            '@options',\n        ],\n        'tags': [\n            {'name': 'initiable'},\n        ],\n    },\n    'TuliaEditor.Layout.Domain.View.Canvas': {\n        'class': TuliaEditor.Layout.Domain.View.Canvas,\n        'arguments': [\n            '@TuliaEditor.Layout.Infrastructure.View.Canvas',\n            '@TuliaEditor.Document.Infrastructure.FrontendFramework.FrameworkProvider',\n        ],\n        'tags': [\n            {'name': 'initiable'},\n        ],\n    },\n    'TuliaEditor.Layout.Application.EventListener.ChangeCanvasBreakpoint': {\n        'class': TuliaEditor.Layout.Application.EventListener.ChangeCanvasBreakpoint,\n        'arguments': [\n            '@TuliaEditor.Layout.Domain.View.Canvas',\n        ],\n        'tags': [\n            {'name': 'event_listener', 'listen': 'layout.canvas.change_breakpoint', 'method': 'changeBreakpoint'},\n        ],\n    },\n    'TuliaEditor.Layout.Application.EventListener.ChangeCanvasSize': {\n        'class': TuliaEditor.Layout.Application.EventListener.ChangeCanvasSize,\n        'arguments': [\n            '@TuliaEditor.Layout.Infrastructure.View.Layout',\n        ],\n        'tags': [\n            {'name': 'event_listener', 'listen': 'layout.canvas.height_change', 'method': 'changeHeight'},\n        ],\n    },\n    'TuliaEditor.Layout.Application.Service.CanvasSize': {\n        'class': TuliaEditor.Layout.Application.Service.CanvasSize,\n        'arguments': [\n            '@TuliaEditor.Layout.Domain.View.Canvas',\n            '@TuliaEditor.Document.Infrastructure.FrontendFramework.FrameworkProvider',\n        ],\n    },\n    /*'TuliaEditor.Layout.Domain.View.CanvasSizeWatcher': {\n        'class': TuliaEditor.Layout.Domain.View.CanvasSizeWatcher,\n        'arguments': [\n            '@TuliaEditor.Layout.Infrastructure.View.Canvas',\n            '@TuliaEditor.Shared.EventDispatcher.EventDispatcher',\n        ],\n        'tags': [\n            {'name': 'initiable'},\n        ],\n    },*/\n    'TuliaEditor.Layout.Domain.Modal.Modals': {\n        'class': TuliaEditor.Layout.Domain.Modal.Modals,\n        'arguments': [\n            '@TuliaEditor.Layout.Infrastructure.Modal.Modals',\n        ],\n    },\n    'TuliaEditor.Layout.Infrastructure.Modal.Modals': {\n        'class': TuliaEditor.Layout.Infrastructure.Modal.Modals,\n        'arguments': [\n            '@TuliaEditor.Layout.Infrastructure.View.Layout',\n        ],\n    },\n    'TuliaEditor.Layout.Infrastructure.EditControls.Renderer': {\n        'class': TuliaEditor.Layout.Infrastructure.EditControls.Renderer,\n        'arguments': [\n            '@TuliaEditor.Layout.Infrastructure.View.Layout',\n            '@TuliaEditor.Shared.I18n.Translator',\n            '@TuliaEditor.Shared.EventDispatcher.EventDispatcher',\n        ],\n    },\n    'TuliaEditor.Layout.Infrastructure.EditControls.EditControls': {\n        'class': TuliaEditor.Layout.Infrastructure.EditControls.EditControls,\n        'arguments': [\n            '@TuliaEditor.Layout.Infrastructure.View.Layout',\n            '@TuliaEditor.Layout.Infrastructure.EditControls.Renderer',\n        ],\n    },\n    'TuliaEditor.Layout.Application.Command.EditControls': {\n        'class': TuliaEditor.Layout.Application.Command.EditControls,\n        'arguments': [\n            '@TuliaEditor.Layout.Domain.EditControls.Collector',\n            '@TuliaEditor.Layout.Infrastructure.EditControls.EditControls',\n        ],\n    },\n    'TuliaEditor.Layout.Application.EventListener.EditControls': {\n        'class': TuliaEditor.Layout.Application.EventListener.EditControls,\n        'arguments': [\n            '@TuliaEditor.Layout.Application.Command.EditControls',\n        ],\n        'tags': [\n            {'name': 'event_listener', 'listen': 'layout.canvas.change_breakpoint', 'method': 'updateEditControls'},\n            {'name': 'event_listener', 'listen': 'domain.selection.show', 'method': 'showEditControls'},\n            {'name': 'event_listener', 'listen': 'domain.selection.hide', 'method': 'hideEditControls'},\n        ],\n    },\n    'TuliaEditor.Layout.Domain.EditControls.Collector': {\n        'class': TuliaEditor.Layout.Domain.EditControls.Collector,\n        'arguments': [\n            '@TuliaEditor.Shared.EventDispatcher.EventDispatcher',\n            '@TuliaEditor.Document.Domain.Model.Document',\n        ],\n    },\n\n    /**\n     * NS: TuliaEditor.Document\n     */\n    'TuliaEditor.Document.Application.Service.Document': {\n        'class': TuliaEditor.Document.Application.Service.Document,\n        'arguments': [\n            '@options',\n            '@TuliaEditor.Document.Infrastructure.View.Document',\n            '@TuliaEditor.Shared.I18n.Translator',\n        ],\n    },\n    'TuliaEditor.Document.Application.EventListener.Document.PrepareDocument': {\n        'class': TuliaEditor.Document.Application.EventListener.Document.PrepareDocument,\n        'arguments': [\n            '@options',\n            '@TuliaEditor.Document.Domain.Service.SourceParser',\n            '@TuliaEditor.Document.Application.Service.Document',\n            '@TuliaEditor.Document.Domain.Model.Document',\n        ],\n        'tags': [\n            {'name': 'event_listener', 'listen': 'layout.canvas.ready', 'method': 'prepareDocument'},\n        ]\n    },\n    'TuliaEditor.Document.Infrastructure.View.Document': {\n        'class': TuliaEditor.Document.Infrastructure.View.Document,\n        'arguments': [\n            '@TuliaEditor.Layout.Infrastructure.View.Canvas',\n        ],\n    },\n    'TuliaEditor.Document.Infrastructure.View.Structure.NodesStorage': {\n        'class': TuliaEditor.Document.Infrastructure.View.Structure.NodesStorage,\n    },\n    'TuliaEditor.Document.Domain.Model.Document': {\n        'class': TuliaEditor.Document.Domain.Model.Document,\n        'arguments': [\n            '@TuliaEditor.Shared.EventDispatcher.EventDispatcher',\n        ],\n    },\n    'TuliaEditor.Document.Domain.Service.SourceParser': {\n        'class': TuliaEditor.Document.Domain.Service.SourceParser,\n        'arguments': [\n            '@TuliaEditor.Block.Domain.Block.BlocksRegistry',\n        ],\n    },\n    'TuliaEditor.Document.Domain.Service.BlockDuplicator': {\n        'class': TuliaEditor.Document.Domain.Service.BlockDuplicator,\n        'arguments': [\n            '@TuliaEditor.Block.Domain.Block.BlocksRegistry',\n        ],\n    },\n    'TuliaEditor.Document.Infrastructure.View.Grid.Grid': {\n        'class': TuliaEditor.Document.Infrastructure.View.Grid.Grid,\n        'arguments': [\n            '@TuliaEditor.Layout.Infrastructure.View.Canvas',\n            '@TuliaEditor.Document.Infrastructure.View.Grid.Renderer.RendererFactory',\n            '@TuliaEditor.Document.Infrastructure.View.Structure.NodesStorage',\n        ],\n    },\n    'TuliaEditor.Document.Infrastructure.View.Grid.Renderer.RendererFactory': {\n        'class': TuliaEditor.Document.Infrastructure.View.Grid.Renderer.RendererFactory,\n        'arguments': [\n            '@TuliaEditor.Document.Infrastructure.View.Grid.Renderer.SectionRenderer',\n            '@TuliaEditor.Document.Infrastructure.View.Grid.Renderer.RowRenderer',\n            '@TuliaEditor.Document.Infrastructure.View.Grid.Renderer.ColumnRenderer',\n            '@TuliaEditor.Document.Infrastructure.View.Grid.Renderer.BlockRenderer',\n        ],\n    },\n    'TuliaEditor.Document.Infrastructure.View.Grid.Renderer.SectionRenderer': {\n        'class': TuliaEditor.Document.Infrastructure.View.Grid.Renderer.SectionRenderer,\n    },\n    'TuliaEditor.Document.Infrastructure.View.Grid.Renderer.RowRenderer': {\n        'class': TuliaEditor.Document.Infrastructure.View.Grid.Renderer.RowRenderer,\n    },\n    'TuliaEditor.Document.Infrastructure.View.Grid.Renderer.ColumnRenderer': {\n        'class': TuliaEditor.Document.Infrastructure.View.Grid.Renderer.ColumnRenderer,\n        'arguments': [\n            '@TuliaEditor.Document.Infrastructure.FrontendFramework.FrameworkProvider',\n        ],\n    },\n    'TuliaEditor.Document.Infrastructure.View.Grid.Renderer.BlockRenderer': {\n        'class': TuliaEditor.Document.Infrastructure.View.Grid.Renderer.BlockRenderer,\n    },\n    'TuliaEditor.Document.Infrastructure.FrontendFramework.FrameworkProvider': {\n        'class': TuliaEditor.Document.Infrastructure.FrontendFramework.FrameworkProvider,\n        'arguments': [\n            '@options',\n            '@TuliaEditor.Shared.DependencyInjection.Container'\n        ],\n    },\n    'TuliaEditor.Document.Application.EventListener.UI.ContextMenu.RowContextMenu': {\n        'class': TuliaEditor.Document.Application.EventListener.UI.ContextMenu.RowContextMenu,\n        'arguments': [\n            '@TuliaEditor.Shared.I18n.Translator',\n            '@TuliaEditor.Document.Application.Service.StructureManipulator.RowManipulator',\n        ],\n        'tags': [\n            {'name': 'event_listener', 'listen': 'domain.contextmenu.build.row', 'method': 'buildForRow'},\n            {'name': 'event_listener', 'listen': 'domain.contextmenu.build.section', 'method': 'buildForSection'},\n        ]\n    },\n    'TuliaEditor.Document.Application.EventListener.UI.ContextMenu.SectionContextMenu': {\n        'class': TuliaEditor.Document.Application.EventListener.UI.ContextMenu.SectionContextMenu,\n        'arguments': [\n            '@TuliaEditor.Shared.I18n.Translator',\n            '@TuliaEditor.Document.Application.Service.StructureManipulator.SectionManipulator',\n        ],\n        'tags': [\n            {'name': 'event_listener', 'listen': 'domain.contextmenu.build.section', 'method': 'buildForSection'},\n            {'name': 'event_listener', 'listen': 'domain.contextmenu.build.root', 'method': 'buildForRoot'},\n        ]\n    },\n    'TuliaEditor.Document.Application.EventListener.UI.ContextMenu.BlockContextMenu': {\n        'class': TuliaEditor.Document.Application.EventListener.UI.ContextMenu.BlockContextMenu,\n        'arguments': [\n            '@TuliaEditor.Shared.I18n.Translator',\n            '@TuliaEditor.Document.Application.Service.StructureManipulator.BlockManipulator',\n        ],\n        'tags': [\n            {'name': 'event_listener', 'listen': 'domain.contextmenu.build.block', 'method': 'build'},\n            {'name': 'event_listener', 'listen': 'domain.contextmenu.build.column', 'method': 'buildForColumn'},\n        ],\n    },\n    'TuliaEditor.Document.Application.EventListener.UI.EditControls.RowEditControls': {\n        'class': TuliaEditor.Document.Application.EventListener.UI.EditControls.RowEditControls,\n        'tags': [\n            {'name': 'event_listener', 'listen': 'domain.layout.edit-controls.collect.row', 'method': 'collectEditControls'},\n        ],\n    },\n    'TuliaEditor.Document.Application.EventListener.UI.EditControls.ColumnEditControls': {\n        'class': TuliaEditor.Document.Application.EventListener.UI.EditControls.ColumnEditControls,\n        'arguments': [\n            '@TuliaEditor.Layout.Application.Service.CanvasSize',\n        ],\n        'tags': [\n            {'name': 'event_listener', 'listen': 'domain.layout.edit-controls.collect.column', 'method': 'collectEditControls'},\n        ],\n    },\n    'TuliaEditor.Document.Application.Service.Exporter': {\n        'class': TuliaEditor.Document.Application.Service.Exporter,\n        'arguments': [\n            '@options',\n            '@TuliaEditor.Document.Domain.Model.Document',\n            '@TuliaEditor.Document.Infrastructure.View.Grid.Renderer.RendererFactory',\n        ],\n        'tags': [\n            {'name': 'event_listener', 'listen': 'layout.view.action.save', 'method': 'export'},\n        ],\n    },\n    'TuliaEditor.Document.Application.Service.StructureManipulator.SectionManipulator': {\n        'class': TuliaEditor.Document.Application.Service.StructureManipulator.SectionManipulator,\n        'arguments': [\n            '@TuliaEditor.Document.Domain.Model.Document',\n        ],\n    },\n    'TuliaEditor.Document.Application.Service.StructureManipulator.RowManipulator': {\n        'class': TuliaEditor.Document.Application.Service.StructureManipulator.RowManipulator,\n        'arguments': [\n            '@TuliaEditor.Document.Domain.Model.Document',\n            '@TuliaEditor.Document.Infrastructure.FrontendFramework.FrameworkProvider',\n        ],\n    },\n    'TuliaEditor.Document.Application.Service.StructureManipulator.BlockManipulator': {\n        'class': TuliaEditor.Document.Application.Service.StructureManipulator.BlockManipulator,\n        'arguments': [\n            '@TuliaEditor.Block.Domain.Block.BlockPicker',\n            '@TuliaEditor.Document.Domain.Service.BlockDuplicator',\n            '@TuliaEditor.Document.Domain.Model.Document',\n        ],\n    },\n    'TuliaEditor.Document.Application.Service.StructureEntityDataAccessor': {\n        'class': TuliaEditor.Document.Application.Service.StructureEntityDataAccessor,\n        'arguments': [\n            '@TuliaEditor.Shared.EventDispatcher.EventDispatcher',\n        ],\n    },\n    'TuliaEditor.Document.Application.EventListener.UI.SelectedActions': {\n        'class': TuliaEditor.Document.Application.EventListener.UI.SelectedActions,\n        'arguments': [\n            '@TuliaEditor.Document.Domain.Model.Document',\n            '@TuliaEditor.Shared.I18n.Translator',\n            '@TuliaEditor.Document.Application.Service.StructureManipulator.BlockManipulator',\n            '@TuliaEditor.Document.Application.Service.StructureManipulator.RowManipulator',\n            '@TuliaEditor.Document.Application.Service.StructureManipulator.SectionManipulator',\n        ],\n        'tags': [\n            {'name': 'event_listener', 'listen': 'domain.selection.actions.selected', 'method': 'collect', 'priority': -1000},\n        ]\n    },\n    'TuliaEditor.Document.Application.EventListener.Structure.InsertElement': {\n        'class': TuliaEditor.Document.Application.EventListener.Structure.InsertElement,\n        'arguments': [\n            '@TuliaEditor.Document.Infrastructure.View.Grid.Grid',\n        ],\n        'tags': [\n            {'name': 'event_listener', 'listen': 'domain.document.grid.element.inserted', 'method': 'insertElementIntoView', 'priority': 9999},\n        ],\n    },\n    'TuliaEditor.Document.Application.EventListener.Structure.RemoveElement': {\n        'class': TuliaEditor.Document.Application.EventListener.Structure.RemoveElement,\n        'arguments': [\n            '@TuliaEditor.Document.Infrastructure.View.Grid.Grid',\n        ],\n        'tags': [\n            {'name': 'event_listener', 'listen': 'domain.document.grid.element.removed', 'method': 'removeElementFromView', 'priority': 9999},\n        ],\n    },\n    'TuliaEditor.Document.Application.EventListener.Structure.ReplaceWholeStructure': {\n        'class': TuliaEditor.Document.Application.EventListener.Structure.ReplaceWholeStructure,\n        'arguments': [\n            '@TuliaEditor.Document.Infrastructure.View.Grid.Grid',\n        ],\n        'tags': [\n            {'name': 'event_listener', 'listen': 'domain.document.grid.structure.replace', 'method': 'replaceWholeStructure', 'priority': 9999},\n        ],\n    },\n    'TuliaEditor.Document.Application.EventListener.Document.Preview.UpdateColumnPreview': {\n        'class': TuliaEditor.Document.Application.EventListener.Document.Preview.UpdateColumnPreview,\n        'arguments': [\n            '@TuliaEditor.Document.Infrastructure.View.Structure.NodesStorage',\n            '@TuliaEditor.Document.Infrastructure.View.Grid.Renderer.ColumnRenderer',\n        ],\n        'tags': [\n            {'name': 'event_listener', 'listen': 'layout.layout.edit_control.change', 'method': 'updateColumnPreview'},\n        ],\n    },\n});\n"],"sourceRoot":"dist/js"}